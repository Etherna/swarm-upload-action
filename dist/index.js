(()=>{var __webpack_modules__={7351:function(a,C,q){"use strict";var re=this&&this.__createBinding||(Object.create?function(a,C,q,re){if(re===undefined)re=q;Object.defineProperty(a,re,{enumerable:true,get:function(){return C[q]}})}:function(a,C,q,re){if(re===undefined)re=q;a[re]=C[q]});var ae=this&&this.__setModuleDefault||(Object.create?function(a,C){Object.defineProperty(a,"default",{enumerable:true,value:C})}:function(a,C){a["default"]=C});var Ue=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var C={};if(a!=null)for(var q in a)if(q!=="default"&&Object.hasOwnProperty.call(a,q))re(C,a,q);ae(C,a);return C};Object.defineProperty(C,"__esModule",{value:true});C.issue=C.issueCommand=void 0;const Pt=Ue(q(2037));const Wt=q(5278);function issueCommand(a,C,q){const re=new Command(a,C,q);process.stdout.write(re.toString()+Pt.EOL)}C.issueCommand=issueCommand;function issue(a,C=""){issueCommand(a,{},C)}C.issue=issue;const Er="::";class Command{constructor(a,C,q){if(!a){a="missing.command"}this.command=a;this.properties=C;this.message=q}toString(){let a=Er+this.command;if(this.properties&&Object.keys(this.properties).length>0){a+=" ";let C=true;for(const q in this.properties){if(this.properties.hasOwnProperty(q)){const re=this.properties[q];if(re){if(C){C=false}else{a+=","}a+=`${q}=${escapeProperty(re)}`}}}}a+=`${Er}${escapeData(this.message)}`;return a}}function escapeData(a){return Wt.toCommandValue(a).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(a){return Wt.toCommandValue(a).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(a,C,q){"use strict";var re=this&&this.__createBinding||(Object.create?function(a,C,q,re){if(re===undefined)re=q;Object.defineProperty(a,re,{enumerable:true,get:function(){return C[q]}})}:function(a,C,q,re){if(re===undefined)re=q;a[re]=C[q]});var ae=this&&this.__setModuleDefault||(Object.create?function(a,C){Object.defineProperty(a,"default",{enumerable:true,value:C})}:function(a,C){a["default"]=C});var Ue=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var C={};if(a!=null)for(var q in a)if(q!=="default"&&Object.hasOwnProperty.call(a,q))re(C,a,q);ae(C,a);return C};var Pt=this&&this.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};Object.defineProperty(C,"__esModule",{value:true});C.getIDToken=C.getState=C.saveState=C.group=C.endGroup=C.startGroup=C.info=C.notice=C.warning=C.error=C.debug=C.isDebug=C.setFailed=C.setCommandEcho=C.setOutput=C.getBooleanInput=C.getMultilineInput=C.getInput=C.addPath=C.setSecret=C.exportVariable=C.ExitCode=void 0;const Wt=q(7351);const Er=q(717);const Ar=q(5278);const xr=Ue(q(2037));const kr=Ue(q(1017));const Pr=q(8041);var Br;(function(a){a[a["Success"]=0]="Success";a[a["Failure"]=1]="Failure"})(Br=C.ExitCode||(C.ExitCode={}));function exportVariable(a,C){const q=Ar.toCommandValue(C);process.env[a]=q;const re=process.env["GITHUB_ENV"]||"";if(re){const C="_GitHubActionsFileCommandDelimeter_";const re=`${a}<<${C}${xr.EOL}${q}${xr.EOL}${C}`;Er.issueCommand("ENV",re)}else{Wt.issueCommand("set-env",{name:a},q)}}C.exportVariable=exportVariable;function setSecret(a){Wt.issueCommand("add-mask",{},a)}C.setSecret=setSecret;function addPath(a){const C=process.env["GITHUB_PATH"]||"";if(C){Er.issueCommand("PATH",a)}else{Wt.issueCommand("add-path",{},a)}process.env["PATH"]=`${a}${kr.delimiter}${process.env["PATH"]}`}C.addPath=addPath;function getInput(a,C){const q=process.env[`INPUT_${a.replace(/ /g,"_").toUpperCase()}`]||"";if(C&&C.required&&!q){throw new Error(`Input required and not supplied: ${a}`)}if(C&&C.trimWhitespace===false){return q}return q.trim()}C.getInput=getInput;function getMultilineInput(a,C){const q=getInput(a,C).split("\n").filter((a=>a!==""));return q}C.getMultilineInput=getMultilineInput;function getBooleanInput(a,C){const q=["true","True","TRUE"];const re=["false","False","FALSE"];const ae=getInput(a,C);if(q.includes(ae))return true;if(re.includes(ae))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${a}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}C.getBooleanInput=getBooleanInput;function setOutput(a,C){process.stdout.write(xr.EOL);Wt.issueCommand("set-output",{name:a},C)}C.setOutput=setOutput;function setCommandEcho(a){Wt.issue("echo",a?"on":"off")}C.setCommandEcho=setCommandEcho;function setFailed(a){process.exitCode=Br.Failure;error(a)}C.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}C.isDebug=isDebug;function debug(a){Wt.issueCommand("debug",{},a)}C.debug=debug;function error(a,C={}){Wt.issueCommand("error",Ar.toCommandProperties(C),a instanceof Error?a.toString():a)}C.error=error;function warning(a,C={}){Wt.issueCommand("warning",Ar.toCommandProperties(C),a instanceof Error?a.toString():a)}C.warning=warning;function notice(a,C={}){Wt.issueCommand("notice",Ar.toCommandProperties(C),a instanceof Error?a.toString():a)}C.notice=notice;function info(a){process.stdout.write(a+xr.EOL)}C.info=info;function startGroup(a){Wt.issue("group",a)}C.startGroup=startGroup;function endGroup(){Wt.issue("endgroup")}C.endGroup=endGroup;function group(a,C){return Pt(this,void 0,void 0,(function*(){startGroup(a);let q;try{q=yield C()}finally{endGroup()}return q}))}C.group=group;function saveState(a,C){Wt.issueCommand("save-state",{name:a},C)}C.saveState=saveState;function getState(a){return process.env[`STATE_${a}`]||""}C.getState=getState;function getIDToken(a){return Pt(this,void 0,void 0,(function*(){return yield Pr.OidcClient.getIDToken(a)}))}C.getIDToken=getIDToken;var Mr=q(1327);Object.defineProperty(C,"summary",{enumerable:true,get:function(){return Mr.summary}});var Or=q(1327);Object.defineProperty(C,"markdownSummary",{enumerable:true,get:function(){return Or.markdownSummary}})},717:function(a,C,q){"use strict";var re=this&&this.__createBinding||(Object.create?function(a,C,q,re){if(re===undefined)re=q;Object.defineProperty(a,re,{enumerable:true,get:function(){return C[q]}})}:function(a,C,q,re){if(re===undefined)re=q;a[re]=C[q]});var ae=this&&this.__setModuleDefault||(Object.create?function(a,C){Object.defineProperty(a,"default",{enumerable:true,value:C})}:function(a,C){a["default"]=C});var Ue=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var C={};if(a!=null)for(var q in a)if(q!=="default"&&Object.hasOwnProperty.call(a,q))re(C,a,q);ae(C,a);return C};Object.defineProperty(C,"__esModule",{value:true});C.issueCommand=void 0;const Pt=Ue(q(7147));const Wt=Ue(q(2037));const Er=q(5278);function issueCommand(a,C){const q=process.env[`GITHUB_${a}`];if(!q){throw new Error(`Unable to find environment variable for file command ${a}`)}if(!Pt.existsSync(q)){throw new Error(`Missing file at path: ${q}`)}Pt.appendFileSync(q,`${Er.toCommandValue(C)}${Wt.EOL}`,{encoding:"utf8"})}C.issueCommand=issueCommand},8041:function(a,C,q){"use strict";var re=this&&this.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};Object.defineProperty(C,"__esModule",{value:true});C.OidcClient=void 0;const ae=q(6255);const Ue=q(5526);const Pt=q(2186);class OidcClient{static createHttpClient(a=true,C=10){const q={allowRetries:a,maxRetries:C};return new ae.HttpClient("actions/oidc-client",[new Ue.BearerCredentialHandler(OidcClient.getRequestToken())],q)}static getRequestToken(){const a=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!a){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return a}static getIDTokenUrl(){const a=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!a){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return a}static getCall(a){var C;return re(this,void 0,void 0,(function*(){const q=OidcClient.createHttpClient();const re=yield q.getJson(a).catch((a=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${a.statusCode}\n \n        Error Message: ${a.result.message}`)}));const ae=(C=re.result)===null||C===void 0?void 0:C.value;if(!ae){throw new Error("Response json body do not have ID Token field")}return ae}))}static getIDToken(a){return re(this,void 0,void 0,(function*(){try{let C=OidcClient.getIDTokenUrl();if(a){const q=encodeURIComponent(a);C=`${C}&audience=${q}`}Pt.debug(`ID token url is ${C}`);const q=yield OidcClient.getCall(C);Pt.setSecret(q);return q}catch(a){throw new Error(`Error message: ${a.message}`)}}))}}C.OidcClient=OidcClient},1327:function(a,C,q){"use strict";var re=this&&this.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};Object.defineProperty(C,"__esModule",{value:true});C.summary=C.markdownSummary=C.SUMMARY_DOCS_URL=C.SUMMARY_ENV_VAR=void 0;const ae=q(2037);const Ue=q(7147);const{access:Pt,appendFile:Wt,writeFile:Er}=Ue.promises;C.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";C.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return re(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const a=process.env[C.SUMMARY_ENV_VAR];if(!a){throw new Error(`Unable to find environment variable for $${C.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield Pt(a,Ue.constants.R_OK|Ue.constants.W_OK)}catch(C){throw new Error(`Unable to access summary file: '${a}'. Check if the file has correct read/write permissions.`)}this._filePath=a;return this._filePath}))}wrap(a,C,q={}){const re=Object.entries(q).map((([a,C])=>` ${a}="${C}"`)).join("");if(!C){return`<${a}${re}>`}return`<${a}${re}>${C}</${a}>`}write(a){return re(this,void 0,void 0,(function*(){const C=!!(a===null||a===void 0?void 0:a.overwrite);const q=yield this.filePath();const re=C?Er:Wt;yield re(q,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return re(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(a,C=false){this._buffer+=a;return C?this.addEOL():this}addEOL(){return this.addRaw(ae.EOL)}addCodeBlock(a,C){const q=Object.assign({},C&&{lang:C});const re=this.wrap("pre",this.wrap("code",a),q);return this.addRaw(re).addEOL()}addList(a,C=false){const q=C?"ol":"ul";const re=a.map((a=>this.wrap("li",a))).join("");const ae=this.wrap(q,re);return this.addRaw(ae).addEOL()}addTable(a){const C=a.map((a=>{const C=a.map((a=>{if(typeof a==="string"){return this.wrap("td",a)}const{header:C,data:q,colspan:re,rowspan:ae}=a;const Ue=C?"th":"td";const Pt=Object.assign(Object.assign({},re&&{colspan:re}),ae&&{rowspan:ae});return this.wrap(Ue,q,Pt)})).join("");return this.wrap("tr",C)})).join("");const q=this.wrap("table",C);return this.addRaw(q).addEOL()}addDetails(a,C){const q=this.wrap("details",this.wrap("summary",a)+C);return this.addRaw(q).addEOL()}addImage(a,C,q){const{width:re,height:ae}=q||{};const Ue=Object.assign(Object.assign({},re&&{width:re}),ae&&{height:ae});const Pt=this.wrap("img",null,Object.assign({src:a,alt:C},Ue));return this.addRaw(Pt).addEOL()}addHeading(a,C){const q=`h${C}`;const re=["h1","h2","h3","h4","h5","h6"].includes(q)?q:"h1";const ae=this.wrap(re,a);return this.addRaw(ae).addEOL()}addSeparator(){const a=this.wrap("hr",null);return this.addRaw(a).addEOL()}addBreak(){const a=this.wrap("br",null);return this.addRaw(a).addEOL()}addQuote(a,C){const q=Object.assign({},C&&{cite:C});const re=this.wrap("blockquote",a,q);return this.addRaw(re).addEOL()}addLink(a,C){const q=this.wrap("a",a,{href:C});return this.addRaw(q).addEOL()}}const Ar=new Summary;C.markdownSummary=Ar;C.summary=Ar},5278:(a,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});C.toCommandProperties=C.toCommandValue=void 0;function toCommandValue(a){if(a===null||a===undefined){return""}else if(typeof a==="string"||a instanceof String){return a}return JSON.stringify(a)}C.toCommandValue=toCommandValue;function toCommandProperties(a){if(!Object.keys(a).length){return{}}return{title:a.title,file:a.file,line:a.startLine,endLine:a.endLine,col:a.startColumn,endColumn:a.endColumn}}C.toCommandProperties=toCommandProperties},5526:function(a,C){"use strict";var q=this&&this.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};Object.defineProperty(C,"__esModule",{value:true});C.PersonalAccessTokenCredentialHandler=C.BearerCredentialHandler=C.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(a,C){this.username=a;this.password=C}prepareRequest(a){if(!a.headers){throw Error("The request has no headers")}a.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return q(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}C.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(a){this.token=a}prepareRequest(a){if(!a.headers){throw Error("The request has no headers")}a.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return q(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}C.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(a){this.token=a}prepareRequest(a){if(!a.headers){throw Error("The request has no headers")}a.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return q(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}C.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},6255:function(a,C,q){"use strict";var re=this&&this.__createBinding||(Object.create?function(a,C,q,re){if(re===undefined)re=q;Object.defineProperty(a,re,{enumerable:true,get:function(){return C[q]}})}:function(a,C,q,re){if(re===undefined)re=q;a[re]=C[q]});var ae=this&&this.__setModuleDefault||(Object.create?function(a,C){Object.defineProperty(a,"default",{enumerable:true,value:C})}:function(a,C){a["default"]=C});var Ue=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var C={};if(a!=null)for(var q in a)if(q!=="default"&&Object.hasOwnProperty.call(a,q))re(C,a,q);ae(C,a);return C};var Pt=this&&this.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};Object.defineProperty(C,"__esModule",{value:true});C.HttpClient=C.isHttps=C.HttpClientResponse=C.HttpClientError=C.getProxyUrl=C.MediaTypes=C.Headers=C.HttpCodes=void 0;const Wt=Ue(q(3685));const Er=Ue(q(5687));const Ar=Ue(q(9835));const xr=Ue(q(4294));var kr;(function(a){a[a["OK"]=200]="OK";a[a["MultipleChoices"]=300]="MultipleChoices";a[a["MovedPermanently"]=301]="MovedPermanently";a[a["ResourceMoved"]=302]="ResourceMoved";a[a["SeeOther"]=303]="SeeOther";a[a["NotModified"]=304]="NotModified";a[a["UseProxy"]=305]="UseProxy";a[a["SwitchProxy"]=306]="SwitchProxy";a[a["TemporaryRedirect"]=307]="TemporaryRedirect";a[a["PermanentRedirect"]=308]="PermanentRedirect";a[a["BadRequest"]=400]="BadRequest";a[a["Unauthorized"]=401]="Unauthorized";a[a["PaymentRequired"]=402]="PaymentRequired";a[a["Forbidden"]=403]="Forbidden";a[a["NotFound"]=404]="NotFound";a[a["MethodNotAllowed"]=405]="MethodNotAllowed";a[a["NotAcceptable"]=406]="NotAcceptable";a[a["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";a[a["RequestTimeout"]=408]="RequestTimeout";a[a["Conflict"]=409]="Conflict";a[a["Gone"]=410]="Gone";a[a["TooManyRequests"]=429]="TooManyRequests";a[a["InternalServerError"]=500]="InternalServerError";a[a["NotImplemented"]=501]="NotImplemented";a[a["BadGateway"]=502]="BadGateway";a[a["ServiceUnavailable"]=503]="ServiceUnavailable";a[a["GatewayTimeout"]=504]="GatewayTimeout"})(kr=C.HttpCodes||(C.HttpCodes={}));var Pr;(function(a){a["Accept"]="accept";a["ContentType"]="content-type"})(Pr=C.Headers||(C.Headers={}));var Br;(function(a){a["ApplicationJson"]="application/json"})(Br=C.MediaTypes||(C.MediaTypes={}));function getProxyUrl(a){const C=Ar.getProxyUrl(new URL(a));return C?C.href:""}C.getProxyUrl=getProxyUrl;const Mr=[kr.MovedPermanently,kr.ResourceMoved,kr.SeeOther,kr.TemporaryRedirect,kr.PermanentRedirect];const Or=[kr.BadGateway,kr.ServiceUnavailable,kr.GatewayTimeout];const Ir=["OPTIONS","GET","DELETE","HEAD"];const Nr=10;const jr=5;class HttpClientError extends Error{constructor(a,C){super(a);this.name="HttpClientError";this.statusCode=C;Object.setPrototypeOf(this,HttpClientError.prototype)}}C.HttpClientError=HttpClientError;class HttpClientResponse{constructor(a){this.message=a}readBody(){return Pt(this,void 0,void 0,(function*(){return new Promise((a=>Pt(this,void 0,void 0,(function*(){let C=Buffer.alloc(0);this.message.on("data",(a=>{C=Buffer.concat([C,a])}));this.message.on("end",(()=>{a(C.toString())}))}))))}))}}C.HttpClientResponse=HttpClientResponse;function isHttps(a){const C=new URL(a);return C.protocol==="https:"}C.isHttps=isHttps;class HttpClient{constructor(a,C,q){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=a;this.handlers=C||[];this.requestOptions=q;if(q){if(q.ignoreSslError!=null){this._ignoreSslError=q.ignoreSslError}this._socketTimeout=q.socketTimeout;if(q.allowRedirects!=null){this._allowRedirects=q.allowRedirects}if(q.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=q.allowRedirectDowngrade}if(q.maxRedirects!=null){this._maxRedirects=Math.max(q.maxRedirects,0)}if(q.keepAlive!=null){this._keepAlive=q.keepAlive}if(q.allowRetries!=null){this._allowRetries=q.allowRetries}if(q.maxRetries!=null){this._maxRetries=q.maxRetries}}}options(a,C){return Pt(this,void 0,void 0,(function*(){return this.request("OPTIONS",a,null,C||{})}))}get(a,C){return Pt(this,void 0,void 0,(function*(){return this.request("GET",a,null,C||{})}))}del(a,C){return Pt(this,void 0,void 0,(function*(){return this.request("DELETE",a,null,C||{})}))}post(a,C,q){return Pt(this,void 0,void 0,(function*(){return this.request("POST",a,C,q||{})}))}patch(a,C,q){return Pt(this,void 0,void 0,(function*(){return this.request("PATCH",a,C,q||{})}))}put(a,C,q){return Pt(this,void 0,void 0,(function*(){return this.request("PUT",a,C,q||{})}))}head(a,C){return Pt(this,void 0,void 0,(function*(){return this.request("HEAD",a,null,C||{})}))}sendStream(a,C,q,re){return Pt(this,void 0,void 0,(function*(){return this.request(a,C,q,re)}))}getJson(a,C={}){return Pt(this,void 0,void 0,(function*(){C[Pr.Accept]=this._getExistingOrDefaultHeader(C,Pr.Accept,Br.ApplicationJson);const q=yield this.get(a,C);return this._processResponse(q,this.requestOptions)}))}postJson(a,C,q={}){return Pt(this,void 0,void 0,(function*(){const re=JSON.stringify(C,null,2);q[Pr.Accept]=this._getExistingOrDefaultHeader(q,Pr.Accept,Br.ApplicationJson);q[Pr.ContentType]=this._getExistingOrDefaultHeader(q,Pr.ContentType,Br.ApplicationJson);const ae=yield this.post(a,re,q);return this._processResponse(ae,this.requestOptions)}))}putJson(a,C,q={}){return Pt(this,void 0,void 0,(function*(){const re=JSON.stringify(C,null,2);q[Pr.Accept]=this._getExistingOrDefaultHeader(q,Pr.Accept,Br.ApplicationJson);q[Pr.ContentType]=this._getExistingOrDefaultHeader(q,Pr.ContentType,Br.ApplicationJson);const ae=yield this.put(a,re,q);return this._processResponse(ae,this.requestOptions)}))}patchJson(a,C,q={}){return Pt(this,void 0,void 0,(function*(){const re=JSON.stringify(C,null,2);q[Pr.Accept]=this._getExistingOrDefaultHeader(q,Pr.Accept,Br.ApplicationJson);q[Pr.ContentType]=this._getExistingOrDefaultHeader(q,Pr.ContentType,Br.ApplicationJson);const ae=yield this.patch(a,re,q);return this._processResponse(ae,this.requestOptions)}))}request(a,C,q,re){return Pt(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const ae=new URL(C);let Ue=this._prepareRequest(a,ae,re);const Pt=this._allowRetries&&Ir.includes(a)?this._maxRetries+1:1;let Wt=0;let Er;do{Er=yield this.requestRaw(Ue,q);if(Er&&Er.message&&Er.message.statusCode===kr.Unauthorized){let a;for(const C of this.handlers){if(C.canHandleAuthentication(Er)){a=C;break}}if(a){return a.handleAuthentication(this,Ue,q)}else{return Er}}let C=this._maxRedirects;while(Er.message.statusCode&&Mr.includes(Er.message.statusCode)&&this._allowRedirects&&C>0){const Pt=Er.message.headers["location"];if(!Pt){break}const Wt=new URL(Pt);if(ae.protocol==="https:"&&ae.protocol!==Wt.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield Er.readBody();if(Wt.hostname!==ae.hostname){for(const a in re){if(a.toLowerCase()==="authorization"){delete re[a]}}}Ue=this._prepareRequest(a,Wt,re);Er=yield this.requestRaw(Ue,q);C--}if(!Er.message.statusCode||!Or.includes(Er.message.statusCode)){return Er}Wt+=1;if(Wt<Pt){yield Er.readBody();yield this._performExponentialBackoff(Wt)}}while(Wt<Pt);return Er}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(a,C){return Pt(this,void 0,void 0,(function*(){return new Promise(((q,re)=>{function callbackForResult(a,C){if(a){re(a)}else if(!C){re(new Error("Unknown error"))}else{q(C)}}this.requestRawWithCallback(a,C,callbackForResult)}))}))}requestRawWithCallback(a,C,q){if(typeof C==="string"){if(!a.options.headers){a.options.headers={}}a.options.headers["Content-Length"]=Buffer.byteLength(C,"utf8")}let re=false;function handleResult(a,C){if(!re){re=true;q(a,C)}}const ae=a.httpModule.request(a.options,(a=>{const C=new HttpClientResponse(a);handleResult(undefined,C)}));let Ue;ae.on("socket",(a=>{Ue=a}));ae.setTimeout(this._socketTimeout||3*6e4,(()=>{if(Ue){Ue.end()}handleResult(new Error(`Request timeout: ${a.options.path}`))}));ae.on("error",(function(a){handleResult(a)}));if(C&&typeof C==="string"){ae.write(C,"utf8")}if(C&&typeof C!=="string"){C.on("close",(function(){ae.end()}));C.pipe(ae)}else{ae.end()}}getAgent(a){const C=new URL(a);return this._getAgent(C)}_prepareRequest(a,C,q){const re={};re.parsedUrl=C;const ae=re.parsedUrl.protocol==="https:";re.httpModule=ae?Er:Wt;const Ue=ae?443:80;re.options={};re.options.host=re.parsedUrl.hostname;re.options.port=re.parsedUrl.port?parseInt(re.parsedUrl.port):Ue;re.options.path=(re.parsedUrl.pathname||"")+(re.parsedUrl.search||"");re.options.method=a;re.options.headers=this._mergeHeaders(q);if(this.userAgent!=null){re.options.headers["user-agent"]=this.userAgent}re.options.agent=this._getAgent(re.parsedUrl);if(this.handlers){for(const a of this.handlers){a.prepareRequest(re.options)}}return re}_mergeHeaders(a){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(a||{}))}return lowercaseKeys(a||{})}_getExistingOrDefaultHeader(a,C,q){let re;if(this.requestOptions&&this.requestOptions.headers){re=lowercaseKeys(this.requestOptions.headers)[C]}return a[C]||re||q}_getAgent(a){let C;const q=Ar.getProxyUrl(a);const re=q&&q.hostname;if(this._keepAlive&&re){C=this._proxyAgent}if(this._keepAlive&&!re){C=this._agent}if(C){return C}const ae=a.protocol==="https:";let Ue=100;if(this.requestOptions){Ue=this.requestOptions.maxSockets||Wt.globalAgent.maxSockets}if(q&&q.hostname){const a={maxSockets:Ue,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(q.username||q.password)&&{proxyAuth:`${q.username}:${q.password}`}),{host:q.hostname,port:q.port})};let re;const Pt=q.protocol==="https:";if(ae){re=Pt?xr.httpsOverHttps:xr.httpsOverHttp}else{re=Pt?xr.httpOverHttps:xr.httpOverHttp}C=re(a);this._proxyAgent=C}if(this._keepAlive&&!C){const a={keepAlive:this._keepAlive,maxSockets:Ue};C=ae?new Er.Agent(a):new Wt.Agent(a);this._agent=C}if(!C){C=ae?Er.globalAgent:Wt.globalAgent}if(ae&&this._ignoreSslError){C.options=Object.assign(C.options||{},{rejectUnauthorized:false})}return C}_performExponentialBackoff(a){return Pt(this,void 0,void 0,(function*(){a=Math.min(Nr,a);const C=jr*Math.pow(2,a);return new Promise((a=>setTimeout((()=>a()),C)))}))}_processResponse(a,C){return Pt(this,void 0,void 0,(function*(){return new Promise(((q,re)=>Pt(this,void 0,void 0,(function*(){const ae=a.message.statusCode||0;const Ue={statusCode:ae,result:null,headers:{}};if(ae===kr.NotFound){q(Ue)}function dateTimeDeserializer(a,C){if(typeof C==="string"){const a=new Date(C);if(!isNaN(a.valueOf())){return a}}return C}let Pt;let Wt;try{Wt=yield a.readBody();if(Wt&&Wt.length>0){if(C&&C.deserializeDates){Pt=JSON.parse(Wt,dateTimeDeserializer)}else{Pt=JSON.parse(Wt)}Ue.result=Pt}Ue.headers=a.message.headers}catch(a){}if(ae>299){let a;if(Pt&&Pt.message){a=Pt.message}else if(Wt&&Wt.length>0){a=Wt}else{a=`Failed request: (${ae})`}const C=new HttpClientError(a,ae);C.result=Ue.result;re(C)}else{q(Ue)}}))))}))}}C.HttpClient=HttpClient;const lowercaseKeys=a=>Object.keys(a).reduce(((C,q)=>(C[q.toLowerCase()]=a[q],C)),{})},9835:(a,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});C.checkBypass=C.getProxyUrl=void 0;function getProxyUrl(a){const C=a.protocol==="https:";if(checkBypass(a)){return undefined}const q=(()=>{if(C){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(q){return new URL(q)}else{return undefined}}C.getProxyUrl=getProxyUrl;function checkBypass(a){if(!a.hostname){return false}const C=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!C){return false}let q;if(a.port){q=Number(a.port)}else if(a.protocol==="http:"){q=80}else if(a.protocol==="https:"){q=443}const re=[a.hostname.toUpperCase()];if(typeof q==="number"){re.push(`${re[0]}:${q}`)}for(const a of C.split(",").map((a=>a.trim().toUpperCase())).filter((a=>a))){if(re.some((C=>C===a))){return true}}return false}C.checkBypass=checkBypass},7921:(a,C,q)=>{"use strict";var re;re={value:true};C.zB=re=re=re=re=C.Lg=C.lW=C.rL=C.TC=C.tA=re=C.gO=void 0;const ae=q(5978);const Ue=q(76);C.gO=27;re=228;C.tA=250;C.TC=251;C.rL=64;var Pt;(function(a){a["FEED"]="feed";a["MANIFEST"]="manifest"})(Pt=C.lW||(C.lW={}));const Wt={[C.TC]:Pt.FEED,[C.tA]:Pt.MANIFEST};function encodeReference(a,q){switch(q){case Pt.FEED:return _encodeReference(a,C.TC);case Pt.MANIFEST:return _encodeReference(a,C.tA);default:throw new Error("Unknown reference type.")}}C.Lg=encodeReference;function encodeFeedReference(a){return _encodeReference(a,C.TC)}re=encodeFeedReference;function encodeManifestReference(a){return _encodeReference(a,C.tA)}re=encodeManifestReference;function decodeFeedCid(a){const C=_decodeReference(a);if(C.type!==Pt.FEED){throw new Error("CID did not have Swarm Feed codec!")}return C.reference}re=decodeFeedCid;function decodeManifestCid(a){const C=_decodeReference(a);if(C.type!==Pt.MANIFEST){throw new Error("CID did not have Swarm Manifest codec!")}return C.reference}re=decodeManifestCid;function decodeCid(a){return _decodeReference(a)}C.zB=decodeCid;function _decodeReference(a){if(typeof a==="string"){a=ae.CID.parse(a)}return{reference:bytesToHex(a.multihash.digest),type:Wt[a.code]}}function _encodeReference(a,q){assertReference(a);const re=hexToBytes(a);return ae.CID.createV1(q,(0,Ue.create)(C.gO,re))}function hexToBytes(a){assertHexString(a);const C=new Uint8Array(a.length/2);for(let q=0;q<C.length;q++){const re=a.substr(q*2,2);C[q]=parseInt(re,16)}return C}function bytesToHex(a,C){const hexByte=a=>a.toString(16).padStart(2,"0");const q=Array.from(a,hexByte).join("");if(C&&q.length!==C){throw new TypeError(`Resulting HexString does not have expected length ${C}: ${q}`)}return q}function isHexString(a,C){return typeof a==="string"&&/^[0-9a-f]+$/i.test(a)&&(!C||a.length===C)}function assertHexString(a,C,q="value"){if(!isHexString(a,C)){const re=C?` of length ${C}`:"";throw new TypeError(`${q} not valid hex string${re}: ${a}`)}}function assertReference(a){assertHexString(a);if(a.length!==C.rL){throw new TypeError(`Reference does not have expected length 64 characters. Encrypted references are not supported.`)}}},1659:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(4697);class AbortSignal extends re.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const a=ae.get(this);if(typeof a!=="boolean"){throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`)}return a}}re.defineEventAttribute(AbortSignal.prototype,"abort");function createAbortSignal(){const a=Object.create(AbortSignal.prototype);re.EventTarget.call(a);ae.set(a,false);return a}function abortSignal(a){if(ae.get(a)!==false){return}ae.set(a,true);a.dispatchEvent({type:"abort"})}const ae=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:true}});if(typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol"){Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:true,value:"AbortSignal"})}class AbortController{constructor(){Ue.set(this,createAbortSignal())}get signal(){return getSignal(this)}abort(){abortSignal(getSignal(this))}}const Ue=new WeakMap;function getSignal(a){const C=Ue.get(a);if(C==null){throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${a===null?"null":typeof a}`)}return C}Object.defineProperties(AbortController.prototype,{signal:{enumerable:true},abort:{enumerable:true}});if(typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol"){Object.defineProperty(AbortController.prototype,Symbol.toStringTag,{configurable:true,value:"AbortController"})}C.AbortController=AbortController;C.AbortSignal=AbortSignal;C["default"]=AbortController;a.exports=AbortController;a.exports.AbortController=a.exports["default"]=AbortController;a.exports.AbortSignal=AbortSignal},6641:function(a,C,q){a=q.nmd(a);(function(a,C){"use strict";function assert(a,C){if(!a)throw new Error(C||"Assertion failed")}function inherits(a,C){a.super_=C;var TempCtor=function(){};TempCtor.prototype=C.prototype;a.prototype=new TempCtor;a.prototype.constructor=a}function BN(a,C,q){if(BN.isBN(a)){return a}this.negative=0;this.words=null;this.length=0;this.red=null;if(a!==null){if(C==="le"||C==="be"){q=C;C=10}this._init(a||0,C||10,q||"be")}}if(typeof a==="object"){a.exports=BN}else{C.BN=BN}BN.BN=BN;BN.wordSize=26;var re;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){re=window.Buffer}else{re=q(4300).Buffer}}catch(a){}BN.isBN=function isBN(a){if(a instanceof BN){return true}return a!==null&&typeof a==="object"&&a.constructor.wordSize===BN.wordSize&&Array.isArray(a.words)};BN.max=function max(a,C){if(a.cmp(C)>0)return a;return C};BN.min=function min(a,C){if(a.cmp(C)<0)return a;return C};BN.prototype._init=function init(a,C,q){if(typeof a==="number"){return this._initNumber(a,C,q)}if(typeof a==="object"){return this._initArray(a,C,q)}if(C==="hex"){C=16}assert(C===(C|0)&&C>=2&&C<=36);a=a.toString().replace(/\s+/g,"");var re=0;if(a[0]==="-"){re++;this.negative=1}if(re<a.length){if(C===16){this._parseHex(a,re,q)}else{this._parseBase(a,C,re);if(q==="le"){this._initArray(this.toArray(),C,q)}}}};BN.prototype._initNumber=function _initNumber(a,C,q){if(a<0){this.negative=1;a=-a}if(a<67108864){this.words=[a&67108863];this.length=1}else if(a<4503599627370496){this.words=[a&67108863,a/67108864&67108863];this.length=2}else{assert(a<9007199254740992);this.words=[a&67108863,a/67108864&67108863,1];this.length=3}if(q!=="le")return;this._initArray(this.toArray(),C,q)};BN.prototype._initArray=function _initArray(a,C,q){assert(typeof a.length==="number");if(a.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(a.length/3);this.words=new Array(this.length);for(var re=0;re<this.length;re++){this.words[re]=0}var ae,Ue;var Pt=0;if(q==="be"){for(re=a.length-1,ae=0;re>=0;re-=3){Ue=a[re]|a[re-1]<<8|a[re-2]<<16;this.words[ae]|=Ue<<Pt&67108863;this.words[ae+1]=Ue>>>26-Pt&67108863;Pt+=24;if(Pt>=26){Pt-=26;ae++}}}else if(q==="le"){for(re=0,ae=0;re<a.length;re+=3){Ue=a[re]|a[re+1]<<8|a[re+2]<<16;this.words[ae]|=Ue<<Pt&67108863;this.words[ae+1]=Ue>>>26-Pt&67108863;Pt+=24;if(Pt>=26){Pt-=26;ae++}}}return this.strip()};function parseHex4Bits(a,C){var q=a.charCodeAt(C);if(q>=65&&q<=70){return q-55}else if(q>=97&&q<=102){return q-87}else{return q-48&15}}function parseHexByte(a,C,q){var re=parseHex4Bits(a,q);if(q-1>=C){re|=parseHex4Bits(a,q-1)<<4}return re}BN.prototype._parseHex=function _parseHex(a,C,q){this.length=Math.ceil((a.length-C)/6);this.words=new Array(this.length);for(var re=0;re<this.length;re++){this.words[re]=0}var ae=0;var Ue=0;var Pt;if(q==="be"){for(re=a.length-1;re>=C;re-=2){Pt=parseHexByte(a,C,re)<<ae;this.words[Ue]|=Pt&67108863;if(ae>=18){ae-=18;Ue+=1;this.words[Ue]|=Pt>>>26}else{ae+=8}}}else{var Wt=a.length-C;for(re=Wt%2===0?C+1:C;re<a.length;re+=2){Pt=parseHexByte(a,C,re)<<ae;this.words[Ue]|=Pt&67108863;if(ae>=18){ae-=18;Ue+=1;this.words[Ue]|=Pt>>>26}else{ae+=8}}}this.strip()};function parseBase(a,C,q,re){var ae=0;var Ue=Math.min(a.length,q);for(var Pt=C;Pt<Ue;Pt++){var Wt=a.charCodeAt(Pt)-48;ae*=re;if(Wt>=49){ae+=Wt-49+10}else if(Wt>=17){ae+=Wt-17+10}else{ae+=Wt}}return ae}BN.prototype._parseBase=function _parseBase(a,C,q){this.words=[0];this.length=1;for(var re=0,ae=1;ae<=67108863;ae*=C){re++}re--;ae=ae/C|0;var Ue=a.length-q;var Pt=Ue%re;var Wt=Math.min(Ue,Ue-Pt)+q;var Er=0;for(var Ar=q;Ar<Wt;Ar+=re){Er=parseBase(a,Ar,Ar+re,C);this.imuln(ae);if(this.words[0]+Er<67108864){this.words[0]+=Er}else{this._iaddn(Er)}}if(Pt!==0){var xr=1;Er=parseBase(a,Ar,a.length,C);for(Ar=0;Ar<Pt;Ar++){xr*=C}this.imuln(xr);if(this.words[0]+Er<67108864){this.words[0]+=Er}else{this._iaddn(Er)}}this.strip()};BN.prototype.copy=function copy(a){a.words=new Array(this.length);for(var C=0;C<this.length;C++){a.words[C]=this.words[C]}a.length=this.length;a.negative=this.negative;a.red=this.red};BN.prototype.clone=function clone(){var a=new BN(null);this.copy(a);return a};BN.prototype._expand=function _expand(a){while(this.length<a){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ae=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var Ue=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var Pt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(a,C){a=a||10;C=C|0||1;var q;if(a===16||a==="hex"){q="";var re=0;var Wt=0;for(var Er=0;Er<this.length;Er++){var Ar=this.words[Er];var xr=((Ar<<re|Wt)&16777215).toString(16);Wt=Ar>>>24-re&16777215;if(Wt!==0||Er!==this.length-1){q=ae[6-xr.length]+xr+q}else{q=xr+q}re+=2;if(re>=26){re-=26;Er--}}if(Wt!==0){q=Wt.toString(16)+q}while(q.length%C!==0){q="0"+q}if(this.negative!==0){q="-"+q}return q}if(a===(a|0)&&a>=2&&a<=36){var kr=Ue[a];var Pr=Pt[a];q="";var Br=this.clone();Br.negative=0;while(!Br.isZero()){var Mr=Br.modn(Pr).toString(a);Br=Br.idivn(Pr);if(!Br.isZero()){q=ae[kr-Mr.length]+Mr+q}else{q=Mr+q}}if(this.isZero()){q="0"+q}while(q.length%C!==0){q="0"+q}if(this.negative!==0){q="-"+q}return q}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var a=this.words[0];if(this.length===2){a+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){a+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-a:a};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(a,C){assert(typeof re!=="undefined");return this.toArrayLike(re,a,C)};BN.prototype.toArray=function toArray(a,C){return this.toArrayLike(Array,a,C)};BN.prototype.toArrayLike=function toArrayLike(a,C,q){var re=this.byteLength();var ae=q||Math.max(1,re);assert(re<=ae,"byte array longer than desired length");assert(ae>0,"Requested array length <= 0");this.strip();var Ue=C==="le";var Pt=new a(ae);var Wt,Er;var Ar=this.clone();if(!Ue){for(Er=0;Er<ae-re;Er++){Pt[Er]=0}for(Er=0;!Ar.isZero();Er++){Wt=Ar.andln(255);Ar.iushrn(8);Pt[ae-Er-1]=Wt}}else{for(Er=0;!Ar.isZero();Er++){Wt=Ar.andln(255);Ar.iushrn(8);Pt[Er]=Wt}for(;Er<ae;Er++){Pt[Er]=0}}return Pt};if(Math.clz32){BN.prototype._countBits=function _countBits(a){return 32-Math.clz32(a)}}else{BN.prototype._countBits=function _countBits(a){var C=a;var q=0;if(C>=4096){q+=13;C>>>=13}if(C>=64){q+=7;C>>>=7}if(C>=8){q+=4;C>>>=4}if(C>=2){q+=2;C>>>=2}return q+C}}BN.prototype._zeroBits=function _zeroBits(a){if(a===0)return 26;var C=a;var q=0;if((C&8191)===0){q+=13;C>>>=13}if((C&127)===0){q+=7;C>>>=7}if((C&15)===0){q+=4;C>>>=4}if((C&3)===0){q+=2;C>>>=2}if((C&1)===0){q++}return q};BN.prototype.bitLength=function bitLength(){var a=this.words[this.length-1];var C=this._countBits(a);return(this.length-1)*26+C};function toBitArray(a){var C=new Array(a.bitLength());for(var q=0;q<C.length;q++){var re=q/26|0;var ae=q%26;C[q]=(a.words[re]&1<<ae)>>>ae}return C}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var a=0;for(var C=0;C<this.length;C++){var q=this._zeroBits(this.words[C]);a+=q;if(q!==26)break}return a};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(a){if(this.negative!==0){return this.abs().inotn(a).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(a){if(this.testn(a-1)){return this.notn(a).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(a){while(this.length<a.length){this.words[this.length++]=0}for(var C=0;C<a.length;C++){this.words[C]=this.words[C]|a.words[C]}return this.strip()};BN.prototype.ior=function ior(a){assert((this.negative|a.negative)===0);return this.iuor(a)};BN.prototype.or=function or(a){if(this.length>a.length)return this.clone().ior(a);return a.clone().ior(this)};BN.prototype.uor=function uor(a){if(this.length>a.length)return this.clone().iuor(a);return a.clone().iuor(this)};BN.prototype.iuand=function iuand(a){var C;if(this.length>a.length){C=a}else{C=this}for(var q=0;q<C.length;q++){this.words[q]=this.words[q]&a.words[q]}this.length=C.length;return this.strip()};BN.prototype.iand=function iand(a){assert((this.negative|a.negative)===0);return this.iuand(a)};BN.prototype.and=function and(a){if(this.length>a.length)return this.clone().iand(a);return a.clone().iand(this)};BN.prototype.uand=function uand(a){if(this.length>a.length)return this.clone().iuand(a);return a.clone().iuand(this)};BN.prototype.iuxor=function iuxor(a){var C;var q;if(this.length>a.length){C=this;q=a}else{C=a;q=this}for(var re=0;re<q.length;re++){this.words[re]=C.words[re]^q.words[re]}if(this!==C){for(;re<C.length;re++){this.words[re]=C.words[re]}}this.length=C.length;return this.strip()};BN.prototype.ixor=function ixor(a){assert((this.negative|a.negative)===0);return this.iuxor(a)};BN.prototype.xor=function xor(a){if(this.length>a.length)return this.clone().ixor(a);return a.clone().ixor(this)};BN.prototype.uxor=function uxor(a){if(this.length>a.length)return this.clone().iuxor(a);return a.clone().iuxor(this)};BN.prototype.inotn=function inotn(a){assert(typeof a==="number"&&a>=0);var C=Math.ceil(a/26)|0;var q=a%26;this._expand(C);if(q>0){C--}for(var re=0;re<C;re++){this.words[re]=~this.words[re]&67108863}if(q>0){this.words[re]=~this.words[re]&67108863>>26-q}return this.strip()};BN.prototype.notn=function notn(a){return this.clone().inotn(a)};BN.prototype.setn=function setn(a,C){assert(typeof a==="number"&&a>=0);var q=a/26|0;var re=a%26;this._expand(q+1);if(C){this.words[q]=this.words[q]|1<<re}else{this.words[q]=this.words[q]&~(1<<re)}return this.strip()};BN.prototype.iadd=function iadd(a){var C;if(this.negative!==0&&a.negative===0){this.negative=0;C=this.isub(a);this.negative^=1;return this._normSign()}else if(this.negative===0&&a.negative!==0){a.negative=0;C=this.isub(a);a.negative=1;return C._normSign()}var q,re;if(this.length>a.length){q=this;re=a}else{q=a;re=this}var ae=0;for(var Ue=0;Ue<re.length;Ue++){C=(q.words[Ue]|0)+(re.words[Ue]|0)+ae;this.words[Ue]=C&67108863;ae=C>>>26}for(;ae!==0&&Ue<q.length;Ue++){C=(q.words[Ue]|0)+ae;this.words[Ue]=C&67108863;ae=C>>>26}this.length=q.length;if(ae!==0){this.words[this.length]=ae;this.length++}else if(q!==this){for(;Ue<q.length;Ue++){this.words[Ue]=q.words[Ue]}}return this};BN.prototype.add=function add(a){var C;if(a.negative!==0&&this.negative===0){a.negative=0;C=this.sub(a);a.negative^=1;return C}else if(a.negative===0&&this.negative!==0){this.negative=0;C=a.sub(this);this.negative=1;return C}if(this.length>a.length)return this.clone().iadd(a);return a.clone().iadd(this)};BN.prototype.isub=function isub(a){if(a.negative!==0){a.negative=0;var C=this.iadd(a);a.negative=1;return C._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(a);this.negative=1;return this._normSign()}var q=this.cmp(a);if(q===0){this.negative=0;this.length=1;this.words[0]=0;return this}var re,ae;if(q>0){re=this;ae=a}else{re=a;ae=this}var Ue=0;for(var Pt=0;Pt<ae.length;Pt++){C=(re.words[Pt]|0)-(ae.words[Pt]|0)+Ue;Ue=C>>26;this.words[Pt]=C&67108863}for(;Ue!==0&&Pt<re.length;Pt++){C=(re.words[Pt]|0)+Ue;Ue=C>>26;this.words[Pt]=C&67108863}if(Ue===0&&Pt<re.length&&re!==this){for(;Pt<re.length;Pt++){this.words[Pt]=re.words[Pt]}}this.length=Math.max(this.length,Pt);if(re!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(a){return this.clone().isub(a)};function smallMulTo(a,C,q){q.negative=C.negative^a.negative;var re=a.length+C.length|0;q.length=re;re=re-1|0;var ae=a.words[0]|0;var Ue=C.words[0]|0;var Pt=ae*Ue;var Wt=Pt&67108863;var Er=Pt/67108864|0;q.words[0]=Wt;for(var Ar=1;Ar<re;Ar++){var xr=Er>>>26;var kr=Er&67108863;var Pr=Math.min(Ar,C.length-1);for(var Br=Math.max(0,Ar-a.length+1);Br<=Pr;Br++){var Mr=Ar-Br|0;ae=a.words[Mr]|0;Ue=C.words[Br]|0;Pt=ae*Ue+kr;xr+=Pt/67108864|0;kr=Pt&67108863}q.words[Ar]=kr|0;Er=xr|0}if(Er!==0){q.words[Ar]=Er|0}else{q.length--}return q.strip()}var Wt=function comb10MulTo(a,C,q){var re=a.words;var ae=C.words;var Ue=q.words;var Pt=0;var Wt;var Er;var Ar;var xr=re[0]|0;var kr=xr&8191;var Pr=xr>>>13;var Br=re[1]|0;var Mr=Br&8191;var Or=Br>>>13;var Ir=re[2]|0;var Nr=Ir&8191;var jr=Ir>>>13;var Lr=re[3]|0;var Dr=Lr&8191;var Hr=Lr>>>13;var Fr=re[4]|0;var Ur=Fr&8191;var $r=Fr>>>13;var zr=re[5]|0;var Wr=zr&8191;var Kr=zr>>>13;var Vr=re[6]|0;var Gr=Vr&8191;var Jr=Vr>>>13;var Xr=re[7]|0;var Yr=Xr&8191;var Zr=Xr>>>13;var Qr=re[8]|0;var en=Qr&8191;var tn=Qr>>>13;var rn=re[9]|0;var nn=rn&8191;var on=rn>>>13;var sn=ae[0]|0;var an=sn&8191;var cn=sn>>>13;var un=ae[1]|0;var dn=un&8191;var ln=un>>>13;var hn=ae[2]|0;var pn=hn&8191;var bn=hn>>>13;var mn=ae[3]|0;var vn=mn&8191;var yn=mn>>>13;var gn=ae[4]|0;var wn=gn&8191;var _n=gn>>>13;var Sn=ae[5]|0;var En=Sn&8191;var Tn=Sn>>>13;var An=ae[6]|0;var Rn=An&8191;var xn=An>>>13;var kn=ae[7]|0;var Pn=kn&8191;var Bn=kn>>>13;var Mn=ae[8]|0;var On=Mn&8191;var Cn=Mn>>>13;var In=ae[9]|0;var Nn=In&8191;var qn=In>>>13;q.negative=a.negative^C.negative;q.length=19;Wt=Math.imul(kr,an);Er=Math.imul(kr,cn);Er=Er+Math.imul(Pr,an)|0;Ar=Math.imul(Pr,cn);var jn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(jn>>>26)|0;jn&=67108863;Wt=Math.imul(Mr,an);Er=Math.imul(Mr,cn);Er=Er+Math.imul(Or,an)|0;Ar=Math.imul(Or,cn);Wt=Wt+Math.imul(kr,dn)|0;Er=Er+Math.imul(kr,ln)|0;Er=Er+Math.imul(Pr,dn)|0;Ar=Ar+Math.imul(Pr,ln)|0;var Ln=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Ln>>>26)|0;Ln&=67108863;Wt=Math.imul(Nr,an);Er=Math.imul(Nr,cn);Er=Er+Math.imul(jr,an)|0;Ar=Math.imul(jr,cn);Wt=Wt+Math.imul(Mr,dn)|0;Er=Er+Math.imul(Mr,ln)|0;Er=Er+Math.imul(Or,dn)|0;Ar=Ar+Math.imul(Or,ln)|0;Wt=Wt+Math.imul(kr,pn)|0;Er=Er+Math.imul(kr,bn)|0;Er=Er+Math.imul(Pr,pn)|0;Ar=Ar+Math.imul(Pr,bn)|0;var Dn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Dn>>>26)|0;Dn&=67108863;Wt=Math.imul(Dr,an);Er=Math.imul(Dr,cn);Er=Er+Math.imul(Hr,an)|0;Ar=Math.imul(Hr,cn);Wt=Wt+Math.imul(Nr,dn)|0;Er=Er+Math.imul(Nr,ln)|0;Er=Er+Math.imul(jr,dn)|0;Ar=Ar+Math.imul(jr,ln)|0;Wt=Wt+Math.imul(Mr,pn)|0;Er=Er+Math.imul(Mr,bn)|0;Er=Er+Math.imul(Or,pn)|0;Ar=Ar+Math.imul(Or,bn)|0;Wt=Wt+Math.imul(kr,vn)|0;Er=Er+Math.imul(kr,yn)|0;Er=Er+Math.imul(Pr,vn)|0;Ar=Ar+Math.imul(Pr,yn)|0;var Hn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Hn>>>26)|0;Hn&=67108863;Wt=Math.imul(Ur,an);Er=Math.imul(Ur,cn);Er=Er+Math.imul($r,an)|0;Ar=Math.imul($r,cn);Wt=Wt+Math.imul(Dr,dn)|0;Er=Er+Math.imul(Dr,ln)|0;Er=Er+Math.imul(Hr,dn)|0;Ar=Ar+Math.imul(Hr,ln)|0;Wt=Wt+Math.imul(Nr,pn)|0;Er=Er+Math.imul(Nr,bn)|0;Er=Er+Math.imul(jr,pn)|0;Ar=Ar+Math.imul(jr,bn)|0;Wt=Wt+Math.imul(Mr,vn)|0;Er=Er+Math.imul(Mr,yn)|0;Er=Er+Math.imul(Or,vn)|0;Ar=Ar+Math.imul(Or,yn)|0;Wt=Wt+Math.imul(kr,wn)|0;Er=Er+Math.imul(kr,_n)|0;Er=Er+Math.imul(Pr,wn)|0;Ar=Ar+Math.imul(Pr,_n)|0;var Fn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Fn>>>26)|0;Fn&=67108863;Wt=Math.imul(Wr,an);Er=Math.imul(Wr,cn);Er=Er+Math.imul(Kr,an)|0;Ar=Math.imul(Kr,cn);Wt=Wt+Math.imul(Ur,dn)|0;Er=Er+Math.imul(Ur,ln)|0;Er=Er+Math.imul($r,dn)|0;Ar=Ar+Math.imul($r,ln)|0;Wt=Wt+Math.imul(Dr,pn)|0;Er=Er+Math.imul(Dr,bn)|0;Er=Er+Math.imul(Hr,pn)|0;Ar=Ar+Math.imul(Hr,bn)|0;Wt=Wt+Math.imul(Nr,vn)|0;Er=Er+Math.imul(Nr,yn)|0;Er=Er+Math.imul(jr,vn)|0;Ar=Ar+Math.imul(jr,yn)|0;Wt=Wt+Math.imul(Mr,wn)|0;Er=Er+Math.imul(Mr,_n)|0;Er=Er+Math.imul(Or,wn)|0;Ar=Ar+Math.imul(Or,_n)|0;Wt=Wt+Math.imul(kr,En)|0;Er=Er+Math.imul(kr,Tn)|0;Er=Er+Math.imul(Pr,En)|0;Ar=Ar+Math.imul(Pr,Tn)|0;var Un=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Un>>>26)|0;Un&=67108863;Wt=Math.imul(Gr,an);Er=Math.imul(Gr,cn);Er=Er+Math.imul(Jr,an)|0;Ar=Math.imul(Jr,cn);Wt=Wt+Math.imul(Wr,dn)|0;Er=Er+Math.imul(Wr,ln)|0;Er=Er+Math.imul(Kr,dn)|0;Ar=Ar+Math.imul(Kr,ln)|0;Wt=Wt+Math.imul(Ur,pn)|0;Er=Er+Math.imul(Ur,bn)|0;Er=Er+Math.imul($r,pn)|0;Ar=Ar+Math.imul($r,bn)|0;Wt=Wt+Math.imul(Dr,vn)|0;Er=Er+Math.imul(Dr,yn)|0;Er=Er+Math.imul(Hr,vn)|0;Ar=Ar+Math.imul(Hr,yn)|0;Wt=Wt+Math.imul(Nr,wn)|0;Er=Er+Math.imul(Nr,_n)|0;Er=Er+Math.imul(jr,wn)|0;Ar=Ar+Math.imul(jr,_n)|0;Wt=Wt+Math.imul(Mr,En)|0;Er=Er+Math.imul(Mr,Tn)|0;Er=Er+Math.imul(Or,En)|0;Ar=Ar+Math.imul(Or,Tn)|0;Wt=Wt+Math.imul(kr,Rn)|0;Er=Er+Math.imul(kr,xn)|0;Er=Er+Math.imul(Pr,Rn)|0;Ar=Ar+Math.imul(Pr,xn)|0;var $n=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+($n>>>26)|0;$n&=67108863;Wt=Math.imul(Yr,an);Er=Math.imul(Yr,cn);Er=Er+Math.imul(Zr,an)|0;Ar=Math.imul(Zr,cn);Wt=Wt+Math.imul(Gr,dn)|0;Er=Er+Math.imul(Gr,ln)|0;Er=Er+Math.imul(Jr,dn)|0;Ar=Ar+Math.imul(Jr,ln)|0;Wt=Wt+Math.imul(Wr,pn)|0;Er=Er+Math.imul(Wr,bn)|0;Er=Er+Math.imul(Kr,pn)|0;Ar=Ar+Math.imul(Kr,bn)|0;Wt=Wt+Math.imul(Ur,vn)|0;Er=Er+Math.imul(Ur,yn)|0;Er=Er+Math.imul($r,vn)|0;Ar=Ar+Math.imul($r,yn)|0;Wt=Wt+Math.imul(Dr,wn)|0;Er=Er+Math.imul(Dr,_n)|0;Er=Er+Math.imul(Hr,wn)|0;Ar=Ar+Math.imul(Hr,_n)|0;Wt=Wt+Math.imul(Nr,En)|0;Er=Er+Math.imul(Nr,Tn)|0;Er=Er+Math.imul(jr,En)|0;Ar=Ar+Math.imul(jr,Tn)|0;Wt=Wt+Math.imul(Mr,Rn)|0;Er=Er+Math.imul(Mr,xn)|0;Er=Er+Math.imul(Or,Rn)|0;Ar=Ar+Math.imul(Or,xn)|0;Wt=Wt+Math.imul(kr,Pn)|0;Er=Er+Math.imul(kr,Bn)|0;Er=Er+Math.imul(Pr,Pn)|0;Ar=Ar+Math.imul(Pr,Bn)|0;var zn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(zn>>>26)|0;zn&=67108863;Wt=Math.imul(en,an);Er=Math.imul(en,cn);Er=Er+Math.imul(tn,an)|0;Ar=Math.imul(tn,cn);Wt=Wt+Math.imul(Yr,dn)|0;Er=Er+Math.imul(Yr,ln)|0;Er=Er+Math.imul(Zr,dn)|0;Ar=Ar+Math.imul(Zr,ln)|0;Wt=Wt+Math.imul(Gr,pn)|0;Er=Er+Math.imul(Gr,bn)|0;Er=Er+Math.imul(Jr,pn)|0;Ar=Ar+Math.imul(Jr,bn)|0;Wt=Wt+Math.imul(Wr,vn)|0;Er=Er+Math.imul(Wr,yn)|0;Er=Er+Math.imul(Kr,vn)|0;Ar=Ar+Math.imul(Kr,yn)|0;Wt=Wt+Math.imul(Ur,wn)|0;Er=Er+Math.imul(Ur,_n)|0;Er=Er+Math.imul($r,wn)|0;Ar=Ar+Math.imul($r,_n)|0;Wt=Wt+Math.imul(Dr,En)|0;Er=Er+Math.imul(Dr,Tn)|0;Er=Er+Math.imul(Hr,En)|0;Ar=Ar+Math.imul(Hr,Tn)|0;Wt=Wt+Math.imul(Nr,Rn)|0;Er=Er+Math.imul(Nr,xn)|0;Er=Er+Math.imul(jr,Rn)|0;Ar=Ar+Math.imul(jr,xn)|0;Wt=Wt+Math.imul(Mr,Pn)|0;Er=Er+Math.imul(Mr,Bn)|0;Er=Er+Math.imul(Or,Pn)|0;Ar=Ar+Math.imul(Or,Bn)|0;Wt=Wt+Math.imul(kr,On)|0;Er=Er+Math.imul(kr,Cn)|0;Er=Er+Math.imul(Pr,On)|0;Ar=Ar+Math.imul(Pr,Cn)|0;var Wn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Wn>>>26)|0;Wn&=67108863;Wt=Math.imul(nn,an);Er=Math.imul(nn,cn);Er=Er+Math.imul(on,an)|0;Ar=Math.imul(on,cn);Wt=Wt+Math.imul(en,dn)|0;Er=Er+Math.imul(en,ln)|0;Er=Er+Math.imul(tn,dn)|0;Ar=Ar+Math.imul(tn,ln)|0;Wt=Wt+Math.imul(Yr,pn)|0;Er=Er+Math.imul(Yr,bn)|0;Er=Er+Math.imul(Zr,pn)|0;Ar=Ar+Math.imul(Zr,bn)|0;Wt=Wt+Math.imul(Gr,vn)|0;Er=Er+Math.imul(Gr,yn)|0;Er=Er+Math.imul(Jr,vn)|0;Ar=Ar+Math.imul(Jr,yn)|0;Wt=Wt+Math.imul(Wr,wn)|0;Er=Er+Math.imul(Wr,_n)|0;Er=Er+Math.imul(Kr,wn)|0;Ar=Ar+Math.imul(Kr,_n)|0;Wt=Wt+Math.imul(Ur,En)|0;Er=Er+Math.imul(Ur,Tn)|0;Er=Er+Math.imul($r,En)|0;Ar=Ar+Math.imul($r,Tn)|0;Wt=Wt+Math.imul(Dr,Rn)|0;Er=Er+Math.imul(Dr,xn)|0;Er=Er+Math.imul(Hr,Rn)|0;Ar=Ar+Math.imul(Hr,xn)|0;Wt=Wt+Math.imul(Nr,Pn)|0;Er=Er+Math.imul(Nr,Bn)|0;Er=Er+Math.imul(jr,Pn)|0;Ar=Ar+Math.imul(jr,Bn)|0;Wt=Wt+Math.imul(Mr,On)|0;Er=Er+Math.imul(Mr,Cn)|0;Er=Er+Math.imul(Or,On)|0;Ar=Ar+Math.imul(Or,Cn)|0;Wt=Wt+Math.imul(kr,Nn)|0;Er=Er+Math.imul(kr,qn)|0;Er=Er+Math.imul(Pr,Nn)|0;Ar=Ar+Math.imul(Pr,qn)|0;var Kn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Kn>>>26)|0;Kn&=67108863;Wt=Math.imul(nn,dn);Er=Math.imul(nn,ln);Er=Er+Math.imul(on,dn)|0;Ar=Math.imul(on,ln);Wt=Wt+Math.imul(en,pn)|0;Er=Er+Math.imul(en,bn)|0;Er=Er+Math.imul(tn,pn)|0;Ar=Ar+Math.imul(tn,bn)|0;Wt=Wt+Math.imul(Yr,vn)|0;Er=Er+Math.imul(Yr,yn)|0;Er=Er+Math.imul(Zr,vn)|0;Ar=Ar+Math.imul(Zr,yn)|0;Wt=Wt+Math.imul(Gr,wn)|0;Er=Er+Math.imul(Gr,_n)|0;Er=Er+Math.imul(Jr,wn)|0;Ar=Ar+Math.imul(Jr,_n)|0;Wt=Wt+Math.imul(Wr,En)|0;Er=Er+Math.imul(Wr,Tn)|0;Er=Er+Math.imul(Kr,En)|0;Ar=Ar+Math.imul(Kr,Tn)|0;Wt=Wt+Math.imul(Ur,Rn)|0;Er=Er+Math.imul(Ur,xn)|0;Er=Er+Math.imul($r,Rn)|0;Ar=Ar+Math.imul($r,xn)|0;Wt=Wt+Math.imul(Dr,Pn)|0;Er=Er+Math.imul(Dr,Bn)|0;Er=Er+Math.imul(Hr,Pn)|0;Ar=Ar+Math.imul(Hr,Bn)|0;Wt=Wt+Math.imul(Nr,On)|0;Er=Er+Math.imul(Nr,Cn)|0;Er=Er+Math.imul(jr,On)|0;Ar=Ar+Math.imul(jr,Cn)|0;Wt=Wt+Math.imul(Mr,Nn)|0;Er=Er+Math.imul(Mr,qn)|0;Er=Er+Math.imul(Or,Nn)|0;Ar=Ar+Math.imul(Or,qn)|0;var Vn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Vn>>>26)|0;Vn&=67108863;Wt=Math.imul(nn,pn);Er=Math.imul(nn,bn);Er=Er+Math.imul(on,pn)|0;Ar=Math.imul(on,bn);Wt=Wt+Math.imul(en,vn)|0;Er=Er+Math.imul(en,yn)|0;Er=Er+Math.imul(tn,vn)|0;Ar=Ar+Math.imul(tn,yn)|0;Wt=Wt+Math.imul(Yr,wn)|0;Er=Er+Math.imul(Yr,_n)|0;Er=Er+Math.imul(Zr,wn)|0;Ar=Ar+Math.imul(Zr,_n)|0;Wt=Wt+Math.imul(Gr,En)|0;Er=Er+Math.imul(Gr,Tn)|0;Er=Er+Math.imul(Jr,En)|0;Ar=Ar+Math.imul(Jr,Tn)|0;Wt=Wt+Math.imul(Wr,Rn)|0;Er=Er+Math.imul(Wr,xn)|0;Er=Er+Math.imul(Kr,Rn)|0;Ar=Ar+Math.imul(Kr,xn)|0;Wt=Wt+Math.imul(Ur,Pn)|0;Er=Er+Math.imul(Ur,Bn)|0;Er=Er+Math.imul($r,Pn)|0;Ar=Ar+Math.imul($r,Bn)|0;Wt=Wt+Math.imul(Dr,On)|0;Er=Er+Math.imul(Dr,Cn)|0;Er=Er+Math.imul(Hr,On)|0;Ar=Ar+Math.imul(Hr,Cn)|0;Wt=Wt+Math.imul(Nr,Nn)|0;Er=Er+Math.imul(Nr,qn)|0;Er=Er+Math.imul(jr,Nn)|0;Ar=Ar+Math.imul(jr,qn)|0;var Gn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Gn>>>26)|0;Gn&=67108863;Wt=Math.imul(nn,vn);Er=Math.imul(nn,yn);Er=Er+Math.imul(on,vn)|0;Ar=Math.imul(on,yn);Wt=Wt+Math.imul(en,wn)|0;Er=Er+Math.imul(en,_n)|0;Er=Er+Math.imul(tn,wn)|0;Ar=Ar+Math.imul(tn,_n)|0;Wt=Wt+Math.imul(Yr,En)|0;Er=Er+Math.imul(Yr,Tn)|0;Er=Er+Math.imul(Zr,En)|0;Ar=Ar+Math.imul(Zr,Tn)|0;Wt=Wt+Math.imul(Gr,Rn)|0;Er=Er+Math.imul(Gr,xn)|0;Er=Er+Math.imul(Jr,Rn)|0;Ar=Ar+Math.imul(Jr,xn)|0;Wt=Wt+Math.imul(Wr,Pn)|0;Er=Er+Math.imul(Wr,Bn)|0;Er=Er+Math.imul(Kr,Pn)|0;Ar=Ar+Math.imul(Kr,Bn)|0;Wt=Wt+Math.imul(Ur,On)|0;Er=Er+Math.imul(Ur,Cn)|0;Er=Er+Math.imul($r,On)|0;Ar=Ar+Math.imul($r,Cn)|0;Wt=Wt+Math.imul(Dr,Nn)|0;Er=Er+Math.imul(Dr,qn)|0;Er=Er+Math.imul(Hr,Nn)|0;Ar=Ar+Math.imul(Hr,qn)|0;var Jn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Jn>>>26)|0;Jn&=67108863;Wt=Math.imul(nn,wn);Er=Math.imul(nn,_n);Er=Er+Math.imul(on,wn)|0;Ar=Math.imul(on,_n);Wt=Wt+Math.imul(en,En)|0;Er=Er+Math.imul(en,Tn)|0;Er=Er+Math.imul(tn,En)|0;Ar=Ar+Math.imul(tn,Tn)|0;Wt=Wt+Math.imul(Yr,Rn)|0;Er=Er+Math.imul(Yr,xn)|0;Er=Er+Math.imul(Zr,Rn)|0;Ar=Ar+Math.imul(Zr,xn)|0;Wt=Wt+Math.imul(Gr,Pn)|0;Er=Er+Math.imul(Gr,Bn)|0;Er=Er+Math.imul(Jr,Pn)|0;Ar=Ar+Math.imul(Jr,Bn)|0;Wt=Wt+Math.imul(Wr,On)|0;Er=Er+Math.imul(Wr,Cn)|0;Er=Er+Math.imul(Kr,On)|0;Ar=Ar+Math.imul(Kr,Cn)|0;Wt=Wt+Math.imul(Ur,Nn)|0;Er=Er+Math.imul(Ur,qn)|0;Er=Er+Math.imul($r,Nn)|0;Ar=Ar+Math.imul($r,qn)|0;var Xn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Xn>>>26)|0;Xn&=67108863;Wt=Math.imul(nn,En);Er=Math.imul(nn,Tn);Er=Er+Math.imul(on,En)|0;Ar=Math.imul(on,Tn);Wt=Wt+Math.imul(en,Rn)|0;Er=Er+Math.imul(en,xn)|0;Er=Er+Math.imul(tn,Rn)|0;Ar=Ar+Math.imul(tn,xn)|0;Wt=Wt+Math.imul(Yr,Pn)|0;Er=Er+Math.imul(Yr,Bn)|0;Er=Er+Math.imul(Zr,Pn)|0;Ar=Ar+Math.imul(Zr,Bn)|0;Wt=Wt+Math.imul(Gr,On)|0;Er=Er+Math.imul(Gr,Cn)|0;Er=Er+Math.imul(Jr,On)|0;Ar=Ar+Math.imul(Jr,Cn)|0;Wt=Wt+Math.imul(Wr,Nn)|0;Er=Er+Math.imul(Wr,qn)|0;Er=Er+Math.imul(Kr,Nn)|0;Ar=Ar+Math.imul(Kr,qn)|0;var Yn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Yn>>>26)|0;Yn&=67108863;Wt=Math.imul(nn,Rn);Er=Math.imul(nn,xn);Er=Er+Math.imul(on,Rn)|0;Ar=Math.imul(on,xn);Wt=Wt+Math.imul(en,Pn)|0;Er=Er+Math.imul(en,Bn)|0;Er=Er+Math.imul(tn,Pn)|0;Ar=Ar+Math.imul(tn,Bn)|0;Wt=Wt+Math.imul(Yr,On)|0;Er=Er+Math.imul(Yr,Cn)|0;Er=Er+Math.imul(Zr,On)|0;Ar=Ar+Math.imul(Zr,Cn)|0;Wt=Wt+Math.imul(Gr,Nn)|0;Er=Er+Math.imul(Gr,qn)|0;Er=Er+Math.imul(Jr,Nn)|0;Ar=Ar+Math.imul(Jr,qn)|0;var Zn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Zn>>>26)|0;Zn&=67108863;Wt=Math.imul(nn,Pn);Er=Math.imul(nn,Bn);Er=Er+Math.imul(on,Pn)|0;Ar=Math.imul(on,Bn);Wt=Wt+Math.imul(en,On)|0;Er=Er+Math.imul(en,Cn)|0;Er=Er+Math.imul(tn,On)|0;Ar=Ar+Math.imul(tn,Cn)|0;Wt=Wt+Math.imul(Yr,Nn)|0;Er=Er+Math.imul(Yr,qn)|0;Er=Er+Math.imul(Zr,Nn)|0;Ar=Ar+Math.imul(Zr,qn)|0;var Qn=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(Qn>>>26)|0;Qn&=67108863;Wt=Math.imul(nn,On);Er=Math.imul(nn,Cn);Er=Er+Math.imul(on,On)|0;Ar=Math.imul(on,Cn);Wt=Wt+Math.imul(en,Nn)|0;Er=Er+Math.imul(en,qn)|0;Er=Er+Math.imul(tn,Nn)|0;Ar=Ar+Math.imul(tn,qn)|0;var ei=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(ei>>>26)|0;ei&=67108863;Wt=Math.imul(nn,Nn);Er=Math.imul(nn,qn);Er=Er+Math.imul(on,Nn)|0;Ar=Math.imul(on,qn);var ti=(Pt+Wt|0)+((Er&8191)<<13)|0;Pt=(Ar+(Er>>>13)|0)+(ti>>>26)|0;ti&=67108863;Ue[0]=jn;Ue[1]=Ln;Ue[2]=Dn;Ue[3]=Hn;Ue[4]=Fn;Ue[5]=Un;Ue[6]=$n;Ue[7]=zn;Ue[8]=Wn;Ue[9]=Kn;Ue[10]=Vn;Ue[11]=Gn;Ue[12]=Jn;Ue[13]=Xn;Ue[14]=Yn;Ue[15]=Zn;Ue[16]=Qn;Ue[17]=ei;Ue[18]=ti;if(Pt!==0){Ue[19]=Pt;q.length++}return q};if(!Math.imul){Wt=smallMulTo}function bigMulTo(a,C,q){q.negative=C.negative^a.negative;q.length=a.length+C.length;var re=0;var ae=0;for(var Ue=0;Ue<q.length-1;Ue++){var Pt=ae;ae=0;var Wt=re&67108863;var Er=Math.min(Ue,C.length-1);for(var Ar=Math.max(0,Ue-a.length+1);Ar<=Er;Ar++){var xr=Ue-Ar;var kr=a.words[xr]|0;var Pr=C.words[Ar]|0;var Br=kr*Pr;var Mr=Br&67108863;Pt=Pt+(Br/67108864|0)|0;Mr=Mr+Wt|0;Wt=Mr&67108863;Pt=Pt+(Mr>>>26)|0;ae+=Pt>>>26;Pt&=67108863}q.words[Ue]=Wt;re=Pt;Pt=ae}if(re!==0){q.words[Ue]=re}else{q.length--}return q.strip()}function jumboMulTo(a,C,q){var re=new FFTM;return re.mulp(a,C,q)}BN.prototype.mulTo=function mulTo(a,C){var q;var re=this.length+a.length;if(this.length===10&&a.length===10){q=Wt(this,a,C)}else if(re<63){q=smallMulTo(this,a,C)}else if(re<1024){q=bigMulTo(this,a,C)}else{q=jumboMulTo(this,a,C)}return q};function FFTM(a,C){this.x=a;this.y=C}FFTM.prototype.makeRBT=function makeRBT(a){var C=new Array(a);var q=BN.prototype._countBits(a)-1;for(var re=0;re<a;re++){C[re]=this.revBin(re,q,a)}return C};FFTM.prototype.revBin=function revBin(a,C,q){if(a===0||a===q-1)return a;var re=0;for(var ae=0;ae<C;ae++){re|=(a&1)<<C-ae-1;a>>=1}return re};FFTM.prototype.permute=function permute(a,C,q,re,ae,Ue){for(var Pt=0;Pt<Ue;Pt++){re[Pt]=C[a[Pt]];ae[Pt]=q[a[Pt]]}};FFTM.prototype.transform=function transform(a,C,q,re,ae,Ue){this.permute(Ue,a,C,q,re,ae);for(var Pt=1;Pt<ae;Pt<<=1){var Wt=Pt<<1;var Er=Math.cos(2*Math.PI/Wt);var Ar=Math.sin(2*Math.PI/Wt);for(var xr=0;xr<ae;xr+=Wt){var kr=Er;var Pr=Ar;for(var Br=0;Br<Pt;Br++){var Mr=q[xr+Br];var Or=re[xr+Br];var Ir=q[xr+Br+Pt];var Nr=re[xr+Br+Pt];var jr=kr*Ir-Pr*Nr;Nr=kr*Nr+Pr*Ir;Ir=jr;q[xr+Br]=Mr+Ir;re[xr+Br]=Or+Nr;q[xr+Br+Pt]=Mr-Ir;re[xr+Br+Pt]=Or-Nr;if(Br!==Wt){jr=Er*kr-Ar*Pr;Pr=Er*Pr+Ar*kr;kr=jr}}}}};FFTM.prototype.guessLen13b=function guessLen13b(a,C){var q=Math.max(C,a)|1;var re=q&1;var ae=0;for(q=q/2|0;q;q=q>>>1){ae++}return 1<<ae+1+re};FFTM.prototype.conjugate=function conjugate(a,C,q){if(q<=1)return;for(var re=0;re<q/2;re++){var ae=a[re];a[re]=a[q-re-1];a[q-re-1]=ae;ae=C[re];C[re]=-C[q-re-1];C[q-re-1]=-ae}};FFTM.prototype.normalize13b=function normalize13b(a,C){var q=0;for(var re=0;re<C/2;re++){var ae=Math.round(a[2*re+1]/C)*8192+Math.round(a[2*re]/C)+q;a[re]=ae&67108863;if(ae<67108864){q=0}else{q=ae/67108864|0}}return a};FFTM.prototype.convert13b=function convert13b(a,C,q,re){var ae=0;for(var Ue=0;Ue<C;Ue++){ae=ae+(a[Ue]|0);q[2*Ue]=ae&8191;ae=ae>>>13;q[2*Ue+1]=ae&8191;ae=ae>>>13}for(Ue=2*C;Ue<re;++Ue){q[Ue]=0}assert(ae===0);assert((ae&~8191)===0)};FFTM.prototype.stub=function stub(a){var C=new Array(a);for(var q=0;q<a;q++){C[q]=0}return C};FFTM.prototype.mulp=function mulp(a,C,q){var re=2*this.guessLen13b(a.length,C.length);var ae=this.makeRBT(re);var Ue=this.stub(re);var Pt=new Array(re);var Wt=new Array(re);var Er=new Array(re);var Ar=new Array(re);var xr=new Array(re);var kr=new Array(re);var Pr=q.words;Pr.length=re;this.convert13b(a.words,a.length,Pt,re);this.convert13b(C.words,C.length,Ar,re);this.transform(Pt,Ue,Wt,Er,re,ae);this.transform(Ar,Ue,xr,kr,re,ae);for(var Br=0;Br<re;Br++){var Mr=Wt[Br]*xr[Br]-Er[Br]*kr[Br];Er[Br]=Wt[Br]*kr[Br]+Er[Br]*xr[Br];Wt[Br]=Mr}this.conjugate(Wt,Er,re);this.transform(Wt,Er,Pr,Ue,re,ae);this.conjugate(Pr,Ue,re);this.normalize13b(Pr,re);q.negative=a.negative^C.negative;q.length=a.length+C.length;return q.strip()};BN.prototype.mul=function mul(a){var C=new BN(null);C.words=new Array(this.length+a.length);return this.mulTo(a,C)};BN.prototype.mulf=function mulf(a){var C=new BN(null);C.words=new Array(this.length+a.length);return jumboMulTo(this,a,C)};BN.prototype.imul=function imul(a){return this.clone().mulTo(a,this)};BN.prototype.imuln=function imuln(a){assert(typeof a==="number");assert(a<67108864);var C=0;for(var q=0;q<this.length;q++){var re=(this.words[q]|0)*a;var ae=(re&67108863)+(C&67108863);C>>=26;C+=re/67108864|0;C+=ae>>>26;this.words[q]=ae&67108863}if(C!==0){this.words[q]=C;this.length++}return this};BN.prototype.muln=function muln(a){return this.clone().imuln(a)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(a){var C=toBitArray(a);if(C.length===0)return new BN(1);var q=this;for(var re=0;re<C.length;re++,q=q.sqr()){if(C[re]!==0)break}if(++re<C.length){for(var ae=q.sqr();re<C.length;re++,ae=ae.sqr()){if(C[re]===0)continue;q=q.mul(ae)}}return q};BN.prototype.iushln=function iushln(a){assert(typeof a==="number"&&a>=0);var C=a%26;var q=(a-C)/26;var re=67108863>>>26-C<<26-C;var ae;if(C!==0){var Ue=0;for(ae=0;ae<this.length;ae++){var Pt=this.words[ae]&re;var Wt=(this.words[ae]|0)-Pt<<C;this.words[ae]=Wt|Ue;Ue=Pt>>>26-C}if(Ue){this.words[ae]=Ue;this.length++}}if(q!==0){for(ae=this.length-1;ae>=0;ae--){this.words[ae+q]=this.words[ae]}for(ae=0;ae<q;ae++){this.words[ae]=0}this.length+=q}return this.strip()};BN.prototype.ishln=function ishln(a){assert(this.negative===0);return this.iushln(a)};BN.prototype.iushrn=function iushrn(a,C,q){assert(typeof a==="number"&&a>=0);var re;if(C){re=(C-C%26)/26}else{re=0}var ae=a%26;var Ue=Math.min((a-ae)/26,this.length);var Pt=67108863^67108863>>>ae<<ae;var Wt=q;re-=Ue;re=Math.max(0,re);if(Wt){for(var Er=0;Er<Ue;Er++){Wt.words[Er]=this.words[Er]}Wt.length=Ue}if(Ue===0){}else if(this.length>Ue){this.length-=Ue;for(Er=0;Er<this.length;Er++){this.words[Er]=this.words[Er+Ue]}}else{this.words[0]=0;this.length=1}var Ar=0;for(Er=this.length-1;Er>=0&&(Ar!==0||Er>=re);Er--){var xr=this.words[Er]|0;this.words[Er]=Ar<<26-ae|xr>>>ae;Ar=xr&Pt}if(Wt&&Ar!==0){Wt.words[Wt.length++]=Ar}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(a,C,q){assert(this.negative===0);return this.iushrn(a,C,q)};BN.prototype.shln=function shln(a){return this.clone().ishln(a)};BN.prototype.ushln=function ushln(a){return this.clone().iushln(a)};BN.prototype.shrn=function shrn(a){return this.clone().ishrn(a)};BN.prototype.ushrn=function ushrn(a){return this.clone().iushrn(a)};BN.prototype.testn=function testn(a){assert(typeof a==="number"&&a>=0);var C=a%26;var q=(a-C)/26;var re=1<<C;if(this.length<=q)return false;var ae=this.words[q];return!!(ae&re)};BN.prototype.imaskn=function imaskn(a){assert(typeof a==="number"&&a>=0);var C=a%26;var q=(a-C)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=q){return this}if(C!==0){q++}this.length=Math.min(q,this.length);if(C!==0){var re=67108863^67108863>>>C<<C;this.words[this.length-1]&=re}return this.strip()};BN.prototype.maskn=function maskn(a){return this.clone().imaskn(a)};BN.prototype.iaddn=function iaddn(a){assert(typeof a==="number");assert(a<67108864);if(a<0)return this.isubn(-a);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<a){this.words[0]=a-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(a);this.negative=1;return this}return this._iaddn(a)};BN.prototype._iaddn=function _iaddn(a){this.words[0]+=a;for(var C=0;C<this.length&&this.words[C]>=67108864;C++){this.words[C]-=67108864;if(C===this.length-1){this.words[C+1]=1}else{this.words[C+1]++}}this.length=Math.max(this.length,C+1);return this};BN.prototype.isubn=function isubn(a){assert(typeof a==="number");assert(a<67108864);if(a<0)return this.iaddn(-a);if(this.negative!==0){this.negative=0;this.iaddn(a);this.negative=1;return this}this.words[0]-=a;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var C=0;C<this.length&&this.words[C]<0;C++){this.words[C]+=67108864;this.words[C+1]-=1}}return this.strip()};BN.prototype.addn=function addn(a){return this.clone().iaddn(a)};BN.prototype.subn=function subn(a){return this.clone().isubn(a)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(a,C,q){var re=a.length+q;var ae;this._expand(re);var Ue;var Pt=0;for(ae=0;ae<a.length;ae++){Ue=(this.words[ae+q]|0)+Pt;var Wt=(a.words[ae]|0)*C;Ue-=Wt&67108863;Pt=(Ue>>26)-(Wt/67108864|0);this.words[ae+q]=Ue&67108863}for(;ae<this.length-q;ae++){Ue=(this.words[ae+q]|0)+Pt;Pt=Ue>>26;this.words[ae+q]=Ue&67108863}if(Pt===0)return this.strip();assert(Pt===-1);Pt=0;for(ae=0;ae<this.length;ae++){Ue=-(this.words[ae]|0)+Pt;Pt=Ue>>26;this.words[ae]=Ue&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(a,C){var q=this.length-a.length;var re=this.clone();var ae=a;var Ue=ae.words[ae.length-1]|0;var Pt=this._countBits(Ue);q=26-Pt;if(q!==0){ae=ae.ushln(q);re.iushln(q);Ue=ae.words[ae.length-1]|0}var Wt=re.length-ae.length;var Er;if(C!=="mod"){Er=new BN(null);Er.length=Wt+1;Er.words=new Array(Er.length);for(var Ar=0;Ar<Er.length;Ar++){Er.words[Ar]=0}}var xr=re.clone()._ishlnsubmul(ae,1,Wt);if(xr.negative===0){re=xr;if(Er){Er.words[Wt]=1}}for(var kr=Wt-1;kr>=0;kr--){var Pr=(re.words[ae.length+kr]|0)*67108864+(re.words[ae.length+kr-1]|0);Pr=Math.min(Pr/Ue|0,67108863);re._ishlnsubmul(ae,Pr,kr);while(re.negative!==0){Pr--;re.negative=0;re._ishlnsubmul(ae,1,kr);if(!re.isZero()){re.negative^=1}}if(Er){Er.words[kr]=Pr}}if(Er){Er.strip()}re.strip();if(C!=="div"&&q!==0){re.iushrn(q)}return{div:Er||null,mod:re}};BN.prototype.divmod=function divmod(a,C,q){assert(!a.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var re,ae,Ue;if(this.negative!==0&&a.negative===0){Ue=this.neg().divmod(a,C);if(C!=="mod"){re=Ue.div.neg()}if(C!=="div"){ae=Ue.mod.neg();if(q&&ae.negative!==0){ae.iadd(a)}}return{div:re,mod:ae}}if(this.negative===0&&a.negative!==0){Ue=this.divmod(a.neg(),C);if(C!=="mod"){re=Ue.div.neg()}return{div:re,mod:Ue.mod}}if((this.negative&a.negative)!==0){Ue=this.neg().divmod(a.neg(),C);if(C!=="div"){ae=Ue.mod.neg();if(q&&ae.negative!==0){ae.isub(a)}}return{div:Ue.div,mod:ae}}if(a.length>this.length||this.cmp(a)<0){return{div:new BN(0),mod:this}}if(a.length===1){if(C==="div"){return{div:this.divn(a.words[0]),mod:null}}if(C==="mod"){return{div:null,mod:new BN(this.modn(a.words[0]))}}return{div:this.divn(a.words[0]),mod:new BN(this.modn(a.words[0]))}}return this._wordDiv(a,C)};BN.prototype.div=function div(a){return this.divmod(a,"div",false).div};BN.prototype.mod=function mod(a){return this.divmod(a,"mod",false).mod};BN.prototype.umod=function umod(a){return this.divmod(a,"mod",true).mod};BN.prototype.divRound=function divRound(a){var C=this.divmod(a);if(C.mod.isZero())return C.div;var q=C.div.negative!==0?C.mod.isub(a):C.mod;var re=a.ushrn(1);var ae=a.andln(1);var Ue=q.cmp(re);if(Ue<0||ae===1&&Ue===0)return C.div;return C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)};BN.prototype.modn=function modn(a){assert(a<=67108863);var C=(1<<26)%a;var q=0;for(var re=this.length-1;re>=0;re--){q=(C*q+(this.words[re]|0))%a}return q};BN.prototype.idivn=function idivn(a){assert(a<=67108863);var C=0;for(var q=this.length-1;q>=0;q--){var re=(this.words[q]|0)+C*67108864;this.words[q]=re/a|0;C=re%a}return this.strip()};BN.prototype.divn=function divn(a){return this.clone().idivn(a)};BN.prototype.egcd=function egcd(a){assert(a.negative===0);assert(!a.isZero());var C=this;var q=a.clone();if(C.negative!==0){C=C.umod(a)}else{C=C.clone()}var re=new BN(1);var ae=new BN(0);var Ue=new BN(0);var Pt=new BN(1);var Wt=0;while(C.isEven()&&q.isEven()){C.iushrn(1);q.iushrn(1);++Wt}var Er=q.clone();var Ar=C.clone();while(!C.isZero()){for(var xr=0,kr=1;(C.words[0]&kr)===0&&xr<26;++xr,kr<<=1);if(xr>0){C.iushrn(xr);while(xr-- >0){if(re.isOdd()||ae.isOdd()){re.iadd(Er);ae.isub(Ar)}re.iushrn(1);ae.iushrn(1)}}for(var Pr=0,Br=1;(q.words[0]&Br)===0&&Pr<26;++Pr,Br<<=1);if(Pr>0){q.iushrn(Pr);while(Pr-- >0){if(Ue.isOdd()||Pt.isOdd()){Ue.iadd(Er);Pt.isub(Ar)}Ue.iushrn(1);Pt.iushrn(1)}}if(C.cmp(q)>=0){C.isub(q);re.isub(Ue);ae.isub(Pt)}else{q.isub(C);Ue.isub(re);Pt.isub(ae)}}return{a:Ue,b:Pt,gcd:q.iushln(Wt)}};BN.prototype._invmp=function _invmp(a){assert(a.negative===0);assert(!a.isZero());var C=this;var q=a.clone();if(C.negative!==0){C=C.umod(a)}else{C=C.clone()}var re=new BN(1);var ae=new BN(0);var Ue=q.clone();while(C.cmpn(1)>0&&q.cmpn(1)>0){for(var Pt=0,Wt=1;(C.words[0]&Wt)===0&&Pt<26;++Pt,Wt<<=1);if(Pt>0){C.iushrn(Pt);while(Pt-- >0){if(re.isOdd()){re.iadd(Ue)}re.iushrn(1)}}for(var Er=0,Ar=1;(q.words[0]&Ar)===0&&Er<26;++Er,Ar<<=1);if(Er>0){q.iushrn(Er);while(Er-- >0){if(ae.isOdd()){ae.iadd(Ue)}ae.iushrn(1)}}if(C.cmp(q)>=0){C.isub(q);re.isub(ae)}else{q.isub(C);ae.isub(re)}}var xr;if(C.cmpn(1)===0){xr=re}else{xr=ae}if(xr.cmpn(0)<0){xr.iadd(a)}return xr};BN.prototype.gcd=function gcd(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var C=this.clone();var q=a.clone();C.negative=0;q.negative=0;for(var re=0;C.isEven()&&q.isEven();re++){C.iushrn(1);q.iushrn(1)}do{while(C.isEven()){C.iushrn(1)}while(q.isEven()){q.iushrn(1)}var ae=C.cmp(q);if(ae<0){var Ue=C;C=q;q=Ue}else if(ae===0||q.cmpn(1)===0){break}C.isub(q)}while(true);return q.iushln(re)};BN.prototype.invm=function invm(a){return this.egcd(a).a.umod(a)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(a){return this.words[0]&a};BN.prototype.bincn=function bincn(a){assert(typeof a==="number");var C=a%26;var q=(a-C)/26;var re=1<<C;if(this.length<=q){this._expand(q+1);this.words[q]|=re;return this}var ae=re;for(var Ue=q;ae!==0&&Ue<this.length;Ue++){var Pt=this.words[Ue]|0;Pt+=ae;ae=Pt>>>26;Pt&=67108863;this.words[Ue]=Pt}if(ae!==0){this.words[Ue]=ae;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(a){var C=a<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this.strip();var q;if(this.length>1){q=1}else{if(C){a=-a}assert(a<=67108863,"Number is too big");var re=this.words[0]|0;q=re===a?0:re<a?-1:1}if(this.negative!==0)return-q|0;return q};BN.prototype.cmp=function cmp(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var C=this.ucmp(a);if(this.negative!==0)return-C|0;return C};BN.prototype.ucmp=function ucmp(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;var C=0;for(var q=this.length-1;q>=0;q--){var re=this.words[q]|0;var ae=a.words[q]|0;if(re===ae)continue;if(re<ae){C=-1}else if(re>ae){C=1}break}return C};BN.prototype.gtn=function gtn(a){return this.cmpn(a)===1};BN.prototype.gt=function gt(a){return this.cmp(a)===1};BN.prototype.gten=function gten(a){return this.cmpn(a)>=0};BN.prototype.gte=function gte(a){return this.cmp(a)>=0};BN.prototype.ltn=function ltn(a){return this.cmpn(a)===-1};BN.prototype.lt=function lt(a){return this.cmp(a)===-1};BN.prototype.lten=function lten(a){return this.cmpn(a)<=0};BN.prototype.lte=function lte(a){return this.cmp(a)<=0};BN.prototype.eqn=function eqn(a){return this.cmpn(a)===0};BN.prototype.eq=function eq(a){return this.cmp(a)===0};BN.red=function red(a){return new Red(a)};BN.prototype.toRed=function toRed(a){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return a.convertTo(this)._forceRed(a)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(a){this.red=a;return this};BN.prototype.forceRed=function forceRed(a){assert(!this.red,"Already a number in reduction context");return this._forceRed(a)};BN.prototype.redAdd=function redAdd(a){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,a)};BN.prototype.redIAdd=function redIAdd(a){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,a)};BN.prototype.redSub=function redSub(a){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,a)};BN.prototype.redISub=function redISub(a){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,a)};BN.prototype.redShl=function redShl(a){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,a)};BN.prototype.redMul=function redMul(a){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,a);return this.red.mul(this,a)};BN.prototype.redIMul=function redIMul(a){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,a);return this.red.imul(this,a)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(a){assert(this.red&&!a.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,a)};var Er={k256:null,p224:null,p192:null,p25519:null};function MPrime(a,C){this.name=a;this.p=new BN(C,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var a=new BN(null);a.words=new Array(Math.ceil(this.n/13));return a};MPrime.prototype.ireduce=function ireduce(a){var C=a;var q;do{this.split(C,this.tmp);C=this.imulK(C);C=C.iadd(this.tmp);q=C.bitLength()}while(q>this.n);var re=q<this.n?-1:C.ucmp(this.p);if(re===0){C.words[0]=0;C.length=1}else if(re>0){C.isub(this.p)}else{if(C.strip!==undefined){C.strip()}else{C._strip()}}return C};MPrime.prototype.split=function split(a,C){a.iushrn(this.n,0,C)};MPrime.prototype.imulK=function imulK(a){return a.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(a,C){var q=4194303;var re=Math.min(a.length,9);for(var ae=0;ae<re;ae++){C.words[ae]=a.words[ae]}C.length=re;if(a.length<=9){a.words[0]=0;a.length=1;return}var Ue=a.words[9];C.words[C.length++]=Ue&q;for(ae=10;ae<a.length;ae++){var Pt=a.words[ae]|0;a.words[ae-10]=(Pt&q)<<4|Ue>>>22;Ue=Pt}Ue>>>=22;a.words[ae-10]=Ue;if(Ue===0&&a.length>10){a.length-=10}else{a.length-=9}};K256.prototype.imulK=function imulK(a){a.words[a.length]=0;a.words[a.length+1]=0;a.length+=2;var C=0;for(var q=0;q<a.length;q++){var re=a.words[q]|0;C+=re*977;a.words[q]=C&67108863;C=re*64+(C/67108864|0)}if(a.words[a.length-1]===0){a.length--;if(a.words[a.length-1]===0){a.length--}}return a};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(a){var C=0;for(var q=0;q<a.length;q++){var re=(a.words[q]|0)*19+C;var ae=re&67108863;re>>>=26;a.words[q]=ae;C=re}if(C!==0){a.words[a.length++]=C}return a};BN._prime=function prime(a){if(Er[a])return Er[a];var prime;if(a==="k256"){prime=new K256}else if(a==="p224"){prime=new P224}else if(a==="p192"){prime=new P192}else if(a==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+a)}Er[a]=prime;return prime};function Red(a){if(typeof a==="string"){var C=BN._prime(a);this.m=C.p;this.prime=C}else{assert(a.gtn(1),"modulus must be greater than 1");this.m=a;this.prime=null}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,"red works only with positives");assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(a,C){assert((a.negative|C.negative)===0,"red works only with positives");assert(a.red&&a.red===C.red,"red works only with red numbers")};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);return a.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone()}return this.m.sub(a)._forceRed(this)};Red.prototype.add=function add(a,C){this._verify2(a,C);var q=a.add(C);if(q.cmp(this.m)>=0){q.isub(this.m)}return q._forceRed(this)};Red.prototype.iadd=function iadd(a,C){this._verify2(a,C);var q=a.iadd(C);if(q.cmp(this.m)>=0){q.isub(this.m)}return q};Red.prototype.sub=function sub(a,C){this._verify2(a,C);var q=a.sub(C);if(q.cmpn(0)<0){q.iadd(this.m)}return q._forceRed(this)};Red.prototype.isub=function isub(a,C){this._verify2(a,C);var q=a.isub(C);if(q.cmpn(0)<0){q.iadd(this.m)}return q};Red.prototype.shl=function shl(a,C){this._verify1(a);return this.imod(a.ushln(C))};Red.prototype.imul=function imul(a,C){this._verify2(a,C);return this.imod(a.imul(C))};Red.prototype.mul=function mul(a,C){this._verify2(a,C);return this.imod(a.mul(C))};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone())};Red.prototype.sqr=function sqr(a){return this.mul(a,a)};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var C=this.m.andln(3);assert(C%2===1);if(C===3){var q=this.m.add(new BN(1)).iushrn(2);return this.pow(a,q)}var re=this.m.subn(1);var ae=0;while(!re.isZero()&&re.andln(1)===0){ae++;re.iushrn(1)}assert(!re.isZero());var Ue=new BN(1).toRed(this);var Pt=Ue.redNeg();var Wt=this.m.subn(1).iushrn(1);var Er=this.m.bitLength();Er=new BN(2*Er*Er).toRed(this);while(this.pow(Er,Wt).cmp(Pt)!==0){Er.redIAdd(Pt)}var Ar=this.pow(Er,re);var xr=this.pow(a,re.addn(1).iushrn(1));var kr=this.pow(a,re);var Pr=ae;while(kr.cmp(Ue)!==0){var Br=kr;for(var Mr=0;Br.cmp(Ue)!==0;Mr++){Br=Br.redSqr()}assert(Mr<Pr);var Or=this.pow(Ar,new BN(1).iushln(Pr-Mr-1));xr=xr.redMul(Or);Ar=Or.redSqr();kr=kr.redMul(Ar);Pr=Mr}return xr};Red.prototype.invm=function invm(a){var C=a._invmp(this.m);if(C.negative!==0){C.negative=0;return this.imod(C).redNeg()}else{return this.imod(C)}};Red.prototype.pow=function pow(a,C){if(C.isZero())return new BN(1).toRed(this);if(C.cmpn(1)===0)return a.clone();var q=4;var re=new Array(1<<q);re[0]=new BN(1).toRed(this);re[1]=a;for(var ae=2;ae<re.length;ae++){re[ae]=this.mul(re[ae-1],a)}var Ue=re[0];var Pt=0;var Wt=0;var Er=C.bitLength()%26;if(Er===0){Er=26}for(ae=C.length-1;ae>=0;ae--){var Ar=C.words[ae];for(var xr=Er-1;xr>=0;xr--){var kr=Ar>>xr&1;if(Ue!==re[0]){Ue=this.sqr(Ue)}if(kr===0&&Pt===0){Wt=0;continue}Pt<<=1;Pt|=kr;Wt++;if(Wt!==q&&(ae!==0||xr!==0))continue;Ue=this.mul(Ue,re[Pt]);Wt=0;Pt=0}Er=26}return Ue};Red.prototype.convertTo=function convertTo(a){var C=a.umod(this.m);return C===a?C.clone():C};Red.prototype.convertFrom=function convertFrom(a){var C=a.clone();C.red=null;return C};BN.mont=function mont(a){return new Mont(a)};function Mont(a){Red.call(this,a);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(a){return this.imod(a.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(a){var C=this.imod(a.mul(this.rinv));C.red=null;return C};Mont.prototype.imul=function imul(a,C){if(a.isZero()||C.isZero()){a.words[0]=0;a.length=1;return a}var q=a.imul(C);var re=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var ae=q.isub(re).iushrn(this.shift);var Ue=ae;if(ae.cmp(this.m)>=0){Ue=ae.isub(this.m)}else if(ae.cmpn(0)<0){Ue=ae.iadd(this.m)}return Ue._forceRed(this)};Mont.prototype.mul=function mul(a,C){if(a.isZero()||C.isZero())return new BN(0)._forceRed(this);var q=a.mul(C);var re=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var ae=q.isub(re).iushrn(this.shift);var Ue=ae;if(ae.cmp(this.m)>=0){Ue=ae.isub(this.m)}else if(ae.cmpn(0)<0){Ue=ae.iadd(this.m)}return Ue._forceRed(this)};Mont.prototype.invm=function invm(a){var C=this.imod(a._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(false||a,this)},9266:(a,C,q)=>{var re;a.exports=function rand(a){if(!re)re=new Rand(null);return re.generate(a)};function Rand(a){this.rand=a}a.exports.Rand=Rand;Rand.prototype.generate=function generate(a){return this._rand(a)};Rand.prototype._rand=function _rand(a){if(this.rand.getBytes)return this.rand.getBytes(a);var C=new Uint8Array(a);for(var q=0;q<C.length;q++)C[q]=this.rand.getByte();return C};if(typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues){Rand.prototype._rand=function _rand(a){var C=new Uint8Array(a);self.crypto.getRandomValues(C);return C}}else if(self.msCrypto&&self.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(a){var C=new Uint8Array(a);self.msCrypto.getRandomValues(C);return C}}else if(typeof window==="object"){Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var ae=q(6113);if(typeof ae.randomBytes!=="function")throw new Error("Not supported");Rand.prototype._rand=function _rand(a){return ae.randomBytes(a)}}catch(a){}}},7218:a=>{"use strict";const mask=(a,C,q,re,ae)=>{for(var Ue=0;Ue<ae;Ue++){q[re+Ue]=a[Ue]^C[Ue&3]}};const unmask=(a,C)=>{const q=a.length;for(var re=0;re<q;re++){a[re]^=C[re&3]}};a.exports={mask:mask,unmask:unmask}},3352:(a,C,q)=>{"use strict";try{a.exports=q(4090)(__dirname)}catch(C){a.exports=q(7218)}},2371:a=>{"use strict";function dataUriToBuffer(a){if(!/^data:/i.test(a)){throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")')}a=a.replace(/\r?\n/g,"");const C=a.indexOf(",");if(C===-1||C<=4){throw new TypeError("malformed data: URI")}const q=a.substring(5,C).split(";");let re="";let ae=false;const Ue=q[0]||"text/plain";let Pt=Ue;for(let a=1;a<q.length;a++){if(q[a]==="base64"){ae=true}else{Pt+=`;${q[a]}`;if(q[a].indexOf("charset=")===0){re=q[a].substring(8)}}}if(!q[0]&&!re.length){Pt+=";charset=US-ASCII";re="US-ASCII"}const Wt=ae?"base64":"ascii";const Er=unescape(a.substring(C+1));const Ar=Buffer.from(Er,Wt);Ar.type=Ue;Ar.typeFull=Pt;Ar.charset=re;return Ar}a.exports=dataUriToBuffer},9485:(a,C,q)=>{"use strict";var re=C;re.version=q(4147).i8;re.utils=q(9274);re.rand=q(9266);re.curve=q(9356);re.curves=q(8315);re.ec=q(8505);re.eddsa=q(2612)},9331:(a,C,q)=>{"use strict";var re=q(6641);var ae=q(9274);var Ue=ae.getNAF;var Pt=ae.getJSF;var Wt=ae.assert;function BaseCurve(a,C){this.type=a;this.p=new re(C.p,16);this.red=C.prime?re.red(C.prime):re.mont(this.p);this.zero=new re(0).toRed(this.red);this.one=new re(1).toRed(this.red);this.two=new re(2).toRed(this.red);this.n=C.n&&new re(C.n,16);this.g=C.g&&this.pointFromJSON(C.g,C.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var q=this.n&&this.p.div(this.n);if(!q||q.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}a.exports=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(a,C){Wt(a.precomputed);var q=a._getDoubles();var re=Ue(C,1,this._bitLength);var ae=(1<<q.step+1)-(q.step%2===0?2:1);ae/=3;var Pt=[];var Er;var Ar;for(Er=0;Er<re.length;Er+=q.step){Ar=0;for(var xr=Er+q.step-1;xr>=Er;xr--)Ar=(Ar<<1)+re[xr];Pt.push(Ar)}var kr=this.jpoint(null,null,null);var Pr=this.jpoint(null,null,null);for(var Br=ae;Br>0;Br--){for(Er=0;Er<Pt.length;Er++){Ar=Pt[Er];if(Ar===Br)Pr=Pr.mixedAdd(q.points[Er]);else if(Ar===-Br)Pr=Pr.mixedAdd(q.points[Er].neg())}kr=kr.add(Pr)}return kr.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(a,C){var q=4;var re=a._getNAFPoints(q);q=re.wnd;var ae=re.points;var Pt=Ue(C,q,this._bitLength);var Er=this.jpoint(null,null,null);for(var Ar=Pt.length-1;Ar>=0;Ar--){for(var xr=0;Ar>=0&&Pt[Ar]===0;Ar--)xr++;if(Ar>=0)xr++;Er=Er.dblp(xr);if(Ar<0)break;var kr=Pt[Ar];Wt(kr!==0);if(a.type==="affine"){if(kr>0)Er=Er.mixedAdd(ae[kr-1>>1]);else Er=Er.mixedAdd(ae[-kr-1>>1].neg())}else{if(kr>0)Er=Er.add(ae[kr-1>>1]);else Er=Er.add(ae[-kr-1>>1].neg())}}return a.type==="affine"?Er.toP():Er};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(a,C,q,re,ae){var Wt=this._wnafT1;var Er=this._wnafT2;var Ar=this._wnafT3;var xr=0;var kr;var Pr;var Br;for(kr=0;kr<re;kr++){Br=C[kr];var Mr=Br._getNAFPoints(a);Wt[kr]=Mr.wnd;Er[kr]=Mr.points}for(kr=re-1;kr>=1;kr-=2){var Or=kr-1;var Ir=kr;if(Wt[Or]!==1||Wt[Ir]!==1){Ar[Or]=Ue(q[Or],Wt[Or],this._bitLength);Ar[Ir]=Ue(q[Ir],Wt[Ir],this._bitLength);xr=Math.max(Ar[Or].length,xr);xr=Math.max(Ar[Ir].length,xr);continue}var Nr=[C[Or],null,null,C[Ir]];if(C[Or].y.cmp(C[Ir].y)===0){Nr[1]=C[Or].add(C[Ir]);Nr[2]=C[Or].toJ().mixedAdd(C[Ir].neg())}else if(C[Or].y.cmp(C[Ir].y.redNeg())===0){Nr[1]=C[Or].toJ().mixedAdd(C[Ir]);Nr[2]=C[Or].add(C[Ir].neg())}else{Nr[1]=C[Or].toJ().mixedAdd(C[Ir]);Nr[2]=C[Or].toJ().mixedAdd(C[Ir].neg())}var jr=[-3,-1,-5,-7,0,7,5,1,3];var Lr=Pt(q[Or],q[Ir]);xr=Math.max(Lr[0].length,xr);Ar[Or]=new Array(xr);Ar[Ir]=new Array(xr);for(Pr=0;Pr<xr;Pr++){var Dr=Lr[0][Pr]|0;var Hr=Lr[1][Pr]|0;Ar[Or][Pr]=jr[(Dr+1)*3+(Hr+1)];Ar[Ir][Pr]=0;Er[Or]=Nr}}var Fr=this.jpoint(null,null,null);var Ur=this._wnafT4;for(kr=xr;kr>=0;kr--){var $r=0;while(kr>=0){var zr=true;for(Pr=0;Pr<re;Pr++){Ur[Pr]=Ar[Pr][kr]|0;if(Ur[Pr]!==0)zr=false}if(!zr)break;$r++;kr--}if(kr>=0)$r++;Fr=Fr.dblp($r);if(kr<0)break;for(Pr=0;Pr<re;Pr++){var Wr=Ur[Pr];Br;if(Wr===0)continue;else if(Wr>0)Br=Er[Pr][Wr-1>>1];else if(Wr<0)Br=Er[Pr][-Wr-1>>1].neg();if(Br.type==="affine")Fr=Fr.mixedAdd(Br);else Fr=Fr.add(Br)}}for(kr=0;kr<re;kr++)Er[kr]=null;if(ae)return Fr;else return Fr.toP()};function BasePoint(a,C){this.curve=a;this.type=C;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(a,C){a=ae.toArray(a,C);var q=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1===2*q){if(a[0]===6)Wt(a[a.length-1]%2===0);else if(a[0]===7)Wt(a[a.length-1]%2===1);var re=this.point(a.slice(1,1+q),a.slice(1+q,1+2*q));return re}else if((a[0]===2||a[0]===3)&&a.length-1===q){return this.pointFromX(a.slice(1,1+q),a[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(a){return this.encode(a,true)};BasePoint.prototype._encode=function _encode(a){var C=this.curve.p.byteLength();var q=this.getX().toArray("be",C);if(a)return[this.getY().isEven()?2:3].concat(q);return[4].concat(q,this.getY().toArray("be",C))};BasePoint.prototype.encode=function encode(a,C){return ae.encode(this._encode(C),a)};BasePoint.prototype.precompute=function precompute(a){if(this.precomputed)return this;var C={doubles:null,naf:null,beta:null};C.naf=this._getNAFPoints(8);C.doubles=this._getDoubles(4,a);C.beta=this._getBeta();this.precomputed=C;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(a){if(!this.precomputed)return false;var C=this.precomputed.doubles;if(!C)return false;return C.points.length>=Math.ceil((a.bitLength()+1)/C.step)};BasePoint.prototype._getDoubles=function _getDoubles(a,C){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var q=[this];var re=this;for(var ae=0;ae<C;ae+=a){for(var Ue=0;Ue<a;Ue++)re=re.dbl();q.push(re)}return{step:a,points:q}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var C=[this];var q=(1<<a)-1;var re=q===1?null:this.dbl();for(var ae=1;ae<q;ae++)C[ae]=C[ae-1].add(re);return{wnd:a,points:C}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(a){var C=this;for(var q=0;q<a;q++)C=C.dbl();return C}},9837:(a,C,q)=>{"use strict";var re=q(9274);var ae=q(6641);var Ue=q(4124);var Pt=q(9331);var Wt=re.assert;function EdwardsCurve(a){this.twisted=(a.a|0)!==1;this.mOneA=this.twisted&&(a.a|0)===-1;this.extended=this.mOneA;Pt.call(this,"edwards",a);this.a=new ae(a.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new ae(a.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new ae(a.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);Wt(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(a.c|0)===1}Ue(EdwardsCurve,Pt);a.exports=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(a){if(this.mOneA)return a.redNeg();else return this.a.redMul(a)};EdwardsCurve.prototype._mulC=function _mulC(a){if(this.oneC)return a;else return this.c.redMul(a)};EdwardsCurve.prototype.jpoint=function jpoint(a,C,q,re){return this.point(a,C,q,re)};EdwardsCurve.prototype.pointFromX=function pointFromX(a,C){a=new ae(a,16);if(!a.red)a=a.toRed(this.red);var q=a.redSqr();var re=this.c2.redSub(this.a.redMul(q));var Ue=this.one.redSub(this.c2.redMul(this.d).redMul(q));var Pt=re.redMul(Ue.redInvm());var Wt=Pt.redSqrt();if(Wt.redSqr().redSub(Pt).cmp(this.zero)!==0)throw new Error("invalid point");var Er=Wt.fromRed().isOdd();if(C&&!Er||!C&&Er)Wt=Wt.redNeg();return this.point(a,Wt)};EdwardsCurve.prototype.pointFromY=function pointFromY(a,C){a=new ae(a,16);if(!a.red)a=a.toRed(this.red);var q=a.redSqr();var re=q.redSub(this.c2);var Ue=q.redMul(this.d).redMul(this.c2).redSub(this.a);var Pt=re.redMul(Ue.redInvm());if(Pt.cmp(this.zero)===0){if(C)throw new Error("invalid point");else return this.point(this.zero,a)}var Wt=Pt.redSqrt();if(Wt.redSqr().redSub(Pt).cmp(this.zero)!==0)throw new Error("invalid point");if(Wt.fromRed().isOdd()!==C)Wt=Wt.redNeg();return this.point(Wt,a)};EdwardsCurve.prototype.validate=function validate(a){if(a.isInfinity())return true;a.normalize();var C=a.x.redSqr();var q=a.y.redSqr();var re=C.redMul(this.a).redAdd(q);var ae=this.c2.redMul(this.one.redAdd(this.d.redMul(C).redMul(q)));return re.cmp(ae)===0};function Point(a,C,q,re,Ue){Pt.BasePoint.call(this,a,"projective");if(C===null&&q===null&&re===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new ae(C,16);this.y=new ae(q,16);this.z=re?new ae(re,16):this.curve.one;this.t=Ue&&new ae(Ue,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}Ue(Point,Pt.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(a){return Point.fromJSON(this,a)};EdwardsCurve.prototype.point=function point(a,C,q,re){return new Point(this,a,C,q,re)};Point.fromJSON=function fromJSON(a,C){return new Point(a,C[0],C[1],C[2])};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function _extDbl(){var a=this.x.redSqr();var C=this.y.redSqr();var q=this.z.redSqr();q=q.redIAdd(q);var re=this.curve._mulA(a);var ae=this.x.redAdd(this.y).redSqr().redISub(a).redISub(C);var Ue=re.redAdd(C);var Pt=Ue.redSub(q);var Wt=re.redSub(C);var Er=ae.redMul(Pt);var Ar=Ue.redMul(Wt);var xr=ae.redMul(Wt);var kr=Pt.redMul(Ue);return this.curve.point(Er,Ar,kr,xr)};Point.prototype._projDbl=function _projDbl(){var a=this.x.redAdd(this.y).redSqr();var C=this.x.redSqr();var q=this.y.redSqr();var re;var ae;var Ue;var Pt;var Wt;var Er;if(this.curve.twisted){Pt=this.curve._mulA(C);var Ar=Pt.redAdd(q);if(this.zOne){re=a.redSub(C).redSub(q).redMul(Ar.redSub(this.curve.two));ae=Ar.redMul(Pt.redSub(q));Ue=Ar.redSqr().redSub(Ar).redSub(Ar)}else{Wt=this.z.redSqr();Er=Ar.redSub(Wt).redISub(Wt);re=a.redSub(C).redISub(q).redMul(Er);ae=Ar.redMul(Pt.redSub(q));Ue=Ar.redMul(Er)}}else{Pt=C.redAdd(q);Wt=this.curve._mulC(this.z).redSqr();Er=Pt.redSub(Wt).redSub(Wt);re=this.curve._mulC(a.redISub(Pt)).redMul(Er);ae=this.curve._mulC(Pt).redMul(C.redISub(q));Ue=Pt.redMul(Er)}return this.curve.point(re,ae,Ue)};Point.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point.prototype._extAdd=function _extAdd(a){var C=this.y.redSub(this.x).redMul(a.y.redSub(a.x));var q=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x));var re=this.t.redMul(this.curve.dd).redMul(a.t);var ae=this.z.redMul(a.z.redAdd(a.z));var Ue=q.redSub(C);var Pt=ae.redSub(re);var Wt=ae.redAdd(re);var Er=q.redAdd(C);var Ar=Ue.redMul(Pt);var xr=Wt.redMul(Er);var kr=Ue.redMul(Er);var Pr=Pt.redMul(Wt);return this.curve.point(Ar,xr,Pr,kr)};Point.prototype._projAdd=function _projAdd(a){var C=this.z.redMul(a.z);var q=C.redSqr();var re=this.x.redMul(a.x);var ae=this.y.redMul(a.y);var Ue=this.curve.d.redMul(re).redMul(ae);var Pt=q.redSub(Ue);var Wt=q.redAdd(Ue);var Er=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub(re).redISub(ae);var Ar=C.redMul(Pt).redMul(Er);var xr;var kr;if(this.curve.twisted){xr=C.redMul(Wt).redMul(ae.redSub(this.curve._mulA(re)));kr=Pt.redMul(Wt)}else{xr=C.redMul(Wt).redMul(ae.redSub(re));kr=this.curve._mulC(Pt).redMul(Wt)}return this.curve.point(Ar,xr,kr)};Point.prototype.add=function add(a){if(this.isInfinity())return a;if(a.isInfinity())return this;if(this.curve.extended)return this._extAdd(a);else return this._projAdd(a)};Point.prototype.mul=function mul(a){if(this._hasDoubles(a))return this.curve._fixedNafMul(this,a);else return this.curve._wnafMul(this,a)};Point.prototype.mulAdd=function mulAdd(a,C,q){return this.curve._wnafMulAdd(1,[this,C],[a,q],2,false)};Point.prototype.jmulAdd=function jmulAdd(a,C,q){return this.curve._wnafMulAdd(1,[this,C],[a,q],2,true)};Point.prototype.normalize=function normalize(){if(this.zOne)return this;var a=this.z.redInvm();this.x=this.x.redMul(a);this.y=this.y.redMul(a);if(this.t)this.t=this.t.redMul(a);this.z=this.curve.one;this.zOne=true;return this};Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()};Point.prototype.getY=function getY(){this.normalize();return this.y.fromRed()};Point.prototype.eq=function eq(a){return this===a||this.getX().cmp(a.getX())===0&&this.getY().cmp(a.getY())===0};Point.prototype.eqXToP=function eqXToP(a){var C=a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(C)===0)return true;var q=a.clone();var re=this.curve.redN.redMul(this.z);for(;;){q.iadd(this.curve.n);if(q.cmp(this.curve.p)>=0)return false;C.redIAdd(re);if(this.x.cmp(C)===0)return true}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add},9356:(a,C,q)=>{"use strict";var re=C;re.base=q(9331);re.short=q(9345);re.mont=q(6820);re.edwards=q(9837)},6820:(a,C,q)=>{"use strict";var re=q(6641);var ae=q(4124);var Ue=q(9331);var Pt=q(9274);function MontCurve(a){Ue.call(this,"mont",a);this.a=new re(a.a,16).toRed(this.red);this.b=new re(a.b,16).toRed(this.red);this.i4=new re(4).toRed(this.red).redInvm();this.two=new re(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}ae(MontCurve,Ue);a.exports=MontCurve;MontCurve.prototype.validate=function validate(a){var C=a.normalize().x;var q=C.redSqr();var re=q.redMul(C).redAdd(q.redMul(this.a)).redAdd(C);var ae=re.redSqrt();return ae.redSqr().cmp(re)===0};function Point(a,C,q){Ue.BasePoint.call(this,a,"projective");if(C===null&&q===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new re(C,16);this.z=new re(q,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}ae(Point,Ue.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(a,C){return this.point(Pt.toArray(a,C),1)};MontCurve.prototype.point=function point(a,C){return new Point(this,a,C)};MontCurve.prototype.pointFromJSON=function pointFromJSON(a){return Point.fromJSON(this,a)};Point.prototype.precompute=function precompute(){};Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())};Point.fromJSON=function fromJSON(a,C){return new Point(a,C[0],C[1]||a.one)};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};Point.prototype.dbl=function dbl(){var a=this.x.redAdd(this.z);var C=a.redSqr();var q=this.x.redSub(this.z);var re=q.redSqr();var ae=C.redSub(re);var Ue=C.redMul(re);var Pt=ae.redMul(re.redAdd(this.curve.a24.redMul(ae)));return this.curve.point(Ue,Pt)};Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")};Point.prototype.diffAdd=function diffAdd(a,C){var q=this.x.redAdd(this.z);var re=this.x.redSub(this.z);var ae=a.x.redAdd(a.z);var Ue=a.x.redSub(a.z);var Pt=Ue.redMul(q);var Wt=ae.redMul(re);var Er=C.z.redMul(Pt.redAdd(Wt).redSqr());var Ar=C.x.redMul(Pt.redISub(Wt).redSqr());return this.curve.point(Er,Ar)};Point.prototype.mul=function mul(a){var C=a.clone();var q=this;var re=this.curve.point(null,null);var ae=this;for(var Ue=[];C.cmpn(0)!==0;C.iushrn(1))Ue.push(C.andln(1));for(var Pt=Ue.length-1;Pt>=0;Pt--){if(Ue[Pt]===0){q=q.diffAdd(re,ae);re=re.dbl()}else{re=q.diffAdd(re,ae);q=q.dbl()}}return re};Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.eq=function eq(a){return this.getX().cmp(a.getX())===0};Point.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()}},9345:(a,C,q)=>{"use strict";var re=q(9274);var ae=q(6641);var Ue=q(4124);var Pt=q(9331);var Wt=re.assert;function ShortCurve(a){Pt.call(this,"short",a);this.a=new ae(a.a,16).toRed(this.red);this.b=new ae(a.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(a);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}Ue(ShortCurve,Pt);a.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(a){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var C;var q;if(a.beta){C=new ae(a.beta,16).toRed(this.red)}else{var re=this._getEndoRoots(this.p);C=re[0].cmp(re[1])<0?re[0]:re[1];C=C.toRed(this.red)}if(a.lambda){q=new ae(a.lambda,16)}else{var Ue=this._getEndoRoots(this.n);if(this.g.mul(Ue[0]).x.cmp(this.g.x.redMul(C))===0){q=Ue[0]}else{q=Ue[1];Wt(this.g.mul(q).x.cmp(this.g.x.redMul(C))===0)}}var Pt;if(a.basis){Pt=a.basis.map((function(a){return{a:new ae(a.a,16),b:new ae(a.b,16)}}))}else{Pt=this._getEndoBasis(q)}return{beta:C,lambda:q,basis:Pt}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(a){var C=a===this.p?this.red:ae.mont(a);var q=new ae(2).toRed(C).redInvm();var re=q.redNeg();var Ue=new ae(3).toRed(C).redNeg().redSqrt().redMul(q);var Pt=re.redAdd(Ue).fromRed();var Wt=re.redSub(Ue).fromRed();return[Pt,Wt]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(a){var C=this.n.ushrn(Math.floor(this.n.bitLength()/2));var q=a;var re=this.n.clone();var Ue=new ae(1);var Pt=new ae(0);var Wt=new ae(0);var Er=new ae(1);var Ar;var xr;var kr;var Pr;var Br;var Mr;var Or;var Ir=0;var Nr;var jr;while(q.cmpn(0)!==0){var Lr=re.div(q);Nr=re.sub(Lr.mul(q));jr=Wt.sub(Lr.mul(Ue));var Dr=Er.sub(Lr.mul(Pt));if(!kr&&Nr.cmp(C)<0){Ar=Or.neg();xr=Ue;kr=Nr.neg();Pr=jr}else if(kr&&++Ir===2){break}Or=Nr;re=q;q=Nr;Wt=Ue;Ue=jr;Er=Pt;Pt=Dr}Br=Nr.neg();Mr=jr;var Hr=kr.sqr().add(Pr.sqr());var Fr=Br.sqr().add(Mr.sqr());if(Fr.cmp(Hr)>=0){Br=Ar;Mr=xr}if(kr.negative){kr=kr.neg();Pr=Pr.neg()}if(Br.negative){Br=Br.neg();Mr=Mr.neg()}return[{a:kr,b:Pr},{a:Br,b:Mr}]};ShortCurve.prototype._endoSplit=function _endoSplit(a){var C=this.endo.basis;var q=C[0];var re=C[1];var ae=re.b.mul(a).divRound(this.n);var Ue=q.b.neg().mul(a).divRound(this.n);var Pt=ae.mul(q.a);var Wt=Ue.mul(re.a);var Er=ae.mul(q.b);var Ar=Ue.mul(re.b);var xr=a.sub(Pt).sub(Wt);var kr=Er.add(Ar).neg();return{k1:xr,k2:kr}};ShortCurve.prototype.pointFromX=function pointFromX(a,C){a=new ae(a,16);if(!a.red)a=a.toRed(this.red);var q=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b);var re=q.redSqrt();if(re.redSqr().redSub(q).cmp(this.zero)!==0)throw new Error("invalid point");var Ue=re.fromRed().isOdd();if(C&&!Ue||!C&&Ue)re=re.redNeg();return this.point(a,re)};ShortCurve.prototype.validate=function validate(a){if(a.inf)return true;var C=a.x;var q=a.y;var re=this.a.redMul(C);var ae=C.redSqr().redMul(C).redIAdd(re).redIAdd(this.b);return q.redSqr().redISub(ae).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(a,C,q){var re=this._endoWnafT1;var ae=this._endoWnafT2;for(var Ue=0;Ue<a.length;Ue++){var Pt=this._endoSplit(C[Ue]);var Wt=a[Ue];var Er=Wt._getBeta();if(Pt.k1.negative){Pt.k1.ineg();Wt=Wt.neg(true)}if(Pt.k2.negative){Pt.k2.ineg();Er=Er.neg(true)}re[Ue*2]=Wt;re[Ue*2+1]=Er;ae[Ue*2]=Pt.k1;ae[Ue*2+1]=Pt.k2}var Ar=this._wnafMulAdd(1,re,ae,Ue*2,q);for(var xr=0;xr<Ue*2;xr++){re[xr]=null;ae[xr]=null}return Ar};function Point(a,C,q,re){Pt.BasePoint.call(this,a,"affine");if(C===null&&q===null){this.x=null;this.y=null;this.inf=true}else{this.x=new ae(C,16);this.y=new ae(q,16);if(re){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}Ue(Point,Pt.BasePoint);ShortCurve.prototype.point=function point(a,C,q){return new Point(this,a,C,q)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(a,C){return Point.fromJSON(this,a,C)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var a=this.precomputed;if(a&&a.beta)return a.beta;var C=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var q=this.curve;var endoMul=function(a){return q.point(a.x.redMul(q.endo.beta),a.y)};a.beta=C;C.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(endoMul)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(endoMul)}}}return C};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(a,C,q){if(typeof C==="string")C=JSON.parse(C);var re=a.point(C[0],C[1],q);if(!C[2])return re;function obj2point(C){return a.point(C[0],C[1],q)}var ae=C[2];re.precomputed={beta:null,doubles:ae.doubles&&{step:ae.doubles.step,points:[re].concat(ae.doubles.points.map(obj2point))},naf:ae.naf&&{wnd:ae.naf.wnd,points:[re].concat(ae.naf.points.map(obj2point))}};return re};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a))return this.curve.point(null,null);if(this.x.cmp(a.x)===0)return this.curve.point(null,null);var C=this.y.redSub(a.y);if(C.cmpn(0)!==0)C=C.redMul(this.x.redSub(a.x).redInvm());var q=C.redSqr().redISub(this.x).redISub(a.x);var re=C.redMul(this.x.redSub(q)).redISub(this.y);return this.curve.point(q,re)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(a.cmpn(0)===0)return this.curve.point(null,null);var C=this.curve.a;var q=this.x.redSqr();var re=a.redInvm();var ae=q.redAdd(q).redIAdd(q).redIAdd(C).redMul(re);var Ue=ae.redSqr().redISub(this.x.redAdd(this.x));var Pt=ae.redMul(this.x.redSub(Ue)).redISub(this.y);return this.curve.point(Ue,Pt)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(a){a=new ae(a,16);if(this.isInfinity())return this;else if(this._hasDoubles(a))return this.curve._fixedNafMul(this,a);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[a]);else return this.curve._wnafMul(this,a)};Point.prototype.mulAdd=function mulAdd(a,C,q){var re=[this,C];var ae=[a,q];if(this.curve.endo)return this.curve._endoWnafMulAdd(re,ae);else return this.curve._wnafMulAdd(1,re,ae,2)};Point.prototype.jmulAdd=function jmulAdd(a,C,q){var re=[this,C];var ae=[a,q];if(this.curve.endo)return this.curve._endoWnafMulAdd(re,ae,true);else return this.curve._wnafMulAdd(1,re,ae,2,true)};Point.prototype.eq=function eq(a){return this===a||this.inf===a.inf&&(this.inf||this.x.cmp(a.x)===0&&this.y.cmp(a.y)===0)};Point.prototype.neg=function neg(a){if(this.inf)return this;var C=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var q=this.precomputed;var negate=function(a){return a.neg()};C.precomputed={naf:q.naf&&{wnd:q.naf.wnd,points:q.naf.points.map(negate)},doubles:q.doubles&&{step:q.doubles.step,points:q.doubles.points.map(negate)}}}return C};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var a=this.curve.jpoint(this.x,this.y,this.curve.one);return a};function JPoint(a,C,q,re){Pt.BasePoint.call(this,a,"jacobian");if(C===null&&q===null&&re===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new ae(0)}else{this.x=new ae(C,16);this.y=new ae(q,16);this.z=new ae(re,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}Ue(JPoint,Pt.BasePoint);ShortCurve.prototype.jpoint=function jpoint(a,C,q){return new JPoint(this,a,C,q)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm();var C=a.redSqr();var q=this.x.redMul(C);var re=this.y.redMul(C).redMul(a);return this.curve.point(q,re)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var C=a.z.redSqr();var q=this.z.redSqr();var re=this.x.redMul(C);var ae=a.x.redMul(q);var Ue=this.y.redMul(C.redMul(a.z));var Pt=a.y.redMul(q.redMul(this.z));var Wt=re.redSub(ae);var Er=Ue.redSub(Pt);if(Wt.cmpn(0)===0){if(Er.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var Ar=Wt.redSqr();var xr=Ar.redMul(Wt);var kr=re.redMul(Ar);var Pr=Er.redSqr().redIAdd(xr).redISub(kr).redISub(kr);var Br=Er.redMul(kr.redISub(Pr)).redISub(Ue.redMul(xr));var Mr=this.z.redMul(a.z).redMul(Wt);return this.curve.jpoint(Pr,Br,Mr)};JPoint.prototype.mixedAdd=function mixedAdd(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var C=this.z.redSqr();var q=this.x;var re=a.x.redMul(C);var ae=this.y;var Ue=a.y.redMul(C).redMul(this.z);var Pt=q.redSub(re);var Wt=ae.redSub(Ue);if(Pt.cmpn(0)===0){if(Wt.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var Er=Pt.redSqr();var Ar=Er.redMul(Pt);var xr=q.redMul(Er);var kr=Wt.redSqr().redIAdd(Ar).redISub(xr).redISub(xr);var Pr=Wt.redMul(xr.redISub(kr)).redISub(ae.redMul(Ar));var Br=this.z.redMul(Pt);return this.curve.jpoint(kr,Pr,Br)};JPoint.prototype.dblp=function dblp(a){if(a===0)return this;if(this.isInfinity())return this;if(!a)return this.dbl();var C;if(this.curve.zeroA||this.curve.threeA){var q=this;for(C=0;C<a;C++)q=q.dbl();return q}var re=this.curve.a;var ae=this.curve.tinv;var Ue=this.x;var Pt=this.y;var Wt=this.z;var Er=Wt.redSqr().redSqr();var Ar=Pt.redAdd(Pt);for(C=0;C<a;C++){var xr=Ue.redSqr();var kr=Ar.redSqr();var Pr=kr.redSqr();var Br=xr.redAdd(xr).redIAdd(xr).redIAdd(re.redMul(Er));var Mr=Ue.redMul(kr);var Or=Br.redSqr().redISub(Mr.redAdd(Mr));var Ir=Mr.redISub(Or);var Nr=Br.redMul(Ir);Nr=Nr.redIAdd(Nr).redISub(Pr);var jr=Ar.redMul(Wt);if(C+1<a)Er=Er.redMul(Pr);Ue=Or;Wt=jr;Ar=Nr}return this.curve.jpoint(Ue,Ar.redMul(ae),Wt)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var a;var C;var q;if(this.zOne){var re=this.x.redSqr();var ae=this.y.redSqr();var Ue=ae.redSqr();var Pt=this.x.redAdd(ae).redSqr().redISub(re).redISub(Ue);Pt=Pt.redIAdd(Pt);var Wt=re.redAdd(re).redIAdd(re);var Er=Wt.redSqr().redISub(Pt).redISub(Pt);var Ar=Ue.redIAdd(Ue);Ar=Ar.redIAdd(Ar);Ar=Ar.redIAdd(Ar);a=Er;C=Wt.redMul(Pt.redISub(Er)).redISub(Ar);q=this.y.redAdd(this.y)}else{var xr=this.x.redSqr();var kr=this.y.redSqr();var Pr=kr.redSqr();var Br=this.x.redAdd(kr).redSqr().redISub(xr).redISub(Pr);Br=Br.redIAdd(Br);var Mr=xr.redAdd(xr).redIAdd(xr);var Or=Mr.redSqr();var Ir=Pr.redIAdd(Pr);Ir=Ir.redIAdd(Ir);Ir=Ir.redIAdd(Ir);a=Or.redISub(Br).redISub(Br);C=Mr.redMul(Br.redISub(a)).redISub(Ir);q=this.y.redMul(this.z);q=q.redIAdd(q)}return this.curve.jpoint(a,C,q)};JPoint.prototype._threeDbl=function _threeDbl(){var a;var C;var q;if(this.zOne){var re=this.x.redSqr();var ae=this.y.redSqr();var Ue=ae.redSqr();var Pt=this.x.redAdd(ae).redSqr().redISub(re).redISub(Ue);Pt=Pt.redIAdd(Pt);var Wt=re.redAdd(re).redIAdd(re).redIAdd(this.curve.a);var Er=Wt.redSqr().redISub(Pt).redISub(Pt);a=Er;var Ar=Ue.redIAdd(Ue);Ar=Ar.redIAdd(Ar);Ar=Ar.redIAdd(Ar);C=Wt.redMul(Pt.redISub(Er)).redISub(Ar);q=this.y.redAdd(this.y)}else{var xr=this.z.redSqr();var kr=this.y.redSqr();var Pr=this.x.redMul(kr);var Br=this.x.redSub(xr).redMul(this.x.redAdd(xr));Br=Br.redAdd(Br).redIAdd(Br);var Mr=Pr.redIAdd(Pr);Mr=Mr.redIAdd(Mr);var Or=Mr.redAdd(Mr);a=Br.redSqr().redISub(Or);q=this.y.redAdd(this.z).redSqr().redISub(kr).redISub(xr);var Ir=kr.redSqr();Ir=Ir.redIAdd(Ir);Ir=Ir.redIAdd(Ir);Ir=Ir.redIAdd(Ir);C=Br.redMul(Mr.redISub(a)).redISub(Ir)}return this.curve.jpoint(a,C,q)};JPoint.prototype._dbl=function _dbl(){var a=this.curve.a;var C=this.x;var q=this.y;var re=this.z;var ae=re.redSqr().redSqr();var Ue=C.redSqr();var Pt=q.redSqr();var Wt=Ue.redAdd(Ue).redIAdd(Ue).redIAdd(a.redMul(ae));var Er=C.redAdd(C);Er=Er.redIAdd(Er);var Ar=Er.redMul(Pt);var xr=Wt.redSqr().redISub(Ar.redAdd(Ar));var kr=Ar.redISub(xr);var Pr=Pt.redSqr();Pr=Pr.redIAdd(Pr);Pr=Pr.redIAdd(Pr);Pr=Pr.redIAdd(Pr);var Br=Wt.redMul(kr).redISub(Pr);var Mr=q.redAdd(q).redMul(re);return this.curve.jpoint(xr,Br,Mr)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr();var C=this.y.redSqr();var q=this.z.redSqr();var re=C.redSqr();var ae=a.redAdd(a).redIAdd(a);var Ue=ae.redSqr();var Pt=this.x.redAdd(C).redSqr().redISub(a).redISub(re);Pt=Pt.redIAdd(Pt);Pt=Pt.redAdd(Pt).redIAdd(Pt);Pt=Pt.redISub(Ue);var Wt=Pt.redSqr();var Er=re.redIAdd(re);Er=Er.redIAdd(Er);Er=Er.redIAdd(Er);Er=Er.redIAdd(Er);var Ar=ae.redIAdd(Pt).redSqr().redISub(Ue).redISub(Wt).redISub(Er);var xr=C.redMul(Ar);xr=xr.redIAdd(xr);xr=xr.redIAdd(xr);var kr=this.x.redMul(Wt).redISub(xr);kr=kr.redIAdd(kr);kr=kr.redIAdd(kr);var Pr=this.y.redMul(Ar.redMul(Er.redISub(Ar)).redISub(Pt.redMul(Wt)));Pr=Pr.redIAdd(Pr);Pr=Pr.redIAdd(Pr);Pr=Pr.redIAdd(Pr);var Br=this.z.redAdd(Pt).redSqr().redISub(q).redISub(Wt);return this.curve.jpoint(kr,Pr,Br)};JPoint.prototype.mul=function mul(a,C){a=new ae(a,C);return this.curve._wnafMul(this,a)};JPoint.prototype.eq=function eq(a){if(a.type==="affine")return this.eq(a.toJ());if(this===a)return true;var C=this.z.redSqr();var q=a.z.redSqr();if(this.x.redMul(q).redISub(a.x.redMul(C)).cmpn(0)!==0)return false;var re=C.redMul(this.z);var ae=q.redMul(a.z);return this.y.redMul(ae).redISub(a.y.redMul(re)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(a){var C=this.z.redSqr();var q=a.toRed(this.curve.red).redMul(C);if(this.x.cmp(q)===0)return true;var re=a.clone();var ae=this.curve.redN.redMul(C);for(;;){re.iadd(this.curve.n);if(re.cmp(this.curve.p)>=0)return false;q.redIAdd(ae);if(this.x.cmp(q)===0)return true}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0}},8315:(a,C,q)=>{"use strict";var re=C;var ae=q(5591);var Ue=q(9356);var Pt=q(9274);var Wt=Pt.assert;function PresetCurve(a){if(a.type==="short")this.curve=new Ue.short(a);else if(a.type==="edwards")this.curve=new Ue.edwards(a);else this.curve=new Ue.mont(a);this.g=this.curve.g;this.n=this.curve.n;this.hash=a.hash;Wt(this.g.validate(),"Invalid curve");Wt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}re.PresetCurve=PresetCurve;function defineCurve(a,C){Object.defineProperty(re,a,{configurable:true,enumerable:true,get:function(){var q=new PresetCurve(C);Object.defineProperty(re,a,{configurable:true,enumerable:true,value:q});return q}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ae.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ae.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ae.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ae.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ae.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ae.sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ae.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Er;try{Er=q(806)}catch(a){Er=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ae.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Er]})},8505:(a,C,q)=>{"use strict";var re=q(6641);var ae=q(4909);var Ue=q(9274);var Pt=q(8315);var Wt=q(9266);var Er=Ue.assert;var Ar=q(1663);var xr=q(173);function EC(a){if(!(this instanceof EC))return new EC(a);if(typeof a==="string"){Er(Object.prototype.hasOwnProperty.call(Pt,a),"Unknown curve "+a);a=Pt[a]}if(a instanceof Pt.PresetCurve)a={curve:a};this.curve=a.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=a.curve.g;this.g.precompute(a.curve.n.bitLength()+1);this.hash=a.hash||a.curve.hash}a.exports=EC;EC.prototype.keyPair=function keyPair(a){return new Ar(this,a)};EC.prototype.keyFromPrivate=function keyFromPrivate(a,C){return Ar.fromPrivate(this,a,C)};EC.prototype.keyFromPublic=function keyFromPublic(a,C){return Ar.fromPublic(this,a,C)};EC.prototype.genKeyPair=function genKeyPair(a){if(!a)a={};var C=new ae({hash:this.hash,pers:a.pers,persEnc:a.persEnc||"utf8",entropy:a.entropy||Wt(this.hash.hmacStrength),entropyEnc:a.entropy&&a.entropyEnc||"utf8",nonce:this.n.toArray()});var q=this.n.byteLength();var Ue=this.n.sub(new re(2));for(;;){var Pt=new re(C.generate(q));if(Pt.cmp(Ue)>0)continue;Pt.iaddn(1);return this.keyFromPrivate(Pt)}};EC.prototype._truncateToN=function _truncateToN(a,C){var q=a.byteLength()*8-this.n.bitLength();if(q>0)a=a.ushrn(q);if(!C&&a.cmp(this.n)>=0)return a.sub(this.n);else return a};EC.prototype.sign=function sign(a,C,q,Ue){if(typeof q==="object"){Ue=q;q=null}if(!Ue)Ue={};C=this.keyFromPrivate(C,q);a=this._truncateToN(new re(a,16));var Pt=this.n.byteLength();var Wt=C.getPrivate().toArray("be",Pt);var Er=a.toArray("be",Pt);var Ar=new ae({hash:this.hash,entropy:Wt,nonce:Er,pers:Ue.pers,persEnc:Ue.persEnc||"utf8"});var kr=this.n.sub(new re(1));for(var Pr=0;;Pr++){var Br=Ue.k?Ue.k(Pr):new re(Ar.generate(this.n.byteLength()));Br=this._truncateToN(Br,true);if(Br.cmpn(1)<=0||Br.cmp(kr)>=0)continue;var Mr=this.g.mul(Br);if(Mr.isInfinity())continue;var Or=Mr.getX();var Ir=Or.umod(this.n);if(Ir.cmpn(0)===0)continue;var Nr=Br.invm(this.n).mul(Ir.mul(C.getPrivate()).iadd(a));Nr=Nr.umod(this.n);if(Nr.cmpn(0)===0)continue;var jr=(Mr.getY().isOdd()?1:0)|(Or.cmp(Ir)!==0?2:0);if(Ue.canonical&&Nr.cmp(this.nh)>0){Nr=this.n.sub(Nr);jr^=1}return new xr({r:Ir,s:Nr,recoveryParam:jr})}};EC.prototype.verify=function verify(a,C,q,ae){a=this._truncateToN(new re(a,16));q=this.keyFromPublic(q,ae);C=new xr(C,"hex");var Ue=C.r;var Pt=C.s;if(Ue.cmpn(1)<0||Ue.cmp(this.n)>=0)return false;if(Pt.cmpn(1)<0||Pt.cmp(this.n)>=0)return false;var Wt=Pt.invm(this.n);var Er=Wt.mul(a).umod(this.n);var Ar=Wt.mul(Ue).umod(this.n);var kr;if(!this.curve._maxwellTrick){kr=this.g.mulAdd(Er,q.getPublic(),Ar);if(kr.isInfinity())return false;return kr.getX().umod(this.n).cmp(Ue)===0}kr=this.g.jmulAdd(Er,q.getPublic(),Ar);if(kr.isInfinity())return false;return kr.eqXToP(Ue)};EC.prototype.recoverPubKey=function(a,C,q,ae){Er((3&q)===q,"The recovery param is more than two bits");C=new xr(C,ae);var Ue=this.n;var Pt=new re(a);var Wt=C.r;var Ar=C.s;var kr=q&1;var Pr=q>>1;if(Wt.cmp(this.curve.p.umod(this.curve.n))>=0&&Pr)throw new Error("Unable to find sencond key candinate");if(Pr)Wt=this.curve.pointFromX(Wt.add(this.curve.n),kr);else Wt=this.curve.pointFromX(Wt,kr);var Br=C.r.invm(Ue);var Mr=Ue.sub(Pt).mul(Br).umod(Ue);var Or=Ar.mul(Br).umod(Ue);return this.g.mulAdd(Mr,Wt,Or)};EC.prototype.getKeyRecoveryParam=function(a,C,q,re){C=new xr(C,re);if(C.recoveryParam!==null)return C.recoveryParam;for(var ae=0;ae<4;ae++){var Ue;try{Ue=this.recoverPubKey(a,C,ae)}catch(a){continue}if(Ue.eq(q))return ae}throw new Error("Unable to find valid recovery factor")}},1663:(a,C,q)=>{"use strict";var re=q(6641);var ae=q(9274);var Ue=ae.assert;function KeyPair(a,C){this.ec=a;this.priv=null;this.pub=null;if(C.priv)this._importPrivate(C.priv,C.privEnc);if(C.pub)this._importPublic(C.pub,C.pubEnc)}a.exports=KeyPair;KeyPair.fromPublic=function fromPublic(a,C,q){if(C instanceof KeyPair)return C;return new KeyPair(a,{pub:C,pubEnc:q})};KeyPair.fromPrivate=function fromPrivate(a,C,q){if(C instanceof KeyPair)return C;return new KeyPair(a,{priv:C,privEnc:q})};KeyPair.prototype.validate=function validate(){var a=this.getPublic();if(a.isInfinity())return{result:false,reason:"Invalid public key"};if(!a.validate())return{result:false,reason:"Public key is not a point"};if(!a.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(a,C){if(typeof a==="string"){C=a;a=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!C)return this.pub;return this.pub.encode(C,a)};KeyPair.prototype.getPrivate=function getPrivate(a){if(a==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(a,C){this.priv=new re(a,C||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(a,C){if(a.x||a.y){if(this.ec.curve.type==="mont"){Ue(a.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){Ue(a.x&&a.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,C)};KeyPair.prototype.derive=function derive(a){if(!a.validate()){Ue(a.validate(),"public point not validated")}return a.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(a,C,q){return this.ec.sign(a,this,C,q)};KeyPair.prototype.verify=function verify(a,C){return this.ec.verify(a,C,this)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},173:(a,C,q)=>{"use strict";var re=q(6641);var ae=q(9274);var Ue=ae.assert;function Signature(a,C){if(a instanceof Signature)return a;if(this._importDER(a,C))return;Ue(a.r&&a.s,"Signature without r or s");this.r=new re(a.r,16);this.s=new re(a.s,16);if(a.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=a.recoveryParam}a.exports=Signature;function Position(){this.place=0}function getLength(a,C){var q=a[C.place++];if(!(q&128)){return q}var re=q&15;if(re===0||re>4){return false}var ae=0;for(var Ue=0,Pt=C.place;Ue<re;Ue++,Pt++){ae<<=8;ae|=a[Pt];ae>>>=0}if(ae<=127){return false}C.place=Pt;return ae}function rmPadding(a){var C=0;var q=a.length-1;while(!a[C]&&!(a[C+1]&128)&&C<q){C++}if(C===0){return a}return a.slice(C)}Signature.prototype._importDER=function _importDER(a,C){a=ae.toArray(a,C);var q=new Position;if(a[q.place++]!==48){return false}var Ue=getLength(a,q);if(Ue===false){return false}if(Ue+q.place!==a.length){return false}if(a[q.place++]!==2){return false}var Pt=getLength(a,q);if(Pt===false){return false}var Wt=a.slice(q.place,Pt+q.place);q.place+=Pt;if(a[q.place++]!==2){return false}var Er=getLength(a,q);if(Er===false){return false}if(a.length!==Er+q.place){return false}var Ar=a.slice(q.place,Er+q.place);if(Wt[0]===0){if(Wt[1]&128){Wt=Wt.slice(1)}else{return false}}if(Ar[0]===0){if(Ar[1]&128){Ar=Ar.slice(1)}else{return false}}this.r=new re(Wt);this.s=new re(Ar);this.recoveryParam=null;return true};function constructLength(a,C){if(C<128){a.push(C);return}var q=1+(Math.log(C)/Math.LN2>>>3);a.push(q|128);while(--q){a.push(C>>>(q<<3)&255)}a.push(C)}Signature.prototype.toDER=function toDER(a){var C=this.r.toArray();var q=this.s.toArray();if(C[0]&128)C=[0].concat(C);if(q[0]&128)q=[0].concat(q);C=rmPadding(C);q=rmPadding(q);while(!q[0]&&!(q[1]&128)){q=q.slice(1)}var re=[2];constructLength(re,C.length);re=re.concat(C);re.push(2);constructLength(re,q.length);var Ue=re.concat(q);var Pt=[48];constructLength(Pt,Ue.length);Pt=Pt.concat(Ue);return ae.encode(Pt,a)}},2612:(a,C,q)=>{"use strict";var re=q(5591);var ae=q(8315);var Ue=q(9274);var Pt=Ue.assert;var Wt=Ue.parseBytes;var Er=q(7247);var Ar=q(1087);function EDDSA(a){Pt(a==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(a);a=ae[a].curve;this.curve=a;this.g=a.g;this.g.precompute(a.n.bitLength()+1);this.pointClass=a.point().constructor;this.encodingLength=Math.ceil(a.n.bitLength()/8);this.hash=re.sha512}a.exports=EDDSA;EDDSA.prototype.sign=function sign(a,C){a=Wt(a);var q=this.keyFromSecret(C);var re=this.hashInt(q.messagePrefix(),a);var ae=this.g.mul(re);var Ue=this.encodePoint(ae);var Pt=this.hashInt(Ue,q.pubBytes(),a).mul(q.priv());var Er=re.add(Pt).umod(this.curve.n);return this.makeSignature({R:ae,S:Er,Rencoded:Ue})};EDDSA.prototype.verify=function verify(a,C,q){a=Wt(a);C=this.makeSignature(C);var re=this.keyFromPublic(q);var ae=this.hashInt(C.Rencoded(),re.pubBytes(),a);var Ue=this.g.mul(C.S());var Pt=C.R().add(re.pub().mul(ae));return Pt.eq(Ue)};EDDSA.prototype.hashInt=function hashInt(){var a=this.hash();for(var C=0;C<arguments.length;C++)a.update(arguments[C]);return Ue.intFromLE(a.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function keyFromPublic(a){return Er.fromPublic(this,a)};EDDSA.prototype.keyFromSecret=function keyFromSecret(a){return Er.fromSecret(this,a)};EDDSA.prototype.makeSignature=function makeSignature(a){if(a instanceof Ar)return a;return new Ar(this,a)};EDDSA.prototype.encodePoint=function encodePoint(a){var C=a.getY().toArray("le",this.encodingLength);C[this.encodingLength-1]|=a.getX().isOdd()?128:0;return C};EDDSA.prototype.decodePoint=function decodePoint(a){a=Ue.parseBytes(a);var C=a.length-1;var q=a.slice(0,C).concat(a[C]&~128);var re=(a[C]&128)!==0;var ae=Ue.intFromLE(q);return this.curve.pointFromY(ae,re)};EDDSA.prototype.encodeInt=function encodeInt(a){return a.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function decodeInt(a){return Ue.intFromLE(a)};EDDSA.prototype.isPoint=function isPoint(a){return a instanceof this.pointClass}},7247:(a,C,q)=>{"use strict";var re=q(9274);var ae=re.assert;var Ue=re.parseBytes;var Pt=re.cachedProperty;function KeyPair(a,C){this.eddsa=a;this._secret=Ue(C.secret);if(a.isPoint(C.pub))this._pub=C.pub;else this._pubBytes=Ue(C.pub)}KeyPair.fromPublic=function fromPublic(a,C){if(C instanceof KeyPair)return C;return new KeyPair(a,{pub:C})};KeyPair.fromSecret=function fromSecret(a,C){if(C instanceof KeyPair)return C;return new KeyPair(a,{secret:C})};KeyPair.prototype.secret=function secret(){return this._secret};Pt(KeyPair,"pubBytes",(function pubBytes(){return this.eddsa.encodePoint(this.pub())}));Pt(KeyPair,"pub",(function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())}));Pt(KeyPair,"privBytes",(function privBytes(){var a=this.eddsa;var C=this.hash();var q=a.encodingLength-1;var re=C.slice(0,a.encodingLength);re[0]&=248;re[q]&=127;re[q]|=64;return re}));Pt(KeyPair,"priv",(function priv(){return this.eddsa.decodeInt(this.privBytes())}));Pt(KeyPair,"hash",(function hash(){return this.eddsa.hash().update(this.secret()).digest()}));Pt(KeyPair,"messagePrefix",(function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)}));KeyPair.prototype.sign=function sign(a){ae(this._secret,"KeyPair can only verify");return this.eddsa.sign(a,this)};KeyPair.prototype.verify=function verify(a,C){return this.eddsa.verify(a,C,this)};KeyPair.prototype.getSecret=function getSecret(a){ae(this._secret,"KeyPair is public only");return re.encode(this.secret(),a)};KeyPair.prototype.getPublic=function getPublic(a){return re.encode(this.pubBytes(),a)};a.exports=KeyPair},1087:(a,C,q)=>{"use strict";var re=q(6641);var ae=q(9274);var Ue=ae.assert;var Pt=ae.cachedProperty;var Wt=ae.parseBytes;function Signature(a,C){this.eddsa=a;if(typeof C!=="object")C=Wt(C);if(Array.isArray(C)){C={R:C.slice(0,a.encodingLength),S:C.slice(a.encodingLength)}}Ue(C.R&&C.S,"Signature without R or S");if(a.isPoint(C.R))this._R=C.R;if(C.S instanceof re)this._S=C.S;this._Rencoded=Array.isArray(C.R)?C.R:C.Rencoded;this._Sencoded=Array.isArray(C.S)?C.S:C.Sencoded}Pt(Signature,"S",(function S(){return this.eddsa.decodeInt(this.Sencoded())}));Pt(Signature,"R",(function R(){return this.eddsa.decodePoint(this.Rencoded())}));Pt(Signature,"Rencoded",(function Rencoded(){return this.eddsa.encodePoint(this.R())}));Pt(Signature,"Sencoded",(function Sencoded(){return this.eddsa.encodeInt(this.S())}));Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())};Signature.prototype.toHex=function toHex(){return ae.encode(this.toBytes(),"hex").toUpperCase()};a.exports=Signature},806:a=>{a.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},9274:(a,C,q)=>{"use strict";var re=C;var ae=q(6641);var Ue=q(910);var Pt=q(8165);re.assert=Ue;re.toArray=Pt.toArray;re.zero2=Pt.zero2;re.toHex=Pt.toHex;re.encode=Pt.encode;function getNAF(a,C,q){var re=new Array(Math.max(a.bitLength(),q)+1);re.fill(0);var ae=1<<C+1;var Ue=a.clone();for(var Pt=0;Pt<re.length;Pt++){var Wt;var Er=Ue.andln(ae-1);if(Ue.isOdd()){if(Er>(ae>>1)-1)Wt=(ae>>1)-Er;else Wt=Er;Ue.isubn(Wt)}else{Wt=0}re[Pt]=Wt;Ue.iushrn(1)}return re}re.getNAF=getNAF;function getJSF(a,C){var q=[[],[]];a=a.clone();C=C.clone();var re=0;var ae=0;var Ue;while(a.cmpn(-re)>0||C.cmpn(-ae)>0){var Pt=a.andln(3)+re&3;var Wt=C.andln(3)+ae&3;if(Pt===3)Pt=-1;if(Wt===3)Wt=-1;var Er;if((Pt&1)===0){Er=0}else{Ue=a.andln(7)+re&7;if((Ue===3||Ue===5)&&Wt===2)Er=-Pt;else Er=Pt}q[0].push(Er);var Ar;if((Wt&1)===0){Ar=0}else{Ue=C.andln(7)+ae&7;if((Ue===3||Ue===5)&&Pt===2)Ar=-Wt;else Ar=Wt}q[1].push(Ar);if(2*re===Er+1)re=1-re;if(2*ae===Ar+1)ae=1-ae;a.iushrn(1);C.iushrn(1)}return q}re.getJSF=getJSF;function cachedProperty(a,C,q){var re="_"+C;a.prototype[C]=function cachedProperty(){return this[re]!==undefined?this[re]:this[re]=q.call(this)}}re.cachedProperty=cachedProperty;function parseBytes(a){return typeof a==="string"?re.toArray(a,"hex"):a}re.parseBytes=parseBytes;function intFromLE(a){return new ae(a,"hex","le")}re.intFromLE=intFromLE},4697:(a,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});const q=new WeakMap;const re=new WeakMap;function pd(a){const C=q.get(a);console.assert(C!=null,"'this' is expected an Event object, but got",a);return C}function setCancelFlag(a){if(a.passiveListener!=null){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error("Unable to preventDefault inside passive event listener invocation.",a.passiveListener)}return}if(!a.event.cancelable){return}a.canceled=true;if(typeof a.event.preventDefault==="function"){a.event.preventDefault()}}function Event(a,C){q.set(this,{eventTarget:a,event:C,eventPhase:2,currentTarget:a,canceled:false,stopped:false,immediateStopped:false,passiveListener:null,timeStamp:C.timeStamp||Date.now()});Object.defineProperty(this,"isTrusted",{value:false,enumerable:true});const re=Object.keys(C);for(let a=0;a<re.length;++a){const C=re[a];if(!(C in this)){Object.defineProperty(this,C,defineRedirectDescriptor(C))}}}Event.prototype={get type(){return pd(this).event.type},get target(){return pd(this).eventTarget},get currentTarget(){return pd(this).currentTarget},composedPath(){const a=pd(this).currentTarget;if(a==null){return[]}return[a]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return pd(this).eventPhase},stopPropagation(){const a=pd(this);a.stopped=true;if(typeof a.event.stopPropagation==="function"){a.event.stopPropagation()}},stopImmediatePropagation(){const a=pd(this);a.stopped=true;a.immediateStopped=true;if(typeof a.event.stopImmediatePropagation==="function"){a.event.stopImmediatePropagation()}},get bubbles(){return Boolean(pd(this).event.bubbles)},get cancelable(){return Boolean(pd(this).event.cancelable)},preventDefault(){setCancelFlag(pd(this))},get defaultPrevented(){return pd(this).canceled},get composed(){return Boolean(pd(this).event.composed)},get timeStamp(){return pd(this).timeStamp},get srcElement(){return pd(this).eventTarget},get cancelBubble(){return pd(this).stopped},set cancelBubble(a){if(!a){return}const C=pd(this);C.stopped=true;if(typeof C.event.cancelBubble==="boolean"){C.event.cancelBubble=true}},get returnValue(){return!pd(this).canceled},set returnValue(a){if(!a){setCancelFlag(pd(this))}},initEvent(){}};Object.defineProperty(Event.prototype,"constructor",{value:Event,configurable:true,writable:true});if(typeof window!=="undefined"&&typeof window.Event!=="undefined"){Object.setPrototypeOf(Event.prototype,window.Event.prototype);re.set(window.Event.prototype,Event)}function defineRedirectDescriptor(a){return{get(){return pd(this).event[a]},set(C){pd(this).event[a]=C},configurable:true,enumerable:true}}function defineCallDescriptor(a){return{value(){const C=pd(this).event;return C[a].apply(C,arguments)},configurable:true,enumerable:true}}function defineWrapper(a,C){const q=Object.keys(C);if(q.length===0){return a}function CustomEvent(C,q){a.call(this,C,q)}CustomEvent.prototype=Object.create(a.prototype,{constructor:{value:CustomEvent,configurable:true,writable:true}});for(let re=0;re<q.length;++re){const ae=q[re];if(!(ae in a.prototype)){const a=Object.getOwnPropertyDescriptor(C,ae);const q=typeof a.value==="function";Object.defineProperty(CustomEvent.prototype,ae,q?defineCallDescriptor(ae):defineRedirectDescriptor(ae))}}return CustomEvent}function getWrapper(a){if(a==null||a===Object.prototype){return Event}let C=re.get(a);if(C==null){C=defineWrapper(getWrapper(Object.getPrototypeOf(a)),a);re.set(a,C)}return C}function wrapEvent(a,C){const q=getWrapper(Object.getPrototypeOf(C));return new q(a,C)}function isStopped(a){return pd(a).immediateStopped}function setEventPhase(a,C){pd(a).eventPhase=C}function setCurrentTarget(a,C){pd(a).currentTarget=C}function setPassiveListener(a,C){pd(a).passiveListener=C}const ae=new WeakMap;const Ue=1;const Pt=2;const Wt=3;function isObject(a){return a!==null&&typeof a==="object"}function getListeners(a){const C=ae.get(a);if(C==null){throw new TypeError("'this' is expected an EventTarget object, but got another value.")}return C}function defineEventAttributeDescriptor(a){return{get(){const C=getListeners(this);let q=C.get(a);while(q!=null){if(q.listenerType===Wt){return q.listener}q=q.next}return null},set(C){if(typeof C!=="function"&&!isObject(C)){C=null}const q=getListeners(this);let re=null;let ae=q.get(a);while(ae!=null){if(ae.listenerType===Wt){if(re!==null){re.next=ae.next}else if(ae.next!==null){q.set(a,ae.next)}else{q.delete(a)}}else{re=ae}ae=ae.next}if(C!==null){const ae={listener:C,listenerType:Wt,passive:false,once:false,next:null};if(re===null){q.set(a,ae)}else{re.next=ae}}},configurable:true,enumerable:true}}function defineEventAttribute(a,C){Object.defineProperty(a,`on${C}`,defineEventAttributeDescriptor(C))}function defineCustomEventTarget(a){function CustomEventTarget(){EventTarget.call(this)}CustomEventTarget.prototype=Object.create(EventTarget.prototype,{constructor:{value:CustomEventTarget,configurable:true,writable:true}});for(let C=0;C<a.length;++C){defineEventAttribute(CustomEventTarget.prototype,a[C])}return CustomEventTarget}function EventTarget(){if(this instanceof EventTarget){ae.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0])){return defineCustomEventTarget(arguments[0])}if(arguments.length>0){const a=new Array(arguments.length);for(let C=0;C<arguments.length;++C){a[C]=arguments[C]}return defineCustomEventTarget(a)}throw new TypeError("Cannot call a class as a function")}EventTarget.prototype={addEventListener(a,C,q){if(C==null){return}if(typeof C!=="function"&&!isObject(C)){throw new TypeError("'listener' should be a function or an object.")}const re=getListeners(this);const ae=isObject(q);const Wt=ae?Boolean(q.capture):Boolean(q);const Er=Wt?Ue:Pt;const Ar={listener:C,listenerType:Er,passive:ae&&Boolean(q.passive),once:ae&&Boolean(q.once),next:null};let xr=re.get(a);if(xr===undefined){re.set(a,Ar);return}let kr=null;while(xr!=null){if(xr.listener===C&&xr.listenerType===Er){return}kr=xr;xr=xr.next}kr.next=Ar},removeEventListener(a,C,q){if(C==null){return}const re=getListeners(this);const ae=isObject(q)?Boolean(q.capture):Boolean(q);const Wt=ae?Ue:Pt;let Er=null;let Ar=re.get(a);while(Ar!=null){if(Ar.listener===C&&Ar.listenerType===Wt){if(Er!==null){Er.next=Ar.next}else if(Ar.next!==null){re.set(a,Ar.next)}else{re.delete(a)}return}Er=Ar;Ar=Ar.next}},dispatchEvent(a){if(a==null||typeof a.type!=="string"){throw new TypeError('"event.type" should be a string.')}const C=getListeners(this);const q=a.type;let re=C.get(q);if(re==null){return true}const ae=wrapEvent(this,a);let Ue=null;while(re!=null){if(re.once){if(Ue!==null){Ue.next=re.next}else if(re.next!==null){C.set(q,re.next)}else{C.delete(q)}}else{Ue=re}setPassiveListener(ae,re.passive?re.listener:null);if(typeof re.listener==="function"){try{re.listener.call(this,ae)}catch(a){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(a)}}}else if(re.listenerType!==Wt&&typeof re.listener.handleEvent==="function"){re.listener.handleEvent(ae)}if(isStopped(ae)){break}re=re.next}setPassiveListener(ae,null);setEventPhase(ae,0);setCurrentTarget(ae,null);return!ae.defaultPrevented}};Object.defineProperty(EventTarget.prototype,"constructor",{value:EventTarget,configurable:true,writable:true});if(typeof window!=="undefined"&&typeof window.EventTarget!=="undefined"){Object.setPrototypeOf(EventTarget.prototype,window.EventTarget.prototype)}C.defineEventAttribute=defineEventAttribute;C.EventTarget=EventTarget;C["default"]=EventTarget;a.exports=EventTarget;a.exports.EventTarget=a.exports["default"]=EventTarget;a.exports.defineEventAttribute=defineEventAttribute},6792:(a,C,q)=>{const{Readable:re}=q(2781);const ae=new WeakMap;async function*read(a){for(const C of a){if("stream"in C){yield*C.stream()}else{yield C}}}class Blob{constructor(a=[],C={}){let q=0;const re=a.map((a=>{let C;if(a instanceof Buffer){C=a}else if(ArrayBuffer.isView(a)){C=Buffer.from(a.buffer,a.byteOffset,a.byteLength)}else if(a instanceof ArrayBuffer){C=Buffer.from(a)}else if(a instanceof Blob){C=a}else{C=Buffer.from(typeof a==="string"?a:String(a))}q+=C.length||C.size||0;return C}));const Ue=C.type===undefined?"":String(C.type).toLowerCase();ae.set(this,{type:/[^\u0020-\u007E]/.test(Ue)?"":Ue,size:q,parts:re})}get size(){return ae.get(this).size}get type(){return ae.get(this).type}async text(){return Buffer.from(await this.arrayBuffer()).toString()}async arrayBuffer(){const a=new Uint8Array(this.size);let C=0;for await(const q of this.stream()){a.set(q,C);C+=q.length}return a.buffer}stream(){return re.from(read(ae.get(this).parts))}slice(a=0,C=this.size,q=""){const{size:re}=this;let Ue=a<0?Math.max(re+a,0):Math.min(a,re);let Pt=C<0?Math.max(re+C,0):Math.min(C,re);const Wt=Math.max(Pt-Ue,0);const Er=ae.get(this).parts.values();const Ar=[];let xr=0;for(const a of Er){const C=ArrayBuffer.isView(a)?a.byteLength:a.size;if(Ue&&C<=Ue){Ue-=C;Pt-=C}else{const q=a.slice(Ue,Math.min(C,Pt));Ar.push(q);xr+=ArrayBuffer.isView(q)?q.byteLength:q.size;Ue=0;if(xr>=Wt){break}}}const kr=new Blob([],{type:String(q).toLowerCase()});Object.assign(ae.get(kr),{size:Wt,parts:Ar});return kr}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](a){return a&&typeof a==="object"&&typeof a.stream==="function"&&a.stream.length===0&&typeof a.constructor==="function"&&/^(Blob|File)$/.test(a[Symbol.toStringTag])}}Object.defineProperties(Blob.prototype,{size:{enumerable:true},type:{enumerable:true},slice:{enumerable:true}});a.exports=Blob},5591:(a,C,q)=>{var re=C;re.utils=q(4844);re.common=q(7511);re.sha=q(1183);re.ripemd=q(4502);re.hmac=q(1084);re.sha1=re.sha.sha1;re.sha256=re.sha.sha256;re.sha224=re.sha.sha224;re.sha384=re.sha.sha384;re.sha512=re.sha.sha512;re.ripemd160=re.ripemd.ripemd160},7511:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(910);function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}C.BlockHash=BlockHash;BlockHash.prototype.update=function update(a,C){a=re.toArray(a,C);if(!this.pending)this.pending=a;else this.pending=this.pending.concat(a);this.pendingTotal+=a.length;if(this.pending.length>=this._delta8){a=this.pending;var q=a.length%this._delta8;this.pending=a.slice(a.length-q,a.length);if(this.pending.length===0)this.pending=null;a=re.join32(a,0,a.length-q,this.endian);for(var ae=0;ae<a.length;ae+=this._delta32)this._update(a,ae,ae+this._delta32)}return this};BlockHash.prototype.digest=function digest(a){this.update(this._pad());ae(this.pending===null);return this._digest(a)};BlockHash.prototype._pad=function pad(){var a=this.pendingTotal;var C=this._delta8;var q=C-(a+this.padLength)%C;var re=new Array(q+this.padLength);re[0]=128;for(var ae=1;ae<q;ae++)re[ae]=0;a<<=3;if(this.endian==="big"){for(var Ue=8;Ue<this.padLength;Ue++)re[ae++]=0;re[ae++]=0;re[ae++]=0;re[ae++]=0;re[ae++]=0;re[ae++]=a>>>24&255;re[ae++]=a>>>16&255;re[ae++]=a>>>8&255;re[ae++]=a&255}else{re[ae++]=a&255;re[ae++]=a>>>8&255;re[ae++]=a>>>16&255;re[ae++]=a>>>24&255;re[ae++]=0;re[ae++]=0;re[ae++]=0;re[ae++]=0;for(Ue=8;Ue<this.padLength;Ue++)re[ae++]=0}return re}},1084:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(910);function Hmac(a,C,q){if(!(this instanceof Hmac))return new Hmac(a,C,q);this.Hash=a;this.blockSize=a.blockSize/8;this.outSize=a.outSize/8;this.inner=null;this.outer=null;this._init(re.toArray(C,q))}a.exports=Hmac;Hmac.prototype._init=function init(a){if(a.length>this.blockSize)a=(new this.Hash).update(a).digest();ae(a.length<=this.blockSize);for(var C=a.length;C<this.blockSize;C++)a.push(0);for(C=0;C<a.length;C++)a[C]^=54;this.inner=(new this.Hash).update(a);for(C=0;C<a.length;C++)a[C]^=106;this.outer=(new this.Hash).update(a)};Hmac.prototype.update=function update(a,C){this.inner.update(a,C);return this};Hmac.prototype.digest=function digest(a){this.outer.update(this.inner.digest());return this.outer.digest(a)}},4502:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(7511);var Ue=re.rotl32;var Pt=re.sum32;var Wt=re.sum32_3;var Er=re.sum32_4;var Ar=ae.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;Ar.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}re.inherits(RIPEMD160,Ar);C.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(a,C){var q=this.h[0];var re=this.h[1];var ae=this.h[2];var Ar=this.h[3];var Mr=this.h[4];var Or=q;var Ir=re;var Nr=ae;var jr=Ar;var Lr=Mr;for(var Dr=0;Dr<80;Dr++){var Hr=Pt(Ue(Er(q,f(Dr,re,ae,Ar),a[xr[Dr]+C],K(Dr)),Pr[Dr]),Mr);q=Mr;Mr=Ar;Ar=Ue(ae,10);ae=re;re=Hr;Hr=Pt(Ue(Er(Or,f(79-Dr,Ir,Nr,jr),a[kr[Dr]+C],Kh(Dr)),Br[Dr]),Lr);Or=Lr;Lr=jr;jr=Ue(Nr,10);Nr=Ir;Ir=Hr}Hr=Wt(this.h[1],ae,jr);this.h[1]=Wt(this.h[2],Ar,Lr);this.h[2]=Wt(this.h[3],Mr,Or);this.h[3]=Wt(this.h[4],q,Ir);this.h[4]=Wt(this.h[0],re,Nr);this.h[0]=Hr};RIPEMD160.prototype._digest=function digest(a){if(a==="hex")return re.toHex32(this.h,"little");else return re.split32(this.h,"little")};function f(a,C,q,re){if(a<=15)return C^q^re;else if(a<=31)return C&q|~C&re;else if(a<=47)return(C|~q)^re;else if(a<=63)return C&re|q&~re;else return C^(q|~re)}function K(a){if(a<=15)return 0;else if(a<=31)return 1518500249;else if(a<=47)return 1859775393;else if(a<=63)return 2400959708;else return 2840853838}function Kh(a){if(a<=15)return 1352829926;else if(a<=31)return 1548603684;else if(a<=47)return 1836072691;else if(a<=63)return 2053994217;else return 0}var xr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var kr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var Pr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var Br=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},1183:(a,C,q)=>{"use strict";C.sha1=q(9918);C.sha224=q(2847);C.sha256=q(6996);C.sha384=q(4752);C.sha512=q(3433)},9918:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(7511);var Ue=q(950);var Pt=re.rotl32;var Wt=re.sum32;var Er=re.sum32_5;var Ar=Ue.ft_1;var xr=ae.BlockHash;var kr=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;xr.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}re.inherits(SHA1,xr);a.exports=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(a,C){var q=this.W;for(var re=0;re<16;re++)q[re]=a[C+re];for(;re<q.length;re++)q[re]=Pt(q[re-3]^q[re-8]^q[re-14]^q[re-16],1);var ae=this.h[0];var Ue=this.h[1];var xr=this.h[2];var Pr=this.h[3];var Br=this.h[4];for(re=0;re<q.length;re++){var Mr=~~(re/20);var Or=Er(Pt(ae,5),Ar(Mr,Ue,xr,Pr),Br,q[re],kr[Mr]);Br=Pr;Pr=xr;xr=Pt(Ue,30);Ue=ae;ae=Or}this.h[0]=Wt(this.h[0],ae);this.h[1]=Wt(this.h[1],Ue);this.h[2]=Wt(this.h[2],xr);this.h[3]=Wt(this.h[3],Pr);this.h[4]=Wt(this.h[4],Br)};SHA1.prototype._digest=function digest(a){if(a==="hex")return re.toHex32(this.h,"big");else return re.split32(this.h,"big")}},2847:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(6996);function SHA224(){if(!(this instanceof SHA224))return new SHA224;ae.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}re.inherits(SHA224,ae);a.exports=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(a){if(a==="hex")return re.toHex32(this.h.slice(0,7),"big");else return re.split32(this.h.slice(0,7),"big")}},6996:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(7511);var Ue=q(950);var Pt=q(910);var Wt=re.sum32;var Er=re.sum32_4;var Ar=re.sum32_5;var xr=Ue.ch32;var kr=Ue.maj32;var Pr=Ue.s0_256;var Br=Ue.s1_256;var Mr=Ue.g0_256;var Or=Ue.g1_256;var Ir=ae.BlockHash;var Nr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;Ir.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=Nr;this.W=new Array(64)}re.inherits(SHA256,Ir);a.exports=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(a,C){var q=this.W;for(var re=0;re<16;re++)q[re]=a[C+re];for(;re<q.length;re++)q[re]=Er(Or(q[re-2]),q[re-7],Mr(q[re-15]),q[re-16]);var ae=this.h[0];var Ue=this.h[1];var Ir=this.h[2];var Nr=this.h[3];var jr=this.h[4];var Lr=this.h[5];var Dr=this.h[6];var Hr=this.h[7];Pt(this.k.length===q.length);for(re=0;re<q.length;re++){var Fr=Ar(Hr,Br(jr),xr(jr,Lr,Dr),this.k[re],q[re]);var Ur=Wt(Pr(ae),kr(ae,Ue,Ir));Hr=Dr;Dr=Lr;Lr=jr;jr=Wt(Nr,Fr);Nr=Ir;Ir=Ue;Ue=ae;ae=Wt(Fr,Ur)}this.h[0]=Wt(this.h[0],ae);this.h[1]=Wt(this.h[1],Ue);this.h[2]=Wt(this.h[2],Ir);this.h[3]=Wt(this.h[3],Nr);this.h[4]=Wt(this.h[4],jr);this.h[5]=Wt(this.h[5],Lr);this.h[6]=Wt(this.h[6],Dr);this.h[7]=Wt(this.h[7],Hr)};SHA256.prototype._digest=function digest(a){if(a==="hex")return re.toHex32(this.h,"big");else return re.split32(this.h,"big")}},4752:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(3433);function SHA384(){if(!(this instanceof SHA384))return new SHA384;ae.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}re.inherits(SHA384,ae);a.exports=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(a){if(a==="hex")return re.toHex32(this.h.slice(0,12),"big");else return re.split32(this.h.slice(0,12),"big")}},3433:(a,C,q)=>{"use strict";var re=q(4844);var ae=q(7511);var Ue=q(910);var Pt=re.rotr64_hi;var Wt=re.rotr64_lo;var Er=re.shr64_hi;var Ar=re.shr64_lo;var xr=re.sum64;var kr=re.sum64_hi;var Pr=re.sum64_lo;var Br=re.sum64_4_hi;var Mr=re.sum64_4_lo;var Or=re.sum64_5_hi;var Ir=re.sum64_5_lo;var Nr=ae.BlockHash;var jr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;Nr.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=jr;this.W=new Array(160)}re.inherits(SHA512,Nr);a.exports=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(a,C){var q=this.W;for(var re=0;re<32;re++)q[re]=a[C+re];for(;re<q.length;re+=2){var ae=g1_512_hi(q[re-4],q[re-3]);var Ue=g1_512_lo(q[re-4],q[re-3]);var Pt=q[re-14];var Wt=q[re-13];var Er=g0_512_hi(q[re-30],q[re-29]);var Ar=g0_512_lo(q[re-30],q[re-29]);var xr=q[re-32];var kr=q[re-31];q[re]=Br(ae,Ue,Pt,Wt,Er,Ar,xr,kr);q[re+1]=Mr(ae,Ue,Pt,Wt,Er,Ar,xr,kr)}};SHA512.prototype._update=function _update(a,C){this._prepareBlock(a,C);var q=this.W;var re=this.h[0];var ae=this.h[1];var Pt=this.h[2];var Wt=this.h[3];var Er=this.h[4];var Ar=this.h[5];var Br=this.h[6];var Mr=this.h[7];var Nr=this.h[8];var jr=this.h[9];var Lr=this.h[10];var Dr=this.h[11];var Hr=this.h[12];var Fr=this.h[13];var Ur=this.h[14];var $r=this.h[15];Ue(this.k.length===q.length);for(var zr=0;zr<q.length;zr+=2){var Wr=Ur;var Kr=$r;var Vr=s1_512_hi(Nr,jr);var Gr=s1_512_lo(Nr,jr);var Jr=ch64_hi(Nr,jr,Lr,Dr,Hr,Fr);var Xr=ch64_lo(Nr,jr,Lr,Dr,Hr,Fr);var Yr=this.k[zr];var Zr=this.k[zr+1];var Qr=q[zr];var en=q[zr+1];var tn=Or(Wr,Kr,Vr,Gr,Jr,Xr,Yr,Zr,Qr,en);var rn=Ir(Wr,Kr,Vr,Gr,Jr,Xr,Yr,Zr,Qr,en);Wr=s0_512_hi(re,ae);Kr=s0_512_lo(re,ae);Vr=maj64_hi(re,ae,Pt,Wt,Er,Ar);Gr=maj64_lo(re,ae,Pt,Wt,Er,Ar);var nn=kr(Wr,Kr,Vr,Gr);var on=Pr(Wr,Kr,Vr,Gr);Ur=Hr;$r=Fr;Hr=Lr;Fr=Dr;Lr=Nr;Dr=jr;Nr=kr(Br,Mr,tn,rn);jr=Pr(Mr,Mr,tn,rn);Br=Er;Mr=Ar;Er=Pt;Ar=Wt;Pt=re;Wt=ae;re=kr(tn,rn,nn,on);ae=Pr(tn,rn,nn,on)}xr(this.h,0,re,ae);xr(this.h,2,Pt,Wt);xr(this.h,4,Er,Ar);xr(this.h,6,Br,Mr);xr(this.h,8,Nr,jr);xr(this.h,10,Lr,Dr);xr(this.h,12,Hr,Fr);xr(this.h,14,Ur,$r)};SHA512.prototype._digest=function digest(a){if(a==="hex")return re.toHex32(this.h,"big");else return re.split32(this.h,"big")};function ch64_hi(a,C,q,re,ae){var Ue=a&q^~a&ae;if(Ue<0)Ue+=4294967296;return Ue}function ch64_lo(a,C,q,re,ae,Ue){var Pt=C&re^~C&Ue;if(Pt<0)Pt+=4294967296;return Pt}function maj64_hi(a,C,q,re,ae){var Ue=a&q^a&ae^q&ae;if(Ue<0)Ue+=4294967296;return Ue}function maj64_lo(a,C,q,re,ae,Ue){var Pt=C&re^C&Ue^re&Ue;if(Pt<0)Pt+=4294967296;return Pt}function s0_512_hi(a,C){var q=Pt(a,C,28);var re=Pt(C,a,2);var ae=Pt(C,a,7);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}function s0_512_lo(a,C){var q=Wt(a,C,28);var re=Wt(C,a,2);var ae=Wt(C,a,7);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}function s1_512_hi(a,C){var q=Pt(a,C,14);var re=Pt(a,C,18);var ae=Pt(C,a,9);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}function s1_512_lo(a,C){var q=Wt(a,C,14);var re=Wt(a,C,18);var ae=Wt(C,a,9);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}function g0_512_hi(a,C){var q=Pt(a,C,1);var re=Pt(a,C,8);var ae=Er(a,C,7);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}function g0_512_lo(a,C){var q=Wt(a,C,1);var re=Wt(a,C,8);var ae=Ar(a,C,7);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}function g1_512_hi(a,C){var q=Pt(a,C,19);var re=Pt(C,a,29);var ae=Er(a,C,6);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}function g1_512_lo(a,C){var q=Wt(a,C,19);var re=Wt(C,a,29);var ae=Ar(a,C,6);var Ue=q^re^ae;if(Ue<0)Ue+=4294967296;return Ue}},950:(a,C,q)=>{"use strict";var re=q(4844);var ae=re.rotr32;function ft_1(a,C,q,re){if(a===0)return ch32(C,q,re);if(a===1||a===3)return p32(C,q,re);if(a===2)return maj32(C,q,re)}C.ft_1=ft_1;function ch32(a,C,q){return a&C^~a&q}C.ch32=ch32;function maj32(a,C,q){return a&C^a&q^C&q}C.maj32=maj32;function p32(a,C,q){return a^C^q}C.p32=p32;function s0_256(a){return ae(a,2)^ae(a,13)^ae(a,22)}C.s0_256=s0_256;function s1_256(a){return ae(a,6)^ae(a,11)^ae(a,25)}C.s1_256=s1_256;function g0_256(a){return ae(a,7)^ae(a,18)^a>>>3}C.g0_256=g0_256;function g1_256(a){return ae(a,17)^ae(a,19)^a>>>10}C.g1_256=g1_256},4844:(a,C,q)=>{"use strict";var re=q(910);var ae=q(4124);C.inherits=ae;function isSurrogatePair(a,C){if((a.charCodeAt(C)&64512)!==55296){return false}if(C<0||C+1>=a.length){return false}return(a.charCodeAt(C+1)&64512)===56320}function toArray(a,C){if(Array.isArray(a))return a.slice();if(!a)return[];var q=[];if(typeof a==="string"){if(!C){var re=0;for(var ae=0;ae<a.length;ae++){var Ue=a.charCodeAt(ae);if(Ue<128){q[re++]=Ue}else if(Ue<2048){q[re++]=Ue>>6|192;q[re++]=Ue&63|128}else if(isSurrogatePair(a,ae)){Ue=65536+((Ue&1023)<<10)+(a.charCodeAt(++ae)&1023);q[re++]=Ue>>18|240;q[re++]=Ue>>12&63|128;q[re++]=Ue>>6&63|128;q[re++]=Ue&63|128}else{q[re++]=Ue>>12|224;q[re++]=Ue>>6&63|128;q[re++]=Ue&63|128}}}else if(C==="hex"){a=a.replace(/[^a-z0-9]+/gi,"");if(a.length%2!==0)a="0"+a;for(ae=0;ae<a.length;ae+=2)q.push(parseInt(a[ae]+a[ae+1],16))}}else{for(ae=0;ae<a.length;ae++)q[ae]=a[ae]|0}return q}C.toArray=toArray;function toHex(a){var C="";for(var q=0;q<a.length;q++)C+=zero2(a[q].toString(16));return C}C.toHex=toHex;function htonl(a){var C=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return C>>>0}C.htonl=htonl;function toHex32(a,C){var q="";for(var re=0;re<a.length;re++){var ae=a[re];if(C==="little")ae=htonl(ae);q+=zero8(ae.toString(16))}return q}C.toHex32=toHex32;function zero2(a){if(a.length===1)return"0"+a;else return a}C.zero2=zero2;function zero8(a){if(a.length===7)return"0"+a;else if(a.length===6)return"00"+a;else if(a.length===5)return"000"+a;else if(a.length===4)return"0000"+a;else if(a.length===3)return"00000"+a;else if(a.length===2)return"000000"+a;else if(a.length===1)return"0000000"+a;else return a}C.zero8=zero8;function join32(a,C,q,ae){var Ue=q-C;re(Ue%4===0);var Pt=new Array(Ue/4);for(var Wt=0,Er=C;Wt<Pt.length;Wt++,Er+=4){var Ar;if(ae==="big")Ar=a[Er]<<24|a[Er+1]<<16|a[Er+2]<<8|a[Er+3];else Ar=a[Er+3]<<24|a[Er+2]<<16|a[Er+1]<<8|a[Er];Pt[Wt]=Ar>>>0}return Pt}C.join32=join32;function split32(a,C){var q=new Array(a.length*4);for(var re=0,ae=0;re<a.length;re++,ae+=4){var Ue=a[re];if(C==="big"){q[ae]=Ue>>>24;q[ae+1]=Ue>>>16&255;q[ae+2]=Ue>>>8&255;q[ae+3]=Ue&255}else{q[ae+3]=Ue>>>24;q[ae+2]=Ue>>>16&255;q[ae+1]=Ue>>>8&255;q[ae]=Ue&255}}return q}C.split32=split32;function rotr32(a,C){return a>>>C|a<<32-C}C.rotr32=rotr32;function rotl32(a,C){return a<<C|a>>>32-C}C.rotl32=rotl32;function sum32(a,C){return a+C>>>0}C.sum32=sum32;function sum32_3(a,C,q){return a+C+q>>>0}C.sum32_3=sum32_3;function sum32_4(a,C,q,re){return a+C+q+re>>>0}C.sum32_4=sum32_4;function sum32_5(a,C,q,re,ae){return a+C+q+re+ae>>>0}C.sum32_5=sum32_5;function sum64(a,C,q,re){var ae=a[C];var Ue=a[C+1];var Pt=re+Ue>>>0;var Wt=(Pt<re?1:0)+q+ae;a[C]=Wt>>>0;a[C+1]=Pt}C.sum64=sum64;function sum64_hi(a,C,q,re){var ae=C+re>>>0;var Ue=(ae<C?1:0)+a+q;return Ue>>>0}C.sum64_hi=sum64_hi;function sum64_lo(a,C,q,re){var ae=C+re;return ae>>>0}C.sum64_lo=sum64_lo;function sum64_4_hi(a,C,q,re,ae,Ue,Pt,Wt){var Er=0;var Ar=C;Ar=Ar+re>>>0;Er+=Ar<C?1:0;Ar=Ar+Ue>>>0;Er+=Ar<Ue?1:0;Ar=Ar+Wt>>>0;Er+=Ar<Wt?1:0;var xr=a+q+ae+Pt+Er;return xr>>>0}C.sum64_4_hi=sum64_4_hi;function sum64_4_lo(a,C,q,re,ae,Ue,Pt,Wt){var Er=C+re+Ue+Wt;return Er>>>0}C.sum64_4_lo=sum64_4_lo;function sum64_5_hi(a,C,q,re,ae,Ue,Pt,Wt,Er,Ar){var xr=0;var kr=C;kr=kr+re>>>0;xr+=kr<C?1:0;kr=kr+Ue>>>0;xr+=kr<Ue?1:0;kr=kr+Wt>>>0;xr+=kr<Wt?1:0;kr=kr+Ar>>>0;xr+=kr<Ar?1:0;var Pr=a+q+ae+Pt+Er+xr;return Pr>>>0}C.sum64_5_hi=sum64_5_hi;function sum64_5_lo(a,C,q,re,ae,Ue,Pt,Wt,Er,Ar){var xr=C+re+Ue+Wt+Ar;return xr>>>0}C.sum64_5_lo=sum64_5_lo;function rotr64_hi(a,C,q){var re=C<<32-q|a>>>q;return re>>>0}C.rotr64_hi=rotr64_hi;function rotr64_lo(a,C,q){var re=a<<32-q|C>>>q;return re>>>0}C.rotr64_lo=rotr64_lo;function shr64_hi(a,C,q){return a>>>q}C.shr64_hi=shr64_hi;function shr64_lo(a,C,q){var re=a<<32-q|C>>>q;return re>>>0}C.shr64_lo=shr64_lo},4909:(a,C,q)=>{"use strict";var re=q(5591);var ae=q(8165);var Ue=q(910);function HmacDRBG(a){if(!(this instanceof HmacDRBG))return new HmacDRBG(a);this.hash=a.hash;this.predResist=!!a.predResist;this.outLen=this.hash.outSize;this.minEntropy=a.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var C=ae.toArray(a.entropy,a.entropyEnc||"hex");var q=ae.toArray(a.nonce,a.nonceEnc||"hex");var re=ae.toArray(a.pers,a.persEnc||"hex");Ue(C.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(C,q,re)}a.exports=HmacDRBG;HmacDRBG.prototype._init=function init(a,C,q){var re=a.concat(C).concat(q);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var ae=0;ae<this.V.length;ae++){this.K[ae]=0;this.V[ae]=1}this._update(re);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new re.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function update(a){var C=this._hmac().update(this.V).update([0]);if(a)C=C.update(a);this.K=C.digest();this.V=this._hmac().update(this.V).digest();if(!a)return;this.K=this._hmac().update(this.V).update([1]).update(a).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(a,C,q,re){if(typeof C!=="string"){re=q;q=C;C=null}a=ae.toArray(a,C);q=ae.toArray(q,re);Ue(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(a.concat(q||[]));this._reseed=1};HmacDRBG.prototype.generate=function generate(a,C,q,re){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof C!=="string"){re=q;q=C;C=null}if(q){q=ae.toArray(q,re||"hex");this._update(q)}var Ue=[];while(Ue.length<a){this.V=this._hmac().update(this.V).digest();Ue=Ue.concat(this.V)}var Pt=Ue.slice(0,a);this._update(q);this._reseed++;return ae.encode(Pt,C)}},4124:(a,C,q)=>{try{var re=q(3837);if(typeof re.inherits!=="function")throw"";a.exports=re.inherits}catch(C){a.exports=q(8544)}},8544:a=>{if(typeof Object.create==="function"){a.exports=function inherits(a,C){if(C){a.super_=C;a.prototype=Object.create(C.prototype,{constructor:{value:a,enumerable:false,writable:true,configurable:true}})}}}else{a.exports=function inherits(a,C){if(C){a.super_=C;var TempCtor=function(){};TempCtor.prototype=C.prototype;a.prototype=new TempCtor;a.prototype.constructor=a}}}},4713:(a,C,q)=>{"use strict";a.exports=q(8867)},1434:a=>{
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
(function(){"use strict";var C="input is invalid type";var q="finalize already called";var re=typeof window==="object";var ae=re?window:{};if(ae.JS_SHA3_NO_WINDOW){re=false}var Ue=!re&&typeof self==="object";var Pt=!ae.JS_SHA3_NO_NODE_JS&&typeof process==="object"&&process.versions&&process.versions.node;if(Pt){ae=global}else if(Ue){ae=self}var Wt=!ae.JS_SHA3_NO_COMMON_JS&&"object"==="object"&&a.exports;var Er=typeof define==="function"&&define.amd;var Ar=!ae.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!=="undefined";var xr="0123456789abcdef".split("");var kr=[31,7936,2031616,520093696];var Pr=[4,1024,262144,67108864];var Br=[1,256,65536,16777216];var Mr=[6,1536,393216,100663296];var Or=[0,8,16,24];var Ir=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];var Nr=[224,256,384,512];var jr=[128,256];var Lr=["hex","buffer","arrayBuffer","array","digest"];var Dr={128:168,256:136};if(ae.JS_SHA3_NO_NODE_JS||!Array.isArray){Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}}if(Ar&&(ae.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)){ArrayBuffer.isView=function(a){return typeof a==="object"&&a.buffer&&a.buffer.constructor===ArrayBuffer}}var createOutputMethod=function(a,C,q){return function(re){return new Keccak(a,C,a).update(re)[q]()}};var createShakeOutputMethod=function(a,C,q){return function(re,ae){return new Keccak(a,C,ae).update(re)[q]()}};var createCshakeOutputMethod=function(a,C,q){return function(C,re,ae,Ue){return Fr["cshake"+a].update(C,re,ae,Ue)[q]()}};var createKmacOutputMethod=function(a,C,q){return function(C,re,ae,Ue){return Fr["kmac"+a].update(C,re,ae,Ue)[q]()}};var createOutputMethods=function(a,C,q,re){for(var ae=0;ae<Lr.length;++ae){var Ue=Lr[ae];a[Ue]=C(q,re,Ue)}return a};var createMethod=function(a,C){var q=createOutputMethod(a,C,"hex");q.create=function(){return new Keccak(a,C,a)};q.update=function(a){return q.create().update(a)};return createOutputMethods(q,createOutputMethod,a,C)};var createShakeMethod=function(a,C){var q=createShakeOutputMethod(a,C,"hex");q.create=function(q){return new Keccak(a,C,q)};q.update=function(a,C){return q.create(C).update(a)};return createOutputMethods(q,createShakeOutputMethod,a,C)};var createCshakeMethod=function(a,C){var q=Dr[a];var re=createCshakeOutputMethod(a,C,"hex");re.create=function(re,ae,Ue){if(!ae&&!Ue){return Fr["shake"+a].create(re)}else{return new Keccak(a,C,re).bytepad([ae,Ue],q)}};re.update=function(a,C,q,ae){return re.create(C,q,ae).update(a)};return createOutputMethods(re,createCshakeOutputMethod,a,C)};var createKmacMethod=function(a,C){var q=Dr[a];var re=createKmacOutputMethod(a,C,"hex");re.create=function(re,ae,Ue){return new Kmac(a,C,ae).bytepad(["KMAC",Ue],q).bytepad([re],q)};re.update=function(a,C,q,ae){return re.create(a,q,ae).update(C)};return createOutputMethods(re,createKmacOutputMethod,a,C)};var Hr=[{name:"keccak",padding:Br,bits:Nr,createMethod:createMethod},{name:"sha3",padding:Mr,bits:Nr,createMethod:createMethod},{name:"shake",padding:kr,bits:jr,createMethod:createShakeMethod},{name:"cshake",padding:Pr,bits:jr,createMethod:createCshakeMethod},{name:"kmac",padding:Pr,bits:jr,createMethod:createKmacMethod}];var Fr={},Ur=[];for(var $r=0;$r<Hr.length;++$r){var zr=Hr[$r];var Wr=zr.bits;for(var Kr=0;Kr<Wr.length;++Kr){var Vr=zr.name+"_"+Wr[Kr];Ur.push(Vr);Fr[Vr]=zr.createMethod(Wr[Kr],zr.padding);if(zr.name!=="sha3"){var Gr=zr.name+Wr[Kr];Ur.push(Gr);Fr[Gr]=Fr[Vr]}}}function Keccak(a,C,q){this.blocks=[];this.s=[];this.padding=C;this.outputBits=q;this.reset=true;this.finalized=false;this.block=0;this.start=0;this.blockCount=1600-(a<<1)>>5;this.byteCount=this.blockCount<<2;this.outputBlocks=q>>5;this.extraBytes=(q&31)>>3;for(var re=0;re<50;++re){this.s[re]=0}}Keccak.prototype.update=function(a){if(this.finalized){throw new Error(q)}var re,ae=typeof a;if(ae!=="string"){if(ae==="object"){if(a===null){throw new Error(C)}else if(Ar&&a.constructor===ArrayBuffer){a=new Uint8Array(a)}else if(!Array.isArray(a)){if(!Ar||!ArrayBuffer.isView(a)){throw new Error(C)}}}else{throw new Error(C)}re=true}var Ue=this.blocks,Pt=this.byteCount,Wt=a.length,Er=this.blockCount,xr=0,kr=this.s,Pr,Br;while(xr<Wt){if(this.reset){this.reset=false;Ue[0]=this.block;for(Pr=1;Pr<Er+1;++Pr){Ue[Pr]=0}}if(re){for(Pr=this.start;xr<Wt&&Pr<Pt;++xr){Ue[Pr>>2]|=a[xr]<<Or[Pr++&3]}}else{for(Pr=this.start;xr<Wt&&Pr<Pt;++xr){Br=a.charCodeAt(xr);if(Br<128){Ue[Pr>>2]|=Br<<Or[Pr++&3]}else if(Br<2048){Ue[Pr>>2]|=(192|Br>>6)<<Or[Pr++&3];Ue[Pr>>2]|=(128|Br&63)<<Or[Pr++&3]}else if(Br<55296||Br>=57344){Ue[Pr>>2]|=(224|Br>>12)<<Or[Pr++&3];Ue[Pr>>2]|=(128|Br>>6&63)<<Or[Pr++&3];Ue[Pr>>2]|=(128|Br&63)<<Or[Pr++&3]}else{Br=65536+((Br&1023)<<10|a.charCodeAt(++xr)&1023);Ue[Pr>>2]|=(240|Br>>18)<<Or[Pr++&3];Ue[Pr>>2]|=(128|Br>>12&63)<<Or[Pr++&3];Ue[Pr>>2]|=(128|Br>>6&63)<<Or[Pr++&3];Ue[Pr>>2]|=(128|Br&63)<<Or[Pr++&3]}}}this.lastByteIndex=Pr;if(Pr>=Pt){this.start=Pr-Pt;this.block=Ue[Er];for(Pr=0;Pr<Er;++Pr){kr[Pr]^=Ue[Pr]}f(kr);this.reset=true}else{this.start=Pr}}return this};Keccak.prototype.encode=function(a,C){var q=a&255,re=1;var ae=[q];a=a>>8;q=a&255;while(q>0){ae.unshift(q);a=a>>8;q=a&255;++re}if(C){ae.push(re)}else{ae.unshift(re)}this.update(ae);return ae.length};Keccak.prototype.encodeString=function(a){var q,re=typeof a;if(re!=="string"){if(re==="object"){if(a===null){throw new Error(C)}else if(Ar&&a.constructor===ArrayBuffer){a=new Uint8Array(a)}else if(!Array.isArray(a)){if(!Ar||!ArrayBuffer.isView(a)){throw new Error(C)}}}else{throw new Error(C)}q=true}var ae=0,Ue=a.length;if(q){ae=Ue}else{for(var Pt=0;Pt<a.length;++Pt){var Wt=a.charCodeAt(Pt);if(Wt<128){ae+=1}else if(Wt<2048){ae+=2}else if(Wt<55296||Wt>=57344){ae+=3}else{Wt=65536+((Wt&1023)<<10|a.charCodeAt(++Pt)&1023);ae+=4}}}ae+=this.encode(ae*8);this.update(a);return ae};Keccak.prototype.bytepad=function(a,C){var q=this.encode(C);for(var re=0;re<a.length;++re){q+=this.encodeString(a[re])}var ae=C-q%C;var Ue=[];Ue.length=ae;this.update(Ue);return this};Keccak.prototype.finalize=function(){if(this.finalized){return}this.finalized=true;var a=this.blocks,C=this.lastByteIndex,q=this.blockCount,re=this.s;a[C>>2]|=this.padding[C&3];if(this.lastByteIndex===this.byteCount){a[0]=a[q];for(C=1;C<q+1;++C){a[C]=0}}a[q-1]|=2147483648;for(C=0;C<q;++C){re[C]^=a[C]}f(re)};Keccak.prototype.toString=Keccak.prototype.hex=function(){this.finalize();var a=this.blockCount,C=this.s,q=this.outputBlocks,re=this.extraBytes,ae=0,Ue=0;var Pt="",Wt;while(Ue<q){for(ae=0;ae<a&&Ue<q;++ae,++Ue){Wt=C[ae];Pt+=xr[Wt>>4&15]+xr[Wt&15]+xr[Wt>>12&15]+xr[Wt>>8&15]+xr[Wt>>20&15]+xr[Wt>>16&15]+xr[Wt>>28&15]+xr[Wt>>24&15]}if(Ue%a===0){f(C);ae=0}}if(re){Wt=C[ae];Pt+=xr[Wt>>4&15]+xr[Wt&15];if(re>1){Pt+=xr[Wt>>12&15]+xr[Wt>>8&15]}if(re>2){Pt+=xr[Wt>>20&15]+xr[Wt>>16&15]}}return Pt};Keccak.prototype.arrayBuffer=function(){this.finalize();var a=this.blockCount,C=this.s,q=this.outputBlocks,re=this.extraBytes,ae=0,Ue=0;var Pt=this.outputBits>>3;var Wt;if(re){Wt=new ArrayBuffer(q+1<<2)}else{Wt=new ArrayBuffer(Pt)}var Er=new Uint32Array(Wt);while(Ue<q){for(ae=0;ae<a&&Ue<q;++ae,++Ue){Er[Ue]=C[ae]}if(Ue%a===0){f(C)}}if(re){Er[ae]=C[ae];Wt=Wt.slice(0,Pt)}return Wt};Keccak.prototype.buffer=Keccak.prototype.arrayBuffer;Keccak.prototype.digest=Keccak.prototype.array=function(){this.finalize();var a=this.blockCount,C=this.s,q=this.outputBlocks,re=this.extraBytes,ae=0,Ue=0;var Pt=[],Wt,Er;while(Ue<q){for(ae=0;ae<a&&Ue<q;++ae,++Ue){Wt=Ue<<2;Er=C[ae];Pt[Wt]=Er&255;Pt[Wt+1]=Er>>8&255;Pt[Wt+2]=Er>>16&255;Pt[Wt+3]=Er>>24&255}if(Ue%a===0){f(C)}}if(re){Wt=Ue<<2;Er=C[ae];Pt[Wt]=Er&255;if(re>1){Pt[Wt+1]=Er>>8&255}if(re>2){Pt[Wt+2]=Er>>16&255}}return Pt};function Kmac(a,C,q){Keccak.call(this,a,C,q)}Kmac.prototype=new Keccak;Kmac.prototype.finalize=function(){this.encode(this.outputBits,true);return Keccak.prototype.finalize.call(this)};var f=function(a){var C,q,re,ae,Ue,Pt,Wt,Er,Ar,xr,kr,Pr,Br,Mr,Or,Nr,jr,Lr,Dr,Hr,Fr,Ur,$r,zr,Wr,Kr,Vr,Gr,Jr,Xr,Yr,Zr,Qr,en,tn,rn,nn,on,sn,an,cn,un,dn,ln,hn,pn,bn,mn,vn,yn,gn,wn,_n,Sn,En,Tn,An,Rn,xn,kn,Pn,Bn,Mn;for(re=0;re<48;re+=2){ae=a[0]^a[10]^a[20]^a[30]^a[40];Ue=a[1]^a[11]^a[21]^a[31]^a[41];Pt=a[2]^a[12]^a[22]^a[32]^a[42];Wt=a[3]^a[13]^a[23]^a[33]^a[43];Er=a[4]^a[14]^a[24]^a[34]^a[44];Ar=a[5]^a[15]^a[25]^a[35]^a[45];xr=a[6]^a[16]^a[26]^a[36]^a[46];kr=a[7]^a[17]^a[27]^a[37]^a[47];Pr=a[8]^a[18]^a[28]^a[38]^a[48];Br=a[9]^a[19]^a[29]^a[39]^a[49];C=Pr^(Pt<<1|Wt>>>31);q=Br^(Wt<<1|Pt>>>31);a[0]^=C;a[1]^=q;a[10]^=C;a[11]^=q;a[20]^=C;a[21]^=q;a[30]^=C;a[31]^=q;a[40]^=C;a[41]^=q;C=ae^(Er<<1|Ar>>>31);q=Ue^(Ar<<1|Er>>>31);a[2]^=C;a[3]^=q;a[12]^=C;a[13]^=q;a[22]^=C;a[23]^=q;a[32]^=C;a[33]^=q;a[42]^=C;a[43]^=q;C=Pt^(xr<<1|kr>>>31);q=Wt^(kr<<1|xr>>>31);a[4]^=C;a[5]^=q;a[14]^=C;a[15]^=q;a[24]^=C;a[25]^=q;a[34]^=C;a[35]^=q;a[44]^=C;a[45]^=q;C=Er^(Pr<<1|Br>>>31);q=Ar^(Br<<1|Pr>>>31);a[6]^=C;a[7]^=q;a[16]^=C;a[17]^=q;a[26]^=C;a[27]^=q;a[36]^=C;a[37]^=q;a[46]^=C;a[47]^=q;C=xr^(ae<<1|Ue>>>31);q=kr^(Ue<<1|ae>>>31);a[8]^=C;a[9]^=q;a[18]^=C;a[19]^=q;a[28]^=C;a[29]^=q;a[38]^=C;a[39]^=q;a[48]^=C;a[49]^=q;Mr=a[0];Or=a[1];pn=a[11]<<4|a[10]>>>28;bn=a[10]<<4|a[11]>>>28;Gr=a[20]<<3|a[21]>>>29;Jr=a[21]<<3|a[20]>>>29;kn=a[31]<<9|a[30]>>>23;Pn=a[30]<<9|a[31]>>>23;un=a[40]<<18|a[41]>>>14;dn=a[41]<<18|a[40]>>>14;en=a[2]<<1|a[3]>>>31;tn=a[3]<<1|a[2]>>>31;Nr=a[13]<<12|a[12]>>>20;jr=a[12]<<12|a[13]>>>20;mn=a[22]<<10|a[23]>>>22;vn=a[23]<<10|a[22]>>>22;Xr=a[33]<<13|a[32]>>>19;Yr=a[32]<<13|a[33]>>>19;Bn=a[42]<<2|a[43]>>>30;Mn=a[43]<<2|a[42]>>>30;Sn=a[5]<<30|a[4]>>>2;En=a[4]<<30|a[5]>>>2;rn=a[14]<<6|a[15]>>>26;nn=a[15]<<6|a[14]>>>26;Lr=a[25]<<11|a[24]>>>21;Dr=a[24]<<11|a[25]>>>21;yn=a[34]<<15|a[35]>>>17;gn=a[35]<<15|a[34]>>>17;Zr=a[45]<<29|a[44]>>>3;Qr=a[44]<<29|a[45]>>>3;zr=a[6]<<28|a[7]>>>4;Wr=a[7]<<28|a[6]>>>4;Tn=a[17]<<23|a[16]>>>9;An=a[16]<<23|a[17]>>>9;on=a[26]<<25|a[27]>>>7;sn=a[27]<<25|a[26]>>>7;Hr=a[36]<<21|a[37]>>>11;Fr=a[37]<<21|a[36]>>>11;wn=a[47]<<24|a[46]>>>8;_n=a[46]<<24|a[47]>>>8;ln=a[8]<<27|a[9]>>>5;hn=a[9]<<27|a[8]>>>5;Kr=a[18]<<20|a[19]>>>12;Vr=a[19]<<20|a[18]>>>12;Rn=a[29]<<7|a[28]>>>25;xn=a[28]<<7|a[29]>>>25;an=a[38]<<8|a[39]>>>24;cn=a[39]<<8|a[38]>>>24;Ur=a[48]<<14|a[49]>>>18;$r=a[49]<<14|a[48]>>>18;a[0]=Mr^~Nr&Lr;a[1]=Or^~jr&Dr;a[10]=zr^~Kr&Gr;a[11]=Wr^~Vr&Jr;a[20]=en^~rn&on;a[21]=tn^~nn&sn;a[30]=ln^~pn&mn;a[31]=hn^~bn&vn;a[40]=Sn^~Tn&Rn;a[41]=En^~An&xn;a[2]=Nr^~Lr&Hr;a[3]=jr^~Dr&Fr;a[12]=Kr^~Gr&Xr;a[13]=Vr^~Jr&Yr;a[22]=rn^~on&an;a[23]=nn^~sn&cn;a[32]=pn^~mn&yn;a[33]=bn^~vn&gn;a[42]=Tn^~Rn&kn;a[43]=An^~xn&Pn;a[4]=Lr^~Hr&Ur;a[5]=Dr^~Fr&$r;a[14]=Gr^~Xr&Zr;a[15]=Jr^~Yr&Qr;a[24]=on^~an&un;a[25]=sn^~cn&dn;a[34]=mn^~yn&wn;a[35]=vn^~gn&_n;a[44]=Rn^~kn&Bn;a[45]=xn^~Pn&Mn;a[6]=Hr^~Ur&Mr;a[7]=Fr^~$r&Or;a[16]=Xr^~Zr&zr;a[17]=Yr^~Qr&Wr;a[26]=an^~un&en;a[27]=cn^~dn&tn;a[36]=yn^~wn&ln;a[37]=gn^~_n&hn;a[46]=kn^~Bn&Sn;a[47]=Pn^~Mn&En;a[8]=Ur^~Mr&Nr;a[9]=$r^~Or&jr;a[18]=Zr^~zr&Kr;a[19]=Qr^~Wr&Vr;a[28]=un^~en&rn;a[29]=dn^~tn&nn;a[38]=wn^~ln&pn;a[39]=_n^~hn&bn;a[48]=Bn^~Sn&Tn;a[49]=Mn^~En&An;a[0]^=Ir[re];a[1]^=Ir[re+1]}};if(Wt){a.exports=Fr}else{for($r=0;$r<Ur.length;++$r){ae[Ur[$r]]=Fr[Ur[$r]]}if(Er){define((function(){return Fr}))}}})()},8125:(a,C,q)=>{"use strict";const re=q(6126);const ae=q(1659);const Ue=1e3*1e3*10;if(!global.fetch){global.fetch=(a,C)=>re(a,{highWaterMark:Ue,...C})}if(!global.Headers){global.Headers=re.Headers}if(!global.Request){global.Request=re.Request}if(!global.Response){global.Response=re.Response}if(!global.AbortController){global.AbortController=ae}if(!global.ReadableStream){try{global.ReadableStream=q(Object(function webpackMissingModule(){var a=new Error("Cannot find module 'web-streams-polyfill/ponyfill/es2018'");a.code="MODULE_NOT_FOUND";throw a}()))}catch(a){}}a.exports=q(7616)},7616:function(a){(function(C,q){true?a.exports=q():0})(this,(function(){"use strict";
/*! MIT License © Sindre Sorhus */const a={};const getGlobal=a=>{if(typeof self!=="undefined"&&self&&a in self){return self}if(typeof window!=="undefined"&&window&&a in window){return window}if(typeof global!=="undefined"&&global&&a in global){return global}if(typeof globalThis!=="undefined"&&globalThis){return globalThis}};const C=["Headers","Request","Response","ReadableStream","fetch","AbortController","FormData"];for(const q of C){Object.defineProperty(a,q,{get(){const a=getGlobal(q);const C=a&&a[q];return typeof C==="function"?C.bind(a):C}})}const isObject=a=>a!==null&&typeof a==="object";const q=typeof a.AbortController==="function";const re=typeof a.ReadableStream==="function";const ae=typeof a.FormData==="function";const mergeHeaders=(C,q)=>{const re=new a.Headers(C||{});const ae=q instanceof a.Headers;const Ue=new a.Headers(q||{});for(const[a,C]of Ue){if(ae&&C==="undefined"||C===undefined){re.delete(a)}else{re.set(a,C)}}return re};const deepMerge=(...a)=>{let C={};let q={};for(const re of a){if(Array.isArray(re)){if(!Array.isArray(C)){C=[]}C=[...C,...re]}else if(isObject(re)){for(let[a,q]of Object.entries(re)){if(isObject(q)&&a in C){q=deepMerge(C[a],q)}C={...C,[a]:q}}if(isObject(re.headers)){q=mergeHeaders(q,re.headers)}}C.headers=q}return C};const Ue=["get","post","put","patch","head","delete"];const Pt={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"};const Wt=["get","put","head","delete","options","trace"];const Er=[408,413,429,500,502,503,504];const Ar=[413,429,503];const xr=Symbol("stop");class HTTPError extends Error{constructor(a){super(a.statusText||String(a.status===0||a.status?a.status:"Unknown response error"));this.name="HTTPError";this.response=a}}class TimeoutError extends Error{constructor(a){super("Request timed out");this.name="TimeoutError";this.request=a}}const delay=a=>new Promise((C=>setTimeout(C,a)));const timeout=(a,C,q)=>new Promise(((re,ae)=>{const Ue=setTimeout((()=>{if(C){C.abort()}ae(new TimeoutError(a))}),q.timeout);q.fetch(a).then(re).catch(ae).then((()=>{clearTimeout(Ue)}))}));const normalizeRequestMethod=a=>Ue.includes(a)?a.toUpperCase():a;const kr={limit:2,methods:Wt,statusCodes:Er,afterStatusCodes:Ar};const normalizeRetryOptions=(a={})=>{if(typeof a==="number"){return{...kr,limit:a}}if(a.methods&&!Array.isArray(a.methods)){throw new Error("retry.methods must be an array")}if(a.statusCodes&&!Array.isArray(a.statusCodes)){throw new Error("retry.statusCodes must be an array")}return{...kr,...a,afterStatusCodes:Ar}};const Pr=2147483647;class Ky{constructor(C,Ue={}){this._retryCount=0;this._input=C;this._options={credentials:this._input.credentials||"same-origin",...Ue,headers:mergeHeaders(this._input.headers,Ue.headers),hooks:deepMerge({beforeRequest:[],beforeRetry:[],afterResponse:[]},Ue.hooks),method:normalizeRequestMethod(Ue.method||this._input.method),prefixUrl:String(Ue.prefixUrl||""),retry:normalizeRetryOptions(Ue.retry),throwHttpErrors:Ue.throwHttpErrors!==false,timeout:typeof Ue.timeout==="undefined"?1e4:Ue.timeout,fetch:Ue.fetch||a.fetch};if(typeof this._input!=="string"&&!(this._input instanceof URL||this._input instanceof a.Request)){throw new TypeError("`input` must be a string, URL, or Request")}if(this._options.prefixUrl&&typeof this._input==="string"){if(this._input.startsWith("/")){throw new Error("`input` must not begin with a slash when using `prefixUrl`")}if(!this._options.prefixUrl.endsWith("/")){this._options.prefixUrl+="/"}this._input=this._options.prefixUrl+this._input}if(q){this.abortController=new a.AbortController;if(this._options.signal){this._options.signal.addEventListener("abort",(()=>{this.abortController.abort()}))}this._options.signal=this.abortController.signal}this.request=new a.Request(this._input,this._options);if(this._options.searchParams){const C="?"+new URLSearchParams(this._options.searchParams).toString();const q=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,C);if((ae&&this._options.body instanceof a.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])){this.request.headers.delete("content-type")}this.request=new a.Request(new a.Request(q,this.request),this._options)}if(this._options.json!==undefined){this._options.body=JSON.stringify(this._options.json);this.request.headers.set("content-type","application/json");this.request=new a.Request(this.request,{body:this._options.body})}const fn=async()=>{if(this._options.timeout>Pr){throw new RangeError(`The \`timeout\` option cannot be greater than ${Pr}`)}await delay(1);let C=await this._fetch();for(const q of this._options.hooks.afterResponse){const re=await q(this.request,this._options,this._decorateResponse(C.clone()));if(re instanceof a.Response){C=re}}this._decorateResponse(C);if(!C.ok&&this._options.throwHttpErrors){throw new HTTPError(C)}if(this._options.onDownloadProgress){if(typeof this._options.onDownloadProgress!=="function"){throw new TypeError("The `onDownloadProgress` option must be a function")}if(!re){throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.")}return this._stream(C.clone(),this._options.onDownloadProgress)}return C};const Wt=this._options.retry.methods.includes(this.request.method.toLowerCase());const Er=Wt?this._retry(fn):fn();for(const[a,C]of Object.entries(Pt)){Er[a]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||C);const q=(await Er).clone();if(a==="json"){if(q.status===204){return""}if(Ue.parseJson){return Ue.parseJson(await q.text())}}return q[a]()}}return Er}_calculateRetryDelay(a){this._retryCount++;if(this._retryCount<this._options.retry.limit&&!(a instanceof TimeoutError)){if(a instanceof HTTPError){if(!this._options.retry.statusCodes.includes(a.response.status)){return 0}const C=a.response.headers.get("Retry-After");if(C&&this._options.retry.afterStatusCodes.includes(a.response.status)){let a=Number(C);if(Number.isNaN(a)){a=Date.parse(C)-Date.now()}else{a*=1e3}if(typeof this._options.retry.maxRetryAfter!=="undefined"&&a>this._options.retry.maxRetryAfter){return 0}return a}if(a.response.status===413){return 0}}const C=.3;return C*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(a){if(this._options.parseJson){a.json=async()=>this._options.parseJson(await a.text())}return a}async _retry(a){try{return await a()}catch(C){const q=Math.min(this._calculateRetryDelay(C),Pr);if(q!==0&&this._retryCount>0){await delay(q);for(const a of this._options.hooks.beforeRetry){const q=await a({request:this.request,options:this._options,error:C,retryCount:this._retryCount});if(q===xr){return}}return this._retry(a)}if(this._options.throwHttpErrors){throw C}}}async _fetch(){for(const a of this._options.hooks.beforeRequest){const C=await a(this.request,this._options);if(C instanceof Request){this.request=C;break}if(C instanceof Response){return C}}if(this._options.timeout===false){return this._options.fetch(this.request.clone())}return timeout(this.request.clone(),this.abortController,this._options)}_stream(C,q){const re=Number(C.headers.get("content-length"))||0;let ae=0;return new a.Response(new a.ReadableStream({start(a){const Ue=C.body.getReader();if(q){q({percent:0,transferredBytes:0,totalBytes:re},new Uint8Array)}async function read(){const{done:C,value:Pt}=await Ue.read();if(C){a.close();return}if(q){ae+=Pt.byteLength;const a=re===0?0:ae/re;q({percent:a,transferredBytes:ae,totalBytes:re},Pt)}a.enqueue(Pt);read()}read()}}))}}const validateAndMerge=(...a)=>{for(const C of a){if((!isObject(C)||Array.isArray(C))&&typeof C!=="undefined"){throw new TypeError("The `options` argument must be an object")}}return deepMerge({},...a)};const createInstance=a=>{const ky=(C,q)=>new Ky(C,validateAndMerge(a,q));for(const C of Ue){ky[C]=(q,re)=>new Ky(q,validateAndMerge(a,re,{method:C}))}ky.HTTPError=HTTPError;ky.TimeoutError=TimeoutError;ky.create=a=>createInstance(validateAndMerge(a));ky.extend=C=>createInstance(validateAndMerge(a,C));ky.stop=xr;return ky};var Br=createInstance();return Br}))},910:a=>{a.exports=assert;function assert(a,C){if(!a)throw new Error(C||"Assertion failed")}assert.equal=function assertEqual(a,C,q){if(a!=C)throw new Error(q||"Assertion failed: "+a+" != "+C)}},8165:(a,C)=>{"use strict";var q=C;function toArray(a,C){if(Array.isArray(a))return a.slice();if(!a)return[];var q=[];if(typeof a!=="string"){for(var re=0;re<a.length;re++)q[re]=a[re]|0;return q}if(C==="hex"){a=a.replace(/[^a-z0-9]+/gi,"");if(a.length%2!==0)a="0"+a;for(var re=0;re<a.length;re+=2)q.push(parseInt(a[re]+a[re+1],16))}else{for(var re=0;re<a.length;re++){var ae=a.charCodeAt(re);var Ue=ae>>8;var Pt=ae&255;if(Ue)q.push(Ue,Pt);else q.push(Pt)}}return q}q.toArray=toArray;function zero2(a){if(a.length===1)return"0"+a;else return a}q.zero2=zero2;function toHex(a){var C="";for(var q=0;q<a.length;q++)C+=zero2(a[q].toString(16));return C}q.toHex=toHex;q.encode=function encode(a,C){if(C==="hex")return toHex(a);else return a}},5653:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(228);var ae=q(6507);class Encoder{constructor(a,C,q){this.name=a;this.prefix=C;this.baseEncode=q}encode(a){if(a instanceof Uint8Array){return`${this.prefix}${this.baseEncode(a)}`}else{throw Error("Unknown type, must be binary type")}}}class Decoder{constructor(a,C,q){this.name=a;this.prefix=C;this.baseDecode=q}decode(a){if(typeof a==="string"){switch(a[0]){case this.prefix:{return this.baseDecode(a.slice(1))}default:{throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}}}else{throw Error("Can only multibase decode strings")}}or(a){return or(this,a)}}class ComposedDecoder{constructor(a){this.decoders=a}or(a){return or(this,a)}decode(a){const C=a[0];const q=this.decoders[C];if(q){return q.decode(a)}else{throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}}const or=(a,C)=>new ComposedDecoder({...a.decoders||{[a.prefix]:a},...C.decoders||{[C.prefix]:C}});class Codec{constructor(a,C,q,re){this.name=a;this.prefix=C;this.baseEncode=q;this.baseDecode=re;this.encoder=new Encoder(a,C,q);this.decoder=new Decoder(a,C,re)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}const from=({name:a,prefix:C,encode:q,decode:re})=>new Codec(a,C,q,re);const baseX=({prefix:a,name:C,alphabet:q})=>{const{encode:Ue,decode:Pt}=re(q,C);return from({prefix:a,name:C,encode:Ue,decode:a=>ae.coerce(Pt(a))})};const decode=(a,C,q,re)=>{const ae={};for(let a=0;a<C.length;++a){ae[C[a]]=a}let Ue=a.length;while(a[Ue-1]==="="){--Ue}const Pt=new Uint8Array(Ue*q/8|0);let Wt=0;let Er=0;let Ar=0;for(let C=0;C<Ue;++C){const Ue=ae[a[C]];if(Ue===undefined){throw new SyntaxError(`Non-${re} character`)}Er=Er<<q|Ue;Wt+=q;if(Wt>=8){Wt-=8;Pt[Ar++]=255&Er>>Wt}}if(Wt>=q||255&Er<<8-Wt){throw new SyntaxError("Unexpected end of data")}return Pt};const encode=(a,C,q)=>{const re=C[C.length-1]==="=";const ae=(1<<q)-1;let Ue="";let Pt=0;let Wt=0;for(let re=0;re<a.length;++re){Wt=Wt<<8|a[re];Pt+=8;while(Pt>q){Pt-=q;Ue+=C[ae&Wt>>Pt]}}if(Pt){Ue+=C[ae&Wt<<q-Pt]}if(re){while(Ue.length*q&7){Ue+="="}}return Ue};const rfc4648=({name:a,prefix:C,bitsPerChar:q,alphabet:re})=>from({prefix:C,name:a,encode(a){return encode(a,re,q)},decode(C){return decode(C,re,q,a)}});C.Codec=Codec;C.baseX=baseX;C.from=from;C.or=or;C.rfc4648=rfc4648},2884:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(5653);const ae=re.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});const Ue=re.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});const Pt=re.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});const Wt=re.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});const Er=re.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});const Ar=re.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});const xr=re.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});const kr=re.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const Pr=re.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});C.base32=ae;C.base32hex=Er;C.base32hexpad=xr;C.base32hexpadupper=kr;C.base32hexupper=Ar;C.base32pad=Pt;C.base32padupper=Wt;C.base32upper=Ue;C.base32z=Pr},5648:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(5653);const ae=re.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});const Ue=re.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});C.base58btc=ae;C.base58flickr=Ue},6507:(a,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});const q=new Uint8Array(0);const toHex=a=>a.reduce(((a,C)=>a+C.toString(16).padStart(2,"0")),"");const fromHex=a=>{const C=a.match(/../g);return C?new Uint8Array(C.map((a=>parseInt(a,16)))):q};const equals=(a,C)=>{if(a===C)return true;if(a.byteLength!==C.byteLength){return false}for(let q=0;q<a.byteLength;q++){if(a[q]!==C[q]){return false}}return true};const coerce=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a)){return new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}throw new Error("Unknown type, must be binary type")};const isBinary=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a);const fromString=a=>(new TextEncoder).encode(a);const toString=a=>(new TextDecoder).decode(a);C.coerce=coerce;C.empty=q;C.equals=equals;C.fromHex=fromHex;C.fromString=fromString;C.isBinary=isBinary;C.toHex=toHex;C.toString=toString},6447:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(4972);var ae=q(76);var Ue=q(5648);var Pt=q(2884);var Wt=q(6507);class CID{constructor(a,C,q,re){this.code=C;this.version=a;this.multihash=q;this.bytes=re;this.byteOffset=re.byteOffset;this.byteLength=re.byteLength;this.asCID=this;this._baseCache=new Map;Object.defineProperties(this,{byteOffset:Pr,byteLength:Pr,code:kr,version:kr,multihash:kr,bytes:kr,_baseCache:Pr,asCID:Pr})}toV0(){switch(this.version){case 0:{return this}default:{const{code:a,multihash:C}=this;if(a!==Er){throw new Error("Cannot convert a non dag-pb CID to CIDv0")}if(C.code!==Ar){throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0")}return CID.createV0(C)}}}toV1(){switch(this.version){case 0:{const{code:a,digest:C}=this.multihash;const q=ae.create(a,C);return CID.createV1(this.code,q)}case 1:{return this}default:{throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}}equals(a){return a&&this.code===a.code&&this.version===a.version&&ae.equals(this.multihash,a.multihash)}toString(a){const{bytes:C,version:q,_baseCache:re}=this;switch(q){case 0:return toStringV0(C,re,a||Ue.base58btc.encoder);default:return toStringV1(C,re,a||Pt.base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(a){deprecate(/^0\.0/,Mr);return!!(a&&(a[xr]||a.asCID===a))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(a){if(a instanceof CID){return a}else if(a!=null&&a.asCID===a){const{version:C,code:q,multihash:re,bytes:ae}=a;return new CID(C,q,re,ae||encodeCID(C,q,re.bytes))}else if(a!=null&&a[xr]===true){const{version:C,multihash:q,code:re}=a;const Ue=ae.decode(q);return CID.create(C,re,Ue)}else{return null}}static create(a,C,q){if(typeof C!=="number"){throw new Error("String codecs are no longer supported")}switch(a){case 0:{if(C!==Er){throw new Error(`Version 0 CID must use dag-pb (code: ${Er}) block encoding`)}else{return new CID(a,C,q,q.bytes)}}case 1:{const re=encodeCID(a,C,q.bytes);return new CID(a,C,q,re)}default:{throw new Error("Invalid version")}}}static createV0(a){return CID.create(0,Er,a)}static createV1(a,C){return CID.create(1,a,C)}static decode(a){const[C,q]=CID.decodeFirst(a);if(q.length){throw new Error("Incorrect length")}return C}static decodeFirst(a){const C=CID.inspectBytes(a);const q=C.size-C.multihashSize;const re=Wt.coerce(a.subarray(q,q+C.multihashSize));if(re.byteLength!==C.multihashSize){throw new Error("Incorrect length")}const Ue=re.subarray(C.multihashSize-C.digestSize);const Pt=new ae.Digest(C.multihashCode,C.digestSize,Ue,re);const Er=C.version===0?CID.createV0(Pt):CID.createV1(C.codec,Pt);return[Er,a.subarray(C.size)]}static inspectBytes(a){let C=0;const next=()=>{const[q,ae]=re.decode(a.subarray(C));C+=ae;return q};let q=next();let ae=Er;if(q===18){q=0;C=0}else if(q===1){ae=next()}if(q!==0&&q!==1){throw new RangeError(`Invalid CID version ${q}`)}const Ue=C;const Pt=next();const Wt=next();const Ar=C+Wt;const xr=Ar-Ue;return{version:q,codec:ae,multihashCode:Pt,digestSize:Wt,multihashSize:xr,size:Ar}}static parse(a,C){const[q,re]=parseCIDtoBytes(a,C);const ae=CID.decode(re);ae._baseCache.set(q,a);return ae}}const parseCIDtoBytes=(a,C)=>{switch(a[0]){case"Q":{const q=C||Ue.base58btc;return[Ue.base58btc.prefix,q.decode(`${Ue.base58btc.prefix}${a}`)]}case Ue.base58btc.prefix:{const q=C||Ue.base58btc;return[Ue.base58btc.prefix,q.decode(a)]}case Pt.base32.prefix:{const q=C||Pt.base32;return[Pt.base32.prefix,q.decode(a)]}default:{if(C==null){throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided")}return[a[0],C.decode(a)]}}};const toStringV0=(a,C,q)=>{const{prefix:re}=q;if(re!==Ue.base58btc.prefix){throw Error(`Cannot string encode V0 in ${q.name} encoding`)}const ae=C.get(re);if(ae==null){const ae=q.encode(a).slice(1);C.set(re,ae);return ae}else{return ae}};const toStringV1=(a,C,q)=>{const{prefix:re}=q;const ae=C.get(re);if(ae==null){const ae=q.encode(a);C.set(re,ae);return ae}else{return ae}};const Er=112;const Ar=18;const encodeCID=(a,C,q)=>{const ae=re.encodingLength(a);const Ue=ae+re.encodingLength(C);const Pt=new Uint8Array(Ue+q.byteLength);re.encodeTo(a,Pt,0);re.encodeTo(C,Pt,ae);Pt.set(q,Ue);return Pt};const xr=Symbol.for("@ipld/js-cid/CID");const kr={writable:false,configurable:false,enumerable:true};const Pr={writable:false,enumerable:false,configurable:false};const Br="0.0.0-dev";const deprecate=(a,C)=>{if(a.test(Br)){console.warn(C)}else{throw new Error(C)}};const Mr=`CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n`;C.CID=CID},76:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(6507);var ae=q(4972);const create=(a,C)=>{const q=C.byteLength;const re=ae.encodingLength(a);const Ue=re+ae.encodingLength(q);const Pt=new Uint8Array(Ue+q);ae.encodeTo(a,Pt,0);ae.encodeTo(q,Pt,re);Pt.set(C,Ue);return new Digest(a,q,C,Pt)};const decode=a=>{const C=re.coerce(a);const[q,Ue]=ae.decode(C);const[Pt,Wt]=ae.decode(C.subarray(Ue));const Er=C.subarray(Ue+Wt);if(Er.byteLength!==Pt){throw new Error("Incorrect length")}return new Digest(q,Pt,Er,C)};const equals=(a,C)=>{if(a===C){return true}else{return a.code===C.code&&a.size===C.size&&re.equals(a.bytes,C.bytes)}};class Digest{constructor(a,C,q,re){this.code=a;this.size=C;this.digest=q;this.bytes=re}}C.Digest=Digest;C.create=create;C.decode=decode;C.equals=equals},92:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(76);const from=({name:a,code:C,encode:q})=>new Hasher(a,C,q);class Hasher{constructor(a,C,q){this.name=a;this.code=C;this.encode=q}digest(a){if(a instanceof Uint8Array){const C=this.encode(a);return C instanceof Uint8Array?re.create(this.code,C):C.then((a=>re.create(this.code,a)))}else{throw Error("Unknown type, must be binary type")}}}C.Hasher=Hasher;C.from=from},5978:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(6447);var ae=q(4972);var Ue=q(6507);var Pt=q(92);var Wt=q(76);C.CID=re.CID;C.varint=ae;C.bytes=Ue;C.hasher=Pt;C.digest=Wt},4972:(a,C,q)=>{"use strict";Object.defineProperty(C,"__esModule",{value:true});var re=q(4890);const decode=a=>{const C=re.decode(a);return[C,re.decode.bytes]};const encodeTo=(a,C,q=0)=>{re.encode(a,C,q);return C};const encodingLength=a=>re.encodingLength(a);C.decode=decode;C.encodeTo=encodeTo;C.encodingLength=encodingLength},228:a=>{"use strict";function base(a,C){if(a.length>=255){throw new TypeError("Alphabet too long")}var q=new Uint8Array(256);for(var re=0;re<q.length;re++){q[re]=255}for(var ae=0;ae<a.length;ae++){var Ue=a.charAt(ae);var Pt=Ue.charCodeAt(0);if(q[Pt]!==255){throw new TypeError(Ue+" is ambiguous")}q[Pt]=ae}var Wt=a.length;var Er=a.charAt(0);var Ar=Math.log(Wt)/Math.log(256);var xr=Math.log(256)/Math.log(Wt);function encode(C){if(C instanceof Uint8Array);else if(ArrayBuffer.isView(C)){C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength)}else if(Array.isArray(C)){C=Uint8Array.from(C)}if(!(C instanceof Uint8Array)){throw new TypeError("Expected Uint8Array")}if(C.length===0){return""}var q=0;var re=0;var ae=0;var Ue=C.length;while(ae!==Ue&&C[ae]===0){ae++;q++}var Pt=(Ue-ae)*xr+1>>>0;var Ar=new Uint8Array(Pt);while(ae!==Ue){var kr=C[ae];var Pr=0;for(var Br=Pt-1;(kr!==0||Pr<re)&&Br!==-1;Br--,Pr++){kr+=256*Ar[Br]>>>0;Ar[Br]=kr%Wt>>>0;kr=kr/Wt>>>0}if(kr!==0){throw new Error("Non-zero carry")}re=Pr;ae++}var Mr=Pt-re;while(Mr!==Pt&&Ar[Mr]===0){Mr++}var Or=Er.repeat(q);for(;Mr<Pt;++Mr){Or+=a.charAt(Ar[Mr])}return Or}function decodeUnsafe(a){if(typeof a!=="string"){throw new TypeError("Expected String")}if(a.length===0){return new Uint8Array}var C=0;if(a[C]===" "){return}var re=0;var ae=0;while(a[C]===Er){re++;C++}var Ue=(a.length-C)*Ar+1>>>0;var Pt=new Uint8Array(Ue);while(a[C]){var xr=q[a.charCodeAt(C)];if(xr===255){return}var kr=0;for(var Pr=Ue-1;(xr!==0||kr<ae)&&Pr!==-1;Pr--,kr++){xr+=Wt*Pt[Pr]>>>0;Pt[Pr]=xr%256>>>0;xr=xr/256>>>0}if(xr!==0){throw new Error("Non-zero carry")}ae=kr;C++}if(a[C]===" "){return}var Br=Ue-ae;while(Br!==Ue&&Pt[Br]===0){Br++}var Mr=new Uint8Array(re+(Ue-Br));var Or=re;while(Br!==Ue){Mr[Or++]=Pt[Br++]}return Mr}function decode(a){var q=decodeUnsafe(a);if(q){return q}throw new Error(`Non-${C} character`)}return{encode:encode,decodeUnsafe:decodeUnsafe,decode:decode}}var C=base;var q=C;a.exports=q},4890:a=>{"use strict";var C=encode;var q=128,re=127,ae=~re,Ue=Math.pow(2,31);function encode(a,C,re){C=C||[];re=re||0;var Pt=re;while(a>=Ue){C[re++]=a&255|q;a/=128}while(a&ae){C[re++]=a&255|q;a>>>=7}C[re]=a|0;encode.bytes=re-Pt+1;return C}var Pt=read;var Wt=128,Er=127;function read(a,C){var q=0,C=C||0,re=0,ae=C,Ue,Pt=a.length;do{if(ae>=Pt){read.bytes=0;throw new RangeError("Could not decode varint")}Ue=a[ae++];q+=re<28?(Ue&Er)<<re:(Ue&Er)*Math.pow(2,re);re+=7}while(Ue>=Wt);read.bytes=ae-C;return q}var Ar=Math.pow(2,7);var xr=Math.pow(2,14);var kr=Math.pow(2,21);var Pr=Math.pow(2,28);var Br=Math.pow(2,35);var Mr=Math.pow(2,42);var Or=Math.pow(2,49);var Ir=Math.pow(2,56);var Nr=Math.pow(2,63);var length=function(a){return a<Ar?1:a<xr?2:a<kr?3:a<Pr?4:a<Br?5:a<Mr?6:a<Or?7:a<Ir?8:a<Nr?9:10};var jr={encode:C,decode:Pt,encodingLength:length};var Lr=jr;var Dr=Lr;a.exports=Dr},4090:(module,__unused_webpack_exports,__nccwpck_require__)=>{var fs=__nccwpck_require__(7147);var path=__nccwpck_require__(1017);var os=__nccwpck_require__(2037);var runtimeRequire=true?eval("require"):0;var vars=process.config&&process.config.variables||{};var prebuildsOnly=!!process.env.PREBUILDS_ONLY;var abi=process.versions.modules;var runtime=isElectron()?"electron":"node";var arch=os.arch();var platform=os.platform();var libc=process.env.LIBC||(isAlpine(platform)?"musl":"glibc");var armv=process.env.ARM_VERSION||(arch==="arm64"?"8":vars.arm_version)||"";var uv=(process.versions.uv||"").split(".")[0];module.exports=load;function load(a){return runtimeRequire(load.path(a))}load.path=function(a){a=path.resolve(a||".");try{var C=runtimeRequire(path.join(a,"package.json")).name.toUpperCase().replace(/-/g,"_");if(process.env[C+"_PREBUILD"])a=process.env[C+"_PREBUILD"]}catch(a){}if(!prebuildsOnly){var q=getFirst(path.join(a,"build/Release"),matchBuild);if(q)return q;var re=getFirst(path.join(a,"build/Debug"),matchBuild);if(re)return re}var ae=resolve(a);if(ae)return ae;var Ue=resolve(path.dirname(process.execPath));if(Ue)return Ue;var Pt=["platform="+platform,"arch="+arch,"runtime="+runtime,"abi="+abi,"uv="+uv,armv?"armv="+armv:"","libc="+libc,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",true?"webpack=true":0].filter(Boolean).join(" ");throw new Error("No native build was found for "+Pt+"\n    loaded from: "+a+"\n");function resolve(a){var C=readdirSync(path.join(a,"prebuilds")).map(parseTuple);var q=C.filter(matchTuple(platform,arch)).sort(compareTuples)[0];if(!q)return;var re=path.join(a,"prebuilds",q.name);var ae=readdirSync(re).map(parseTags);var Ue=ae.filter(matchTags(runtime,abi));var Pt=Ue.sort(compareTags(runtime))[0];if(Pt)return path.join(re,Pt.file)}};function readdirSync(a){try{return fs.readdirSync(a)}catch(a){return[]}}function getFirst(a,C){var q=readdirSync(a).filter(C);return q[0]&&path.join(a,q[0])}function matchBuild(a){return/\.node$/.test(a)}function parseTuple(a){var C=a.split("-");if(C.length!==2)return;var q=C[0];var re=C[1].split("+");if(!q)return;if(!re.length)return;if(!re.every(Boolean))return;return{name:a,platform:q,architectures:re}}function matchTuple(a,C){return function(q){if(q==null)return false;if(q.platform!==a)return false;return q.architectures.includes(C)}}function compareTuples(a,C){return a.architectures.length-C.architectures.length}function parseTags(a){var C=a.split(".");var q=C.pop();var re={file:a,specificity:0};if(q!=="node")return;for(var ae=0;ae<C.length;ae++){var Ue=C[ae];if(Ue==="node"||Ue==="electron"||Ue==="node-webkit"){re.runtime=Ue}else if(Ue==="napi"){re.napi=true}else if(Ue.slice(0,3)==="abi"){re.abi=Ue.slice(3)}else if(Ue.slice(0,2)==="uv"){re.uv=Ue.slice(2)}else if(Ue.slice(0,4)==="armv"){re.armv=Ue.slice(4)}else if(Ue==="glibc"||Ue==="musl"){re.libc=Ue}else{continue}re.specificity++}return re}function matchTags(a,C){return function(q){if(q==null)return false;if(q.runtime!==a&&!runtimeAgnostic(q))return false;if(q.abi!==C&&!q.napi)return false;if(q.uv&&q.uv!==uv)return false;if(q.armv&&q.armv!==armv)return false;if(q.libc&&q.libc!==libc)return false;return true}}function runtimeAgnostic(a){return a.runtime==="node"&&a.napi}function compareTags(a){return function(C,q){if(C.runtime!==q.runtime){return C.runtime===a?-1:1}else if(C.abi!==q.abi){return C.abi?-1:1}else if(C.specificity!==q.specificity){return C.specificity>q.specificity?-1:1}else{return 0}}}function isElectron(){if(process.versions&&process.versions.electron)return true;if(process.env.ELECTRON_RUN_AS_NODE)return true;return typeof window!=="undefined"&&window.process&&window.process.type==="renderer"}function isAlpine(a){return a==="linux"&&fs.existsSync("/etc/alpine-release")}load.parseTags=parseTags;load.matchTags=matchTags;load.compareTags=compareTags;load.parseTuple=parseTuple;load.matchTuple=matchTuple;load.compareTuples=compareTuples},8088:(a,C,q)=>{const re=q(427);const{MAX_LENGTH:ae,MAX_SAFE_INTEGER:Ue}=q(2293);const{re:Pt,t:Wt}=q(9523);const Er=q(785);const{compareIdentifiers:Ar}=q(2463);class SemVer{constructor(a,C){C=Er(C);if(a instanceof SemVer){if(a.loose===!!C.loose&&a.includePrerelease===!!C.includePrerelease){return a}else{a=a.version}}else if(typeof a!=="string"){throw new TypeError(`Invalid Version: ${a}`)}if(a.length>ae){throw new TypeError(`version is longer than ${ae} characters`)}re("SemVer",a,C);this.options=C;this.loose=!!C.loose;this.includePrerelease=!!C.includePrerelease;const q=a.trim().match(C.loose?Pt[Wt.LOOSE]:Pt[Wt.FULL]);if(!q){throw new TypeError(`Invalid Version: ${a}`)}this.raw=a;this.major=+q[1];this.minor=+q[2];this.patch=+q[3];if(this.major>Ue||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>Ue||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>Ue||this.patch<0){throw new TypeError("Invalid patch version")}if(!q[4]){this.prerelease=[]}else{this.prerelease=q[4].split(".").map((a=>{if(/^[0-9]+$/.test(a)){const C=+a;if(C>=0&&C<Ue){return C}}return a}))}this.build=q[5]?q[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(a){re("SemVer.compare",this.version,this.options,a);if(!(a instanceof SemVer)){if(typeof a==="string"&&a===this.version){return 0}a=new SemVer(a,this.options)}if(a.version===this.version){return 0}return this.compareMain(a)||this.comparePre(a)}compareMain(a){if(!(a instanceof SemVer)){a=new SemVer(a,this.options)}return Ar(this.major,a.major)||Ar(this.minor,a.minor)||Ar(this.patch,a.patch)}comparePre(a){if(!(a instanceof SemVer)){a=new SemVer(a,this.options)}if(this.prerelease.length&&!a.prerelease.length){return-1}else if(!this.prerelease.length&&a.prerelease.length){return 1}else if(!this.prerelease.length&&!a.prerelease.length){return 0}let C=0;do{const q=this.prerelease[C];const ae=a.prerelease[C];re("prerelease compare",C,q,ae);if(q===undefined&&ae===undefined){return 0}else if(ae===undefined){return 1}else if(q===undefined){return-1}else if(q===ae){continue}else{return Ar(q,ae)}}while(++C)}compareBuild(a){if(!(a instanceof SemVer)){a=new SemVer(a,this.options)}let C=0;do{const q=this.build[C];const ae=a.build[C];re("prerelease compare",C,q,ae);if(q===undefined&&ae===undefined){return 0}else if(ae===undefined){return 1}else if(q===undefined){return-1}else if(q===ae){continue}else{return Ar(q,ae)}}while(++C)}inc(a,C){switch(a){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",C);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",C);break;case"prepatch":this.prerelease.length=0;this.inc("patch",C);this.inc("pre",C);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",C)}this.inc("pre",C);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{let a=this.prerelease.length;while(--a>=0){if(typeof this.prerelease[a]==="number"){this.prerelease[a]++;a=-2}}if(a===-1){this.prerelease.push(0)}}if(C){if(Ar(this.prerelease[0],C)===0){if(isNaN(this.prerelease[1])){this.prerelease=[C,0]}}else{this.prerelease=[C,0]}}break;default:throw new Error(`invalid increment argument: ${a}`)}this.format();this.raw=this.version;return this}}a.exports=SemVer},6688:(a,C,q)=>{const re=q(8088);const major=(a,C)=>new re(a,C).major;a.exports=major},2293:a=>{const C="2.0.0";const q=256;const re=Number.MAX_SAFE_INTEGER||9007199254740991;const ae=16;a.exports={SEMVER_SPEC_VERSION:C,MAX_LENGTH:q,MAX_SAFE_INTEGER:re,MAX_SAFE_COMPONENT_LENGTH:ae}},427:a=>{const C=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{};a.exports=C},2463:a=>{const C=/^[0-9]+$/;const compareIdentifiers=(a,q)=>{const re=C.test(a);const ae=C.test(q);if(re&&ae){a=+a;q=+q}return a===q?0:re&&!ae?-1:ae&&!re?1:a<q?-1:1};const rcompareIdentifiers=(a,C)=>compareIdentifiers(C,a);a.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},785:a=>{const C=["includePrerelease","loose","rtl"];const parseOptions=a=>!a?{}:typeof a!=="object"?{loose:true}:C.filter((C=>a[C])).reduce(((a,C)=>{a[C]=true;return a}),{});a.exports=parseOptions},9523:(a,C,q)=>{const{MAX_SAFE_COMPONENT_LENGTH:re}=q(2293);const ae=q(427);C=a.exports={};const Ue=C.re=[];const Pt=C.src=[];const Wt=C.t={};let Er=0;const createToken=(a,C,q)=>{const re=Er++;ae(a,re,C);Wt[a]=re;Pt[re]=C;Ue[re]=new RegExp(C,q?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${Pt[Wt.NUMERICIDENTIFIER]})\\.`+`(${Pt[Wt.NUMERICIDENTIFIER]})\\.`+`(${Pt[Wt.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${Pt[Wt.NUMERICIDENTIFIERLOOSE]})\\.`+`(${Pt[Wt.NUMERICIDENTIFIERLOOSE]})\\.`+`(${Pt[Wt.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${Pt[Wt.NUMERICIDENTIFIER]}|${Pt[Wt.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${Pt[Wt.NUMERICIDENTIFIERLOOSE]}|${Pt[Wt.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${Pt[Wt.PRERELEASEIDENTIFIER]}(?:\\.${Pt[Wt.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${Pt[Wt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Pt[Wt.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${Pt[Wt.BUILDIDENTIFIER]}(?:\\.${Pt[Wt.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${Pt[Wt.MAINVERSION]}${Pt[Wt.PRERELEASE]}?${Pt[Wt.BUILD]}?`);createToken("FULL",`^${Pt[Wt.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${Pt[Wt.MAINVERSIONLOOSE]}${Pt[Wt.PRERELEASELOOSE]}?${Pt[Wt.BUILD]}?`);createToken("LOOSE",`^${Pt[Wt.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${Pt[Wt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${Pt[Wt.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${Pt[Wt.XRANGEIDENTIFIER]})`+`(?:\\.(${Pt[Wt.XRANGEIDENTIFIER]})`+`(?:\\.(${Pt[Wt.XRANGEIDENTIFIER]})`+`(?:${Pt[Wt.PRERELEASE]})?${Pt[Wt.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${Pt[Wt.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Pt[Wt.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Pt[Wt.XRANGEIDENTIFIERLOOSE]})`+`(?:${Pt[Wt.PRERELEASELOOSE]})?${Pt[Wt.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${Pt[Wt.GTLT]}\\s*${Pt[Wt.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${Pt[Wt.GTLT]}\\s*${Pt[Wt.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${re}})`+`(?:\\.(\\d{1,${re}}))?`+`(?:\\.(\\d{1,${re}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",Pt[Wt.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${Pt[Wt.LONETILDE]}\\s+`,true);C.tildeTrimReplace="$1~";createToken("TILDE",`^${Pt[Wt.LONETILDE]}${Pt[Wt.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${Pt[Wt.LONETILDE]}${Pt[Wt.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${Pt[Wt.LONECARET]}\\s+`,true);C.caretTrimReplace="$1^";createToken("CARET",`^${Pt[Wt.LONECARET]}${Pt[Wt.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${Pt[Wt.LONECARET]}${Pt[Wt.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${Pt[Wt.GTLT]}\\s*(${Pt[Wt.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${Pt[Wt.GTLT]}\\s*(${Pt[Wt.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${Pt[Wt.GTLT]}\\s*(${Pt[Wt.LOOSEPLAIN]}|${Pt[Wt.XRANGEPLAIN]})`,true);C.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${Pt[Wt.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${Pt[Wt.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${Pt[Wt.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${Pt[Wt.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},291:(a,C,q)=>{(function(){"use strict";var C=q(342),re;re=[{field:"fileName",length:100},{field:"fileMode",length:8},{field:"uid",length:8},{field:"gid",length:8},{field:"fileSize",length:12},{field:"mtime",length:12},{field:"checksum",length:8},{field:"type",length:1},{field:"linkName",length:100},{field:"ustar",length:8},{field:"owner",length:32},{field:"group",length:32},{field:"majorNumber",length:8},{field:"minorNumber",length:8},{field:"filenamePrefix",length:155},{field:"padding",length:12}];function formatHeader(a,q){var ae=C.clean(512),Ue=0;re.forEach((function(C){var q=a[C.field]||"",re,Pt;for(re=0,Pt=q.length;re<Pt;re+=1){ae[Ue]=q.charCodeAt(re);Ue+=1}Ue+=C.length-re}));if(typeof q==="function"){return q(ae,Ue)}return ae}a.exports.structure=re;a.exports.format=formatHeader})()},4132:(a,C,q)=>{(function(){"use strict";var C=q(291),re=q(342),ae=512,Ue;function Tar(a){this.written=0;Ue=(a||20)*ae;this.out=re.clean(Ue)}Tar.prototype.append=function(a,q,Pt,Wt){var Er,Ar,xr,kr,Pr,Br,Mr;if(typeof q==="string"){q=re.stringToUint8(q)}else if(q.constructor!==Uint8Array.prototype.constructor){throw"Invalid input type. You gave me: "+q.constructor.toString().match(/function\s*([$A-Za-z_][0-9A-Za-z_]*)\s*\(/)[1]}if(typeof Pt==="function"){Wt=Pt;Pt={}}Pt=Pt||{};xr=Pt.mode||parseInt("777",8)&4095;kr=Pt.mtime||Math.floor(+new Date/1e3);Pr=Pt.uid||0;Br=Pt.gid||0;Er={fileName:a,fileMode:re.pad(xr,7),uid:re.pad(Pr,7),gid:re.pad(Br,7),fileSize:re.pad(q.length,11),mtime:re.pad(kr,11),checksum:"        ",type:"0",ustar:"ustar  ",owner:Pt.owner||"",group:Pt.group||""};Ar=0;Object.keys(Er).forEach((function(a){var C,q=Er[a],re;for(C=0,re=q.length;C<re;C+=1){Ar+=q.charCodeAt(C)}}));Er.checksum=re.pad(Ar,6)+"\0 ";Mr=C.format(Er);var Or,Ir,Nr;this.out.set(Mr,this.written);this.written+=Mr.length;if(this.written+q.length>this.out.length){this.out=re.extend(this.out,this.written,q.length,Ue)}this.out.set(q,this.written);this.written+=q.length+(ae-(q.length%ae||ae));if(this.out.length-this.written<ae*2){this.out=re.extend(this.out,this.written,ae*2,Ue)}if(typeof Wt==="function"){Wt(this.out)}return this.out};Tar.prototype.clear=function(){this.written=0;this.out=re.clean(Ue)};Tar.utils=re;Tar.stringToUint8=re.stringToUint8;Tar.uint8ToBase64=re.uint8ToBase64;Tar.base64ToUint8=re.base64ToUint8;a.exports=Tar})()},342:a=>{(function(){"use strict";var C=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function clean(a){var C,q=new Uint8Array(a);for(C=0;C<a;C+=1){q[C]=0}return q}function extend(a,C,q,re){var ae=C+q,Ue=clean((parseInt(ae/re)+1)*re);Ue.set(a);return Ue}function pad(a,C,q){a=a.toString(q||8);return"000000000000".substr(a.length+12-C)+a}function stringToUint8(a,C,q){var re,ae;C=C||clean(a.length);q=q||0;for(re=0,ae=a.length;re<ae;re+=1){C[q]=a.charCodeAt(re);q+=1}return C}function uint8ToBase64(a){var q,re=a.length%3,ae="",Ue,Pt;function tripletToBase64(a){return C[a>>18&63]+C[a>>12&63]+C[a>>6&63]+C[a&63]}for(q=0,Pt=a.length-re;q<Pt;q+=3){Ue=(a[q]<<16)+(a[q+1]<<8)+a[q+2];ae+=tripletToBase64(Ue)}switch(ae.length%4){case 1:ae+="=";break;case 2:ae+="==";break;default:break}return ae}function base64ToUint8(a){var q=a.match(/^([^=]+)/)[1],re=a.match(/(=*)$/)[1].length,ae=0,Ue=q.length,Pt,Wt=0,Er=clean(q.length*.75+re);while(ae<Ue){Pt=0;Pt|=C.indexOf(q.charAt(ae)||"A")<<18;ae+=1;Pt|=C.indexOf(q.charAt(ae)||"A")<<12;ae+=1;Pt|=C.indexOf(q.charAt(ae)||"A")<<6;ae+=1;Pt|=C.indexOf(q.charAt(ae)||"A");ae+=1;Er[Wt]=Pt>>16&255;Wt+=1;Er[Wt]=Pt>>8&255;Wt+=1;Er[Wt]=Pt&255;Wt+=1}return Er}a.exports.clean=clean;a.exports.pad=pad;a.exports.extend=extend;a.exports.stringToUint8=stringToUint8;a.exports.uint8ToBase64=uint8ToBase64;a.exports.base64ToUint8=base64ToUint8})()},4294:(a,C,q)=>{a.exports=q(4219)},4219:(a,C,q)=>{"use strict";var re=q(1808);var ae=q(4404);var Ue=q(3685);var Pt=q(5687);var Wt=q(2361);var Er=q(9491);var Ar=q(3837);C.httpOverHttp=httpOverHttp;C.httpsOverHttp=httpsOverHttp;C.httpOverHttps=httpOverHttps;C.httpsOverHttps=httpsOverHttps;function httpOverHttp(a){var C=new TunnelingAgent(a);C.request=Ue.request;return C}function httpsOverHttp(a){var C=new TunnelingAgent(a);C.request=Ue.request;C.createSocket=createSecureSocket;C.defaultPort=443;return C}function httpOverHttps(a){var C=new TunnelingAgent(a);C.request=Pt.request;return C}function httpsOverHttps(a){var C=new TunnelingAgent(a);C.request=Pt.request;C.createSocket=createSecureSocket;C.defaultPort=443;return C}function TunnelingAgent(a){var C=this;C.options=a||{};C.proxyOptions=C.options.proxy||{};C.maxSockets=C.options.maxSockets||Ue.Agent.defaultMaxSockets;C.requests=[];C.sockets=[];C.on("free",(function onFree(a,q,re,ae){var Ue=toOptions(q,re,ae);for(var Pt=0,Wt=C.requests.length;Pt<Wt;++Pt){var Er=C.requests[Pt];if(Er.host===Ue.host&&Er.port===Ue.port){C.requests.splice(Pt,1);Er.request.onSocket(a);return}}a.destroy();C.removeSocket(a)}))}Ar.inherits(TunnelingAgent,Wt.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(a,C,q,re){var ae=this;var Ue=mergeOptions({request:a},ae.options,toOptions(C,q,re));if(ae.sockets.length>=this.maxSockets){ae.requests.push(Ue);return}ae.createSocket(Ue,(function(C){C.on("free",onFree);C.on("close",onCloseOrRemove);C.on("agentRemove",onCloseOrRemove);a.onSocket(C);function onFree(){ae.emit("free",C,Ue)}function onCloseOrRemove(a){ae.removeSocket(C);C.removeListener("free",onFree);C.removeListener("close",onCloseOrRemove);C.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(a,C){var q=this;var re={};q.sockets.push(re);var ae=mergeOptions({},q.proxyOptions,{method:"CONNECT",path:a.host+":"+a.port,agent:false,headers:{host:a.host+":"+a.port}});if(a.localAddress){ae.localAddress=a.localAddress}if(ae.proxyAuth){ae.headers=ae.headers||{};ae.headers["Proxy-Authorization"]="Basic "+new Buffer(ae.proxyAuth).toString("base64")}xr("making CONNECT request");var Ue=q.request(ae);Ue.useChunkedEncodingByDefault=false;Ue.once("response",onResponse);Ue.once("upgrade",onUpgrade);Ue.once("connect",onConnect);Ue.once("error",onError);Ue.end();function onResponse(a){a.upgrade=true}function onUpgrade(a,C,q){process.nextTick((function(){onConnect(a,C,q)}))}function onConnect(ae,Pt,Wt){Ue.removeAllListeners();Pt.removeAllListeners();if(ae.statusCode!==200){xr("tunneling socket could not be established, statusCode=%d",ae.statusCode);Pt.destroy();var Er=new Error("tunneling socket could not be established, "+"statusCode="+ae.statusCode);Er.code="ECONNRESET";a.request.emit("error",Er);q.removeSocket(re);return}if(Wt.length>0){xr("got illegal response body from proxy");Pt.destroy();var Er=new Error("got illegal response body from proxy");Er.code="ECONNRESET";a.request.emit("error",Er);q.removeSocket(re);return}xr("tunneling connection has established");q.sockets[q.sockets.indexOf(re)]=Pt;return C(Pt)}function onError(C){Ue.removeAllListeners();xr("tunneling socket could not be established, cause=%s\n",C.message,C.stack);var ae=new Error("tunneling socket could not be established, "+"cause="+C.message);ae.code="ECONNRESET";a.request.emit("error",ae);q.removeSocket(re)}};TunnelingAgent.prototype.removeSocket=function removeSocket(a){var C=this.sockets.indexOf(a);if(C===-1){return}this.sockets.splice(C,1);var q=this.requests.shift();if(q){this.createSocket(q,(function(a){q.request.onSocket(a)}))}};function createSecureSocket(a,C){var q=this;TunnelingAgent.prototype.createSocket.call(q,a,(function(re){var Ue=a.request.getHeader("host");var Pt=mergeOptions({},q.options,{socket:re,servername:Ue?Ue.replace(/:.*$/,""):a.host});var Wt=ae.connect(0,Pt);q.sockets[q.sockets.indexOf(re)]=Wt;C(Wt)}))}function toOptions(a,C,q){if(typeof a==="string"){return{host:a,port:C,localAddress:q}}return a}function mergeOptions(a){for(var C=1,q=arguments.length;C<q;++C){var re=arguments[C];if(typeof re==="object"){var ae=Object.keys(re);for(var Ue=0,Pt=ae.length;Ue<Pt;++Ue){var Wt=ae[Ue];if(re[Wt]!==undefined){a[Wt]=re[Wt]}}}}return a}var xr;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){xr=function(){var a=Array.prototype.slice.call(arguments);if(typeof a[0]==="string"){a[0]="TUNNEL: "+a[0]}else{a.unshift("TUNNEL:")}console.error.apply(console,a)}}else{xr=function(){}}C.debug=xr},2534:a=>{"use strict";function isValidUTF8(a){const C=a.length;let q=0;while(q<C){if((a[q]&128)===0){q++}else if((a[q]&224)===192){if(q+1===C||(a[q+1]&192)!==128||(a[q]&254)===192){return false}q+=2}else if((a[q]&240)===224){if(q+2>=C||(a[q+1]&192)!==128||(a[q+2]&192)!==128||a[q]===224&&(a[q+1]&224)===128||a[q]===237&&(a[q+1]&224)===160){return false}q+=3}else if((a[q]&248)===240){if(q+3>=C||(a[q+1]&192)!==128||(a[q+2]&192)!==128||(a[q+3]&192)!==128||a[q]===240&&(a[q+1]&240)===128||a[q]===244&&a[q+1]>143||a[q]>244){return false}q+=4}else{return false}}return true}a.exports=isValidUTF8},5161:(a,C,q)=>{"use strict";try{a.exports=q(4090)(__dirname)}catch(C){a.exports=q(2534)}},8867:(a,C,q)=>{"use strict";const re=q(1518);re.createWebSocketStream=q(1658);re.Server=q(8887);re.Receiver=q(5066);re.Sender=q(6947);re.WebSocket=re;re.WebSocketServer=re.Server;a.exports=re},9436:(a,C,q)=>{"use strict";const{EMPTY_BUFFER:re}=q(5949);function concat(a,C){if(a.length===0)return re;if(a.length===1)return a[0];const q=Buffer.allocUnsafe(C);let ae=0;for(let C=0;C<a.length;C++){const re=a[C];q.set(re,ae);ae+=re.length}if(ae<C)return q.slice(0,ae);return q}function _mask(a,C,q,re,ae){for(let Ue=0;Ue<ae;Ue++){q[re+Ue]=a[Ue]^C[Ue&3]}}function _unmask(a,C){for(let q=0;q<a.length;q++){a[q]^=C[q&3]}}function toArrayBuffer(a){if(a.byteLength===a.buffer.byteLength){return a.buffer}return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}function toBuffer(a){toBuffer.readOnly=true;if(Buffer.isBuffer(a))return a;let C;if(a instanceof ArrayBuffer){C=Buffer.from(a)}else if(ArrayBuffer.isView(a)){C=Buffer.from(a.buffer,a.byteOffset,a.byteLength)}else{C=Buffer.from(a);toBuffer.readOnly=false}return C}try{const C=q(3352);a.exports={concat:concat,mask(a,q,re,ae,Ue){if(Ue<48)_mask(a,q,re,ae,Ue);else C.mask(a,q,re,ae,Ue)},toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask(a,q){if(a.length<32)_unmask(a,q);else C.unmask(a,q)}}}catch(C){a.exports={concat:concat,mask:_mask,toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask:_unmask}}},5949:a=>{"use strict";a.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},4561:(a,C,q)=>{"use strict";const{kForOnEventAttribute:re,kListener:ae}=q(5949);const Ue=Symbol("kCode");const Pt=Symbol("kData");const Wt=Symbol("kError");const Er=Symbol("kMessage");const Ar=Symbol("kReason");const xr=Symbol("kTarget");const kr=Symbol("kType");const Pr=Symbol("kWasClean");class Event{constructor(a){this[xr]=null;this[kr]=a}get target(){return this[xr]}get type(){return this[kr]}}Object.defineProperty(Event.prototype,"target",{enumerable:true});Object.defineProperty(Event.prototype,"type",{enumerable:true});class CloseEvent extends Event{constructor(a,C={}){super(a);this[Ue]=C.code===undefined?0:C.code;this[Ar]=C.reason===undefined?"":C.reason;this[Pr]=C.wasClean===undefined?false:C.wasClean}get code(){return this[Ue]}get reason(){return this[Ar]}get wasClean(){return this[Pr]}}Object.defineProperty(CloseEvent.prototype,"code",{enumerable:true});Object.defineProperty(CloseEvent.prototype,"reason",{enumerable:true});Object.defineProperty(CloseEvent.prototype,"wasClean",{enumerable:true});class ErrorEvent extends Event{constructor(a,C={}){super(a);this[Wt]=C.error===undefined?null:C.error;this[Er]=C.message===undefined?"":C.message}get error(){return this[Wt]}get message(){return this[Er]}}Object.defineProperty(ErrorEvent.prototype,"error",{enumerable:true});Object.defineProperty(ErrorEvent.prototype,"message",{enumerable:true});class MessageEvent extends Event{constructor(a,C={}){super(a);this[Pt]=C.data===undefined?null:C.data}get data(){return this[Pt]}}Object.defineProperty(MessageEvent.prototype,"data",{enumerable:true});const Br={addEventListener(a,C,q={}){let Ue;if(a==="message"){Ue=function onMessage(a,q){const re=new MessageEvent("message",{data:q?a:a.toString()});re[xr]=this;C.call(this,re)}}else if(a==="close"){Ue=function onClose(a,q){const re=new CloseEvent("close",{code:a,reason:q.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});re[xr]=this;C.call(this,re)}}else if(a==="error"){Ue=function onError(a){const q=new ErrorEvent("error",{error:a,message:a.message});q[xr]=this;C.call(this,q)}}else if(a==="open"){Ue=function onOpen(){const a=new Event("open");a[xr]=this;C.call(this,a)}}else{return}Ue[re]=!!q[re];Ue[ae]=C;if(q.once){this.once(a,Ue)}else{this.on(a,Ue)}},removeEventListener(a,C){for(const q of this.listeners(a)){if(q[ae]===C&&!q[re]){this.removeListener(a,q);break}}}};a.exports={CloseEvent:CloseEvent,ErrorEvent:ErrorEvent,Event:Event,EventTarget:Br,MessageEvent:MessageEvent}},2035:(a,C,q)=>{"use strict";const{tokenChars:re}=q(6279);function push(a,C,q){if(a[C]===undefined)a[C]=[q];else a[C].push(q)}function parse(a){const C=Object.create(null);let q=Object.create(null);let ae=false;let Ue=false;let Pt=false;let Wt;let Er;let Ar=-1;let xr=-1;let kr=-1;let Pr=0;for(;Pr<a.length;Pr++){xr=a.charCodeAt(Pr);if(Wt===undefined){if(kr===-1&&re[xr]===1){if(Ar===-1)Ar=Pr}else if(Pr!==0&&(xr===32||xr===9)){if(kr===-1&&Ar!==-1)kr=Pr}else if(xr===59||xr===44){if(Ar===-1){throw new SyntaxError(`Unexpected character at index ${Pr}`)}if(kr===-1)kr=Pr;const re=a.slice(Ar,kr);if(xr===44){push(C,re,q);q=Object.create(null)}else{Wt=re}Ar=kr=-1}else{throw new SyntaxError(`Unexpected character at index ${Pr}`)}}else if(Er===undefined){if(kr===-1&&re[xr]===1){if(Ar===-1)Ar=Pr}else if(xr===32||xr===9){if(kr===-1&&Ar!==-1)kr=Pr}else if(xr===59||xr===44){if(Ar===-1){throw new SyntaxError(`Unexpected character at index ${Pr}`)}if(kr===-1)kr=Pr;push(q,a.slice(Ar,kr),true);if(xr===44){push(C,Wt,q);q=Object.create(null);Wt=undefined}Ar=kr=-1}else if(xr===61&&Ar!==-1&&kr===-1){Er=a.slice(Ar,Pr);Ar=kr=-1}else{throw new SyntaxError(`Unexpected character at index ${Pr}`)}}else{if(Ue){if(re[xr]!==1){throw new SyntaxError(`Unexpected character at index ${Pr}`)}if(Ar===-1)Ar=Pr;else if(!ae)ae=true;Ue=false}else if(Pt){if(re[xr]===1){if(Ar===-1)Ar=Pr}else if(xr===34&&Ar!==-1){Pt=false;kr=Pr}else if(xr===92){Ue=true}else{throw new SyntaxError(`Unexpected character at index ${Pr}`)}}else if(xr===34&&a.charCodeAt(Pr-1)===61){Pt=true}else if(kr===-1&&re[xr]===1){if(Ar===-1)Ar=Pr}else if(Ar!==-1&&(xr===32||xr===9)){if(kr===-1)kr=Pr}else if(xr===59||xr===44){if(Ar===-1){throw new SyntaxError(`Unexpected character at index ${Pr}`)}if(kr===-1)kr=Pr;let re=a.slice(Ar,kr);if(ae){re=re.replace(/\\/g,"");ae=false}push(q,Er,re);if(xr===44){push(C,Wt,q);q=Object.create(null);Wt=undefined}Er=undefined;Ar=kr=-1}else{throw new SyntaxError(`Unexpected character at index ${Pr}`)}}}if(Ar===-1||Pt||xr===32||xr===9){throw new SyntaxError("Unexpected end of input")}if(kr===-1)kr=Pr;const Br=a.slice(Ar,kr);if(Wt===undefined){push(C,Br,q)}else{if(Er===undefined){push(q,Br,true)}else if(ae){push(q,Er,Br.replace(/\\/g,""))}else{push(q,Er,Br)}push(C,Wt,q)}return C}function format(a){return Object.keys(a).map((C=>{let q=a[C];if(!Array.isArray(q))q=[q];return q.map((a=>[C].concat(Object.keys(a).map((C=>{let q=a[C];if(!Array.isArray(q))q=[q];return q.map((a=>a===true?C:`${C}=${a}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")}a.exports={format:format,parse:parse}},1356:a=>{"use strict";const C=Symbol("kDone");const q=Symbol("kRun");class Limiter{constructor(a){this[C]=()=>{this.pending--;this[q]()};this.concurrency=a||Infinity;this.jobs=[];this.pending=0}add(a){this.jobs.push(a);this[q]()}[q](){if(this.pending===this.concurrency)return;if(this.jobs.length){const a=this.jobs.shift();this.pending++;a(this[C])}}}a.exports=Limiter},6684:(a,C,q)=>{"use strict";const re=q(9796);const ae=q(9436);const Ue=q(1356);const{kStatusCode:Pt}=q(5949);const Wt=Buffer.from([0,0,255,255]);const Er=Symbol("permessage-deflate");const Ar=Symbol("total-length");const xr=Symbol("callback");const kr=Symbol("buffers");const Pr=Symbol("error");let Br;class PerMessageDeflate{constructor(a,C,q){this._maxPayload=q|0;this._options=a||{};this._threshold=this._options.threshold!==undefined?this._options.threshold:1024;this._isServer=!!C;this._deflate=null;this._inflate=null;this.params=null;if(!Br){const a=this._options.concurrencyLimit!==undefined?this._options.concurrencyLimit:10;Br=new Ue(a)}}static get extensionName(){return"permessage-deflate"}offer(){const a={};if(this._options.serverNoContextTakeover){a.server_no_context_takeover=true}if(this._options.clientNoContextTakeover){a.client_no_context_takeover=true}if(this._options.serverMaxWindowBits){a.server_max_window_bits=this._options.serverMaxWindowBits}if(this._options.clientMaxWindowBits){a.client_max_window_bits=this._options.clientMaxWindowBits}else if(this._options.clientMaxWindowBits==null){a.client_max_window_bits=true}return a}accept(a){a=this.normalizeParams(a);this.params=this._isServer?this.acceptAsServer(a):this.acceptAsClient(a);return this.params}cleanup(){if(this._inflate){this._inflate.close();this._inflate=null}if(this._deflate){const a=this._deflate[xr];this._deflate.close();this._deflate=null;if(a){a(new Error("The deflate stream was closed while data was being processed"))}}}acceptAsServer(a){const C=this._options;const q=a.find((a=>{if(C.serverNoContextTakeover===false&&a.server_no_context_takeover||a.server_max_window_bits&&(C.serverMaxWindowBits===false||typeof C.serverMaxWindowBits==="number"&&C.serverMaxWindowBits>a.server_max_window_bits)||typeof C.clientMaxWindowBits==="number"&&!a.client_max_window_bits){return false}return true}));if(!q){throw new Error("None of the extension offers can be accepted")}if(C.serverNoContextTakeover){q.server_no_context_takeover=true}if(C.clientNoContextTakeover){q.client_no_context_takeover=true}if(typeof C.serverMaxWindowBits==="number"){q.server_max_window_bits=C.serverMaxWindowBits}if(typeof C.clientMaxWindowBits==="number"){q.client_max_window_bits=C.clientMaxWindowBits}else if(q.client_max_window_bits===true||C.clientMaxWindowBits===false){delete q.client_max_window_bits}return q}acceptAsClient(a){const C=a[0];if(this._options.clientNoContextTakeover===false&&C.client_no_context_takeover){throw new Error('Unexpected parameter "client_no_context_takeover"')}if(!C.client_max_window_bits){if(typeof this._options.clientMaxWindowBits==="number"){C.client_max_window_bits=this._options.clientMaxWindowBits}}else if(this._options.clientMaxWindowBits===false||typeof this._options.clientMaxWindowBits==="number"&&C.client_max_window_bits>this._options.clientMaxWindowBits){throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}return C}normalizeParams(a){a.forEach((a=>{Object.keys(a).forEach((C=>{let q=a[C];if(q.length>1){throw new Error(`Parameter "${C}" must have only a single value`)}q=q[0];if(C==="client_max_window_bits"){if(q!==true){const a=+q;if(!Number.isInteger(a)||a<8||a>15){throw new TypeError(`Invalid value for parameter "${C}": ${q}`)}q=a}else if(!this._isServer){throw new TypeError(`Invalid value for parameter "${C}": ${q}`)}}else if(C==="server_max_window_bits"){const a=+q;if(!Number.isInteger(a)||a<8||a>15){throw new TypeError(`Invalid value for parameter "${C}": ${q}`)}q=a}else if(C==="client_no_context_takeover"||C==="server_no_context_takeover"){if(q!==true){throw new TypeError(`Invalid value for parameter "${C}": ${q}`)}}else{throw new Error(`Unknown parameter "${C}"`)}a[C]=q}))}));return a}decompress(a,C,q){Br.add((re=>{this._decompress(a,C,((a,C)=>{re();q(a,C)}))}))}compress(a,C,q){Br.add((re=>{this._compress(a,C,((a,C)=>{re();q(a,C)}))}))}_decompress(a,C,q){const Ue=this._isServer?"client":"server";if(!this._inflate){const a=`${Ue}_max_window_bits`;const C=typeof this.params[a]!=="number"?re.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=re.createInflateRaw({...this._options.zlibInflateOptions,windowBits:C});this._inflate[Er]=this;this._inflate[Ar]=0;this._inflate[kr]=[];this._inflate.on("error",inflateOnError);this._inflate.on("data",inflateOnData)}this._inflate[xr]=q;this._inflate.write(a);if(C)this._inflate.write(Wt);this._inflate.flush((()=>{const a=this._inflate[Pr];if(a){this._inflate.close();this._inflate=null;q(a);return}const re=ae.concat(this._inflate[kr],this._inflate[Ar]);if(this._inflate._readableState.endEmitted){this._inflate.close();this._inflate=null}else{this._inflate[Ar]=0;this._inflate[kr]=[];if(C&&this.params[`${Ue}_no_context_takeover`]){this._inflate.reset()}}q(null,re)}))}_compress(a,C,q){const Ue=this._isServer?"server":"client";if(!this._deflate){const a=`${Ue}_max_window_bits`;const C=typeof this.params[a]!=="number"?re.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=re.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:C});this._deflate[Ar]=0;this._deflate[kr]=[];this._deflate.on("data",deflateOnData)}this._deflate[xr]=q;this._deflate.write(a);this._deflate.flush(re.Z_SYNC_FLUSH,(()=>{if(!this._deflate){return}let a=ae.concat(this._deflate[kr],this._deflate[Ar]);if(C)a=a.slice(0,a.length-4);this._deflate[xr]=null;this._deflate[Ar]=0;this._deflate[kr]=[];if(C&&this.params[`${Ue}_no_context_takeover`]){this._deflate.reset()}q(null,a)}))}}a.exports=PerMessageDeflate;function deflateOnData(a){this[kr].push(a);this[Ar]+=a.length}function inflateOnData(a){this[Ar]+=a.length;if(this[Er]._maxPayload<1||this[Ar]<=this[Er]._maxPayload){this[kr].push(a);return}this[Pr]=new RangeError("Max payload size exceeded");this[Pr].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH";this[Pr][Pt]=1009;this.removeListener("data",inflateOnData);this.reset()}function inflateOnError(a){this[Er]._inflate=null;a[Pt]=1007;this[xr](a)}},5066:(a,C,q)=>{"use strict";const{Writable:re}=q(2781);const ae=q(6684);const{BINARY_TYPES:Ue,EMPTY_BUFFER:Pt,kStatusCode:Wt,kWebSocket:Er}=q(5949);const{concat:Ar,toArrayBuffer:xr,unmask:kr}=q(9436);const{isValidStatusCode:Pr,isValidUTF8:Br}=q(6279);const Mr=0;const Or=1;const Ir=2;const Nr=3;const jr=4;const Lr=5;class Receiver extends re{constructor(a={}){super();this._binaryType=a.binaryType||Ue[0];this._extensions=a.extensions||{};this._isServer=!!a.isServer;this._maxPayload=a.maxPayload|0;this._skipUTF8Validation=!!a.skipUTF8Validation;this[Er]=undefined;this._bufferedBytes=0;this._buffers=[];this._compressed=false;this._payloadLength=0;this._mask=undefined;this._fragmented=0;this._masked=false;this._fin=false;this._opcode=0;this._totalPayloadLength=0;this._messageLength=0;this._fragments=[];this._state=Mr;this._loop=false}_write(a,C,q){if(this._opcode===8&&this._state==Mr)return q();this._bufferedBytes+=a.length;this._buffers.push(a);this.startLoop(q)}consume(a){this._bufferedBytes-=a;if(a===this._buffers[0].length)return this._buffers.shift();if(a<this._buffers[0].length){const C=this._buffers[0];this._buffers[0]=C.slice(a);return C.slice(0,a)}const C=Buffer.allocUnsafe(a);do{const q=this._buffers[0];const re=C.length-a;if(a>=q.length){C.set(this._buffers.shift(),re)}else{C.set(new Uint8Array(q.buffer,q.byteOffset,a),re);this._buffers[0]=q.slice(a)}a-=q.length}while(a>0);return C}startLoop(a){let C;this._loop=true;do{switch(this._state){case Mr:C=this.getInfo();break;case Or:C=this.getPayloadLength16();break;case Ir:C=this.getPayloadLength64();break;case Nr:this.getMask();break;case jr:C=this.getData(a);break;default:this._loop=false;return}}while(this._loop);a(C)}getInfo(){if(this._bufferedBytes<2){this._loop=false;return}const a=this.consume(2);if((a[0]&48)!==0){this._loop=false;return error(RangeError,"RSV2 and RSV3 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_2_3")}const C=(a[0]&64)===64;if(C&&!this._extensions[ae.extensionName]){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_1")}this._fin=(a[0]&128)===128;this._opcode=a[0]&15;this._payloadLength=a[1]&127;if(this._opcode===0){if(C){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_1")}if(!this._fragmented){this._loop=false;return error(RangeError,"invalid opcode 0",true,1002,"WS_ERR_INVALID_OPCODE")}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){this._loop=false;return error(RangeError,`invalid opcode ${this._opcode}`,true,1002,"WS_ERR_INVALID_OPCODE")}this._compressed=C}else if(this._opcode>7&&this._opcode<11){if(!this._fin){this._loop=false;return error(RangeError,"FIN must be set",true,1002,"WS_ERR_EXPECTED_FIN")}if(C){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002,"WS_ERR_UNEXPECTED_RSV_1")}if(this._payloadLength>125){this._loop=false;return error(RangeError,`invalid payload length ${this._payloadLength}`,true,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}}else{this._loop=false;return error(RangeError,`invalid opcode ${this._opcode}`,true,1002,"WS_ERR_INVALID_OPCODE")}if(!this._fin&&!this._fragmented)this._fragmented=this._opcode;this._masked=(a[1]&128)===128;if(this._isServer){if(!this._masked){this._loop=false;return error(RangeError,"MASK must be set",true,1002,"WS_ERR_EXPECTED_MASK")}}else if(this._masked){this._loop=false;return error(RangeError,"MASK must be clear",true,1002,"WS_ERR_UNEXPECTED_MASK")}if(this._payloadLength===126)this._state=Or;else if(this._payloadLength===127)this._state=Ir;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=false;return}this._payloadLength=this.consume(2).readUInt16BE(0);return this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=false;return}const a=this.consume(8);const C=a.readUInt32BE(0);if(C>Math.pow(2,53-32)-1){this._loop=false;return error(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",false,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")}this._payloadLength=C*Math.pow(2,32)+a.readUInt32BE(4);return this.haveLength()}haveLength(){if(this._payloadLength&&this._opcode<8){this._totalPayloadLength+=this._payloadLength;if(this._totalPayloadLength>this._maxPayload&&this._maxPayload>0){this._loop=false;return error(RangeError,"Max payload size exceeded",false,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")}}if(this._masked)this._state=Nr;else this._state=jr}getMask(){if(this._bufferedBytes<4){this._loop=false;return}this._mask=this.consume(4);this._state=jr}getData(a){let C=Pt;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=false;return}C=this.consume(this._payloadLength);if(this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0){kr(C,this._mask)}}if(this._opcode>7)return this.controlMessage(C);if(this._compressed){this._state=Lr;this.decompress(C,a);return}if(C.length){this._messageLength=this._totalPayloadLength;this._fragments.push(C)}return this.dataMessage()}decompress(a,C){const q=this._extensions[ae.extensionName];q.decompress(a,this._fin,((a,q)=>{if(a)return C(a);if(q.length){this._messageLength+=q.length;if(this._messageLength>this._maxPayload&&this._maxPayload>0){return C(error(RangeError,"Max payload size exceeded",false,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"))}this._fragments.push(q)}const re=this.dataMessage();if(re)return C(re);this.startLoop(C)}))}dataMessage(){if(this._fin){const a=this._messageLength;const C=this._fragments;this._totalPayloadLength=0;this._messageLength=0;this._fragmented=0;this._fragments=[];if(this._opcode===2){let q;if(this._binaryType==="nodebuffer"){q=Ar(C,a)}else if(this._binaryType==="arraybuffer"){q=xr(Ar(C,a))}else{q=C}this.emit("message",q,true)}else{const q=Ar(C,a);if(!this._skipUTF8Validation&&!Br(q)){this._loop=false;return error(Error,"invalid UTF-8 sequence",true,1007,"WS_ERR_INVALID_UTF8")}this.emit("message",q,false)}}this._state=Mr}controlMessage(a){if(this._opcode===8){this._loop=false;if(a.length===0){this.emit("conclude",1005,Pt);this.end()}else if(a.length===1){return error(RangeError,"invalid payload length 1",true,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else{const C=a.readUInt16BE(0);if(!Pr(C)){return error(RangeError,`invalid status code ${C}`,true,1002,"WS_ERR_INVALID_CLOSE_CODE")}const q=a.slice(2);if(!this._skipUTF8Validation&&!Br(q)){return error(Error,"invalid UTF-8 sequence",true,1007,"WS_ERR_INVALID_UTF8")}this.emit("conclude",C,q);this.end()}}else if(this._opcode===9){this.emit("ping",a)}else{this.emit("pong",a)}this._state=Mr}}a.exports=Receiver;function error(a,C,q,re,ae){const Ue=new a(q?`Invalid WebSocket frame: ${C}`:C);Error.captureStackTrace(Ue,error);Ue.code=ae;Ue[Wt]=re;return Ue}},6947:(a,C,q)=>{"use strict";const re=q(1808);const ae=q(4404);const{randomFillSync:Ue}=q(6113);const Pt=q(6684);const{EMPTY_BUFFER:Wt}=q(5949);const{isValidStatusCode:Er}=q(6279);const{mask:Ar,toBuffer:xr}=q(9436);const kr=Symbol("kByteLength");const Pr=Buffer.alloc(4);class Sender{constructor(a,C,q){this._extensions=C||{};if(q){this._generateMask=q;this._maskBuffer=Buffer.alloc(4)}this._socket=a;this._firstFragment=true;this._compress=false;this._bufferedBytes=0;this._deflating=false;this._queue=[]}static frame(a,C){let q;let re=false;let ae=2;let Pt=false;if(C.mask){q=C.maskBuffer||Pr;if(C.generateMask){C.generateMask(q)}else{Ue(q,0,4)}Pt=(q[0]|q[1]|q[2]|q[3])===0;ae=6}let Wt;if(typeof a==="string"){if((!C.mask||Pt)&&C[kr]!==undefined){Wt=C[kr]}else{a=Buffer.from(a);Wt=a.length}}else{Wt=a.length;re=C.mask&&C.readOnly&&!Pt}let Er=Wt;if(Wt>=65536){ae+=8;Er=127}else if(Wt>125){ae+=2;Er=126}const xr=Buffer.allocUnsafe(re?Wt+ae:ae);xr[0]=C.fin?C.opcode|128:C.opcode;if(C.rsv1)xr[0]|=64;xr[1]=Er;if(Er===126){xr.writeUInt16BE(Wt,2)}else if(Er===127){xr[2]=xr[3]=0;xr.writeUIntBE(Wt,4,6)}if(!C.mask)return[xr,a];xr[1]|=128;xr[ae-4]=q[0];xr[ae-3]=q[1];xr[ae-2]=q[2];xr[ae-1]=q[3];if(Pt)return[xr,a];if(re){Ar(a,q,xr,ae,Wt);return[xr]}Ar(a,q,a,0,Wt);return[xr,a]}close(a,C,q,re){let ae;if(a===undefined){ae=Wt}else if(typeof a!=="number"||!Er(a)){throw new TypeError("First argument must be a valid error code number")}else if(C===undefined||!C.length){ae=Buffer.allocUnsafe(2);ae.writeUInt16BE(a,0)}else{const q=Buffer.byteLength(C);if(q>123){throw new RangeError("The message must not be greater than 123 bytes")}ae=Buffer.allocUnsafe(2+q);ae.writeUInt16BE(a,0);if(typeof C==="string"){ae.write(C,2)}else{ae.set(C,2)}}const Ue={[kr]:ae.length,fin:true,generateMask:this._generateMask,mask:q,maskBuffer:this._maskBuffer,opcode:8,readOnly:false,rsv1:false};if(this._deflating){this.enqueue([this.dispatch,ae,false,Ue,re])}else{this.sendFrame(Sender.frame(ae,Ue),re)}}ping(a,C,q){let re;let ae;if(typeof a==="string"){re=Buffer.byteLength(a);ae=false}else{a=xr(a);re=a.length;ae=xr.readOnly}if(re>125){throw new RangeError("The data size must not be greater than 125 bytes")}const Ue={[kr]:re,fin:true,generateMask:this._generateMask,mask:C,maskBuffer:this._maskBuffer,opcode:9,readOnly:ae,rsv1:false};if(this._deflating){this.enqueue([this.dispatch,a,false,Ue,q])}else{this.sendFrame(Sender.frame(a,Ue),q)}}pong(a,C,q){let re;let ae;if(typeof a==="string"){re=Buffer.byteLength(a);ae=false}else{a=xr(a);re=a.length;ae=xr.readOnly}if(re>125){throw new RangeError("The data size must not be greater than 125 bytes")}const Ue={[kr]:re,fin:true,generateMask:this._generateMask,mask:C,maskBuffer:this._maskBuffer,opcode:10,readOnly:ae,rsv1:false};if(this._deflating){this.enqueue([this.dispatch,a,false,Ue,q])}else{this.sendFrame(Sender.frame(a,Ue),q)}}send(a,C,q){const re=this._extensions[Pt.extensionName];let ae=C.binary?2:1;let Ue=C.compress;let Wt;let Er;if(typeof a==="string"){Wt=Buffer.byteLength(a);Er=false}else{a=xr(a);Wt=a.length;Er=xr.readOnly}if(this._firstFragment){this._firstFragment=false;if(Ue&&re&&re.params[re._isServer?"server_no_context_takeover":"client_no_context_takeover"]){Ue=Wt>=re._threshold}this._compress=Ue}else{Ue=false;ae=0}if(C.fin)this._firstFragment=true;if(re){const re={[kr]:Wt,fin:C.fin,generateMask:this._generateMask,mask:C.mask,maskBuffer:this._maskBuffer,opcode:ae,readOnly:Er,rsv1:Ue};if(this._deflating){this.enqueue([this.dispatch,a,this._compress,re,q])}else{this.dispatch(a,this._compress,re,q)}}else{this.sendFrame(Sender.frame(a,{[kr]:Wt,fin:C.fin,generateMask:this._generateMask,mask:C.mask,maskBuffer:this._maskBuffer,opcode:ae,readOnly:Er,rsv1:false}),q)}}dispatch(a,C,q,re){if(!C){this.sendFrame(Sender.frame(a,q),re);return}const ae=this._extensions[Pt.extensionName];this._bufferedBytes+=q[kr];this._deflating=true;ae.compress(a,q.fin,((a,C)=>{if(this._socket.destroyed){const a=new Error("The socket was closed while data was being compressed");if(typeof re==="function")re(a);for(let C=0;C<this._queue.length;C++){const q=this._queue[C];const re=q[q.length-1];if(typeof re==="function")re(a)}return}this._bufferedBytes-=q[kr];this._deflating=false;q.readOnly=false;this.sendFrame(Sender.frame(C,q),re);this.dequeue()}))}dequeue(){while(!this._deflating&&this._queue.length){const a=this._queue.shift();this._bufferedBytes-=a[3][kr];Reflect.apply(a[0],this,a.slice(1))}}enqueue(a){this._bufferedBytes+=a[3][kr];this._queue.push(a)}sendFrame(a,C){if(a.length===2){this._socket.cork();this._socket.write(a[0]);this._socket.write(a[1],C);this._socket.uncork()}else{this._socket.write(a[0],C)}}}a.exports=Sender},1658:(a,C,q)=>{"use strict";const{Duplex:re}=q(2781);function emitClose(a){a.emit("close")}function duplexOnEnd(){if(!this.destroyed&&this._writableState.finished){this.destroy()}}function duplexOnError(a){this.removeListener("error",duplexOnError);this.destroy();if(this.listenerCount("error")===0){this.emit("error",a)}}function createWebSocketStream(a,C){let q=true;const ae=new re({...C,autoDestroy:false,emitClose:false,objectMode:false,writableObjectMode:false});a.on("message",(function message(C,q){const re=!q&&ae._readableState.objectMode?C.toString():C;if(!ae.push(re))a.pause()}));a.once("error",(function error(a){if(ae.destroyed)return;q=false;ae.destroy(a)}));a.once("close",(function close(){if(ae.destroyed)return;ae.push(null)}));ae._destroy=function(C,re){if(a.readyState===a.CLOSED){re(C);process.nextTick(emitClose,ae);return}let Ue=false;a.once("error",(function error(a){Ue=true;re(a)}));a.once("close",(function close(){if(!Ue)re(C);process.nextTick(emitClose,ae)}));if(q)a.terminate()};ae._final=function(C){if(a.readyState===a.CONNECTING){a.once("open",(function open(){ae._final(C)}));return}if(a._socket===null)return;if(a._socket._writableState.finished){C();if(ae._readableState.endEmitted)ae.destroy()}else{a._socket.once("finish",(function finish(){C()}));a.close()}};ae._read=function(){if(a.isPaused)a.resume()};ae._write=function(C,q,re){if(a.readyState===a.CONNECTING){a.once("open",(function open(){ae._write(C,q,re)}));return}a.send(C,re)};ae.on("end",duplexOnEnd);ae.on("error",duplexOnError);return ae}a.exports=createWebSocketStream},6668:(a,C,q)=>{"use strict";const{tokenChars:re}=q(6279);function parse(a){const C=new Set;let q=-1;let ae=-1;let Ue=0;for(Ue;Ue<a.length;Ue++){const Pt=a.charCodeAt(Ue);if(ae===-1&&re[Pt]===1){if(q===-1)q=Ue}else if(Ue!==0&&(Pt===32||Pt===9)){if(ae===-1&&q!==-1)ae=Ue}else if(Pt===44){if(q===-1){throw new SyntaxError(`Unexpected character at index ${Ue}`)}if(ae===-1)ae=Ue;const re=a.slice(q,ae);if(C.has(re)){throw new SyntaxError(`The "${re}" subprotocol is duplicated`)}C.add(re);q=ae=-1}else{throw new SyntaxError(`Unexpected character at index ${Ue}`)}}if(q===-1||ae!==-1){throw new SyntaxError("Unexpected end of input")}const Pt=a.slice(q,Ue);if(C.has(Pt)){throw new SyntaxError(`The "${Pt}" subprotocol is duplicated`)}C.add(Pt);return C}a.exports={parse:parse}},6279:(a,C,q)=>{"use strict";const re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function isValidStatusCode(a){return a>=1e3&&a<=1014&&a!==1004&&a!==1005&&a!==1006||a>=3e3&&a<=4999}function _isValidUTF8(a){const C=a.length;let q=0;while(q<C){if((a[q]&128)===0){q++}else if((a[q]&224)===192){if(q+1===C||(a[q+1]&192)!==128||(a[q]&254)===192){return false}q+=2}else if((a[q]&240)===224){if(q+2>=C||(a[q+1]&192)!==128||(a[q+2]&192)!==128||a[q]===224&&(a[q+1]&224)===128||a[q]===237&&(a[q+1]&224)===160){return false}q+=3}else if((a[q]&248)===240){if(q+3>=C||(a[q+1]&192)!==128||(a[q+2]&192)!==128||(a[q+3]&192)!==128||a[q]===240&&(a[q+1]&240)===128||a[q]===244&&a[q+1]>143||a[q]>244){return false}q+=4}else{return false}}return true}try{const C=q(5161);a.exports={isValidStatusCode:isValidStatusCode,isValidUTF8(a){return a.length<150?_isValidUTF8(a):C(a)},tokenChars:re}}catch(C){a.exports={isValidStatusCode:isValidStatusCode,isValidUTF8:_isValidUTF8,tokenChars:re}}},8887:(a,C,q)=>{"use strict";const re=q(2361);const ae=q(3685);const Ue=q(5687);const Pt=q(1808);const Wt=q(4404);const{createHash:Er}=q(6113);const Ar=q(2035);const xr=q(6684);const kr=q(6668);const Pr=q(1518);const{GUID:Br,kWebSocket:Mr}=q(5949);const Or=/^[+/0-9A-Za-z]{22}==$/;const Ir=0;const Nr=1;const jr=2;class WebSocketServer extends re{constructor(a,C){super();a={maxPayload:100*1024*1024,skipUTF8Validation:false,perMessageDeflate:false,handleProtocols:null,clientTracking:true,verifyClient:null,noServer:false,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Pr,...a};if(a.port==null&&!a.server&&!a.noServer||a.port!=null&&(a.server||a.noServer)||a.server&&a.noServer){throw new TypeError('One and only one of the "port", "server", or "noServer" options '+"must be specified")}if(a.port!=null){this._server=ae.createServer(((a,C)=>{const q=ae.STATUS_CODES[426];C.writeHead(426,{"Content-Length":q.length,"Content-Type":"text/plain"});C.end(q)}));this._server.listen(a.port,a.host,a.backlog,C)}else if(a.server){this._server=a.server}if(this._server){const a=this.emit.bind(this,"connection");this._removeListeners=addListeners(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(C,q,re)=>{this.handleUpgrade(C,q,re,a)}})}if(a.perMessageDeflate===true)a.perMessageDeflate={};if(a.clientTracking){this.clients=new Set;this._shouldEmitClose=false}this.options=a;this._state=Ir}address(){if(this.options.noServer){throw new Error('The server is operating in "noServer" mode')}if(!this._server)return null;return this._server.address()}close(a){if(this._state===jr){if(a){this.once("close",(()=>{a(new Error("The server is not running"))}))}process.nextTick(emitClose,this);return}if(a)this.once("close",a);if(this._state===Nr)return;this._state=Nr;if(this.options.noServer||this.options.server){if(this._server){this._removeListeners();this._removeListeners=this._server=null}if(this.clients){if(!this.clients.size){process.nextTick(emitClose,this)}else{this._shouldEmitClose=true}}else{process.nextTick(emitClose,this)}}else{const a=this._server;this._removeListeners();this._removeListeners=this._server=null;a.close((()=>{emitClose(this)}))}}shouldHandle(a){if(this.options.path){const C=a.url.indexOf("?");const q=C!==-1?a.url.slice(0,C):a.url;if(q!==this.options.path)return false}return true}handleUpgrade(a,C,q,re){C.on("error",socketOnError);const ae=a.headers["sec-websocket-key"];const Ue=+a.headers["sec-websocket-version"];if(a.method!=="GET"){const q="Invalid HTTP method";abortHandshakeOrEmitwsClientError(this,a,C,405,q);return}if(a.headers.upgrade.toLowerCase()!=="websocket"){const q="Invalid Upgrade header";abortHandshakeOrEmitwsClientError(this,a,C,400,q);return}if(!ae||!Or.test(ae)){const q="Missing or invalid Sec-WebSocket-Key header";abortHandshakeOrEmitwsClientError(this,a,C,400,q);return}if(Ue!==8&&Ue!==13){const q="Missing or invalid Sec-WebSocket-Version header";abortHandshakeOrEmitwsClientError(this,a,C,400,q);return}if(!this.shouldHandle(a)){abortHandshake(C,400);return}const Pt=a.headers["sec-websocket-protocol"];let Wt=new Set;if(Pt!==undefined){try{Wt=kr.parse(Pt)}catch(q){const re="Invalid Sec-WebSocket-Protocol header";abortHandshakeOrEmitwsClientError(this,a,C,400,re);return}}const Er=a.headers["sec-websocket-extensions"];const Pr={};if(this.options.perMessageDeflate&&Er!==undefined){const q=new xr(this.options.perMessageDeflate,true,this.options.maxPayload);try{const a=Ar.parse(Er);if(a[xr.extensionName]){q.accept(a[xr.extensionName]);Pr[xr.extensionName]=q}}catch(q){const re="Invalid or unacceptable Sec-WebSocket-Extensions header";abortHandshakeOrEmitwsClientError(this,a,C,400,re);return}}if(this.options.verifyClient){const Pt={origin:a.headers[`${Ue===8?"sec-websocket-origin":"origin"}`],secure:!!(a.socket.authorized||a.socket.encrypted),req:a};if(this.options.verifyClient.length===2){this.options.verifyClient(Pt,((Ue,Pt,Er,Ar)=>{if(!Ue){return abortHandshake(C,Pt||401,Er,Ar)}this.completeUpgrade(Pr,ae,Wt,a,C,q,re)}));return}if(!this.options.verifyClient(Pt))return abortHandshake(C,401)}this.completeUpgrade(Pr,ae,Wt,a,C,q,re)}completeUpgrade(a,C,q,re,ae,Ue,Pt){if(!ae.readable||!ae.writable)return ae.destroy();if(ae[Mr]){throw new Error("server.handleUpgrade() was called more than once with the same "+"socket, possibly due to a misconfiguration")}if(this._state>Ir)return abortHandshake(ae,503);const Wt=Er("sha1").update(C+Br).digest("base64");const kr=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Wt}`];const Pr=new this.options.WebSocket(null);if(q.size){const a=this.options.handleProtocols?this.options.handleProtocols(q,re):q.values().next().value;if(a){kr.push(`Sec-WebSocket-Protocol: ${a}`);Pr._protocol=a}}if(a[xr.extensionName]){const C=a[xr.extensionName].params;const q=Ar.format({[xr.extensionName]:[C]});kr.push(`Sec-WebSocket-Extensions: ${q}`);Pr._extensions=a}this.emit("headers",kr,re);ae.write(kr.concat("\r\n").join("\r\n"));ae.removeListener("error",socketOnError);Pr.setSocket(ae,Ue,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation});if(this.clients){this.clients.add(Pr);Pr.on("close",(()=>{this.clients.delete(Pr);if(this._shouldEmitClose&&!this.clients.size){process.nextTick(emitClose,this)}}))}Pt(Pr,re)}}a.exports=WebSocketServer;function addListeners(a,C){for(const q of Object.keys(C))a.on(q,C[q]);return function removeListeners(){for(const q of Object.keys(C)){a.removeListener(q,C[q])}}}function emitClose(a){a._state=jr;a.emit("close")}function socketOnError(){this.destroy()}function abortHandshake(a,C,q,re){q=q||ae.STATUS_CODES[C];re={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(q),...re};a.once("finish",a.destroy);a.end(`HTTP/1.1 ${C} ${ae.STATUS_CODES[C]}\r\n`+Object.keys(re).map((a=>`${a}: ${re[a]}`)).join("\r\n")+"\r\n\r\n"+q)}function abortHandshakeOrEmitwsClientError(a,C,q,re,ae){if(a.listenerCount("wsClientError")){const re=new Error(ae);Error.captureStackTrace(re,abortHandshakeOrEmitwsClientError);a.emit("wsClientError",re,q,C)}else{abortHandshake(q,re,ae)}}},1518:(a,C,q)=>{"use strict";const re=q(2361);const ae=q(5687);const Ue=q(3685);const Pt=q(1808);const Wt=q(4404);const{randomBytes:Er,createHash:Ar}=q(6113);const{Readable:xr}=q(2781);const{URL:kr}=q(7310);const Pr=q(6684);const Br=q(5066);const Mr=q(6947);const{BINARY_TYPES:Or,EMPTY_BUFFER:Ir,GUID:Nr,kForOnEventAttribute:jr,kListener:Lr,kStatusCode:Dr,kWebSocket:Hr,NOOP:Fr}=q(5949);const{EventTarget:{addEventListener:Ur,removeEventListener:$r}}=q(4561);const{format:zr,parse:Wr}=q(2035);const{toBuffer:Kr}=q(9436);const Vr=30*1e3;const Gr=Symbol("kAborted");const Jr=[8,13];const Xr=["CONNECTING","OPEN","CLOSING","CLOSED"];const Yr=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class WebSocket extends re{constructor(a,C,q){super();this._binaryType=Or[0];this._closeCode=1006;this._closeFrameReceived=false;this._closeFrameSent=false;this._closeMessage=Ir;this._closeTimer=null;this._extensions={};this._paused=false;this._protocol="";this._readyState=WebSocket.CONNECTING;this._receiver=null;this._sender=null;this._socket=null;if(a!==null){this._bufferedAmount=0;this._isServer=false;this._redirects=0;if(C===undefined){C=[]}else if(!Array.isArray(C)){if(typeof C==="object"&&C!==null){q=C;C=[]}else{C=[C]}}initAsClient(this,a,C,q)}else{this._isServer=true}}get binaryType(){return this._binaryType}set binaryType(a){if(!Or.includes(a))return;this._binaryType=a;if(this._receiver)this._receiver._binaryType=a}get bufferedAmount(){if(!this._socket)return this._bufferedAmount;return this._socket._writableState.length+this._sender._bufferedBytes}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(a,C,q){const re=new Br({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:q.maxPayload,skipUTF8Validation:q.skipUTF8Validation});this._sender=new Mr(a,this._extensions,q.generateMask);this._receiver=re;this._socket=a;re[Hr]=this;a[Hr]=this;re.on("conclude",receiverOnConclude);re.on("drain",receiverOnDrain);re.on("error",receiverOnError);re.on("message",receiverOnMessage);re.on("ping",receiverOnPing);re.on("pong",receiverOnPong);a.setTimeout(0);a.setNoDelay();if(C.length>0)a.unshift(C);a.on("close",socketOnClose);a.on("data",socketOnData);a.on("end",socketOnEnd);a.on("error",socketOnError);this._readyState=WebSocket.OPEN;this.emit("open")}emitClose(){if(!this._socket){this._readyState=WebSocket.CLOSED;this.emit("close",this._closeCode,this._closeMessage);return}if(this._extensions[Pr.extensionName]){this._extensions[Pr.extensionName].cleanup()}this._receiver.removeAllListeners();this._readyState=WebSocket.CLOSED;this.emit("close",this._closeCode,this._closeMessage)}close(a,C){if(this.readyState===WebSocket.CLOSED)return;if(this.readyState===WebSocket.CONNECTING){const a="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,a)}if(this.readyState===WebSocket.CLOSING){if(this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)){this._socket.end()}return}this._readyState=WebSocket.CLOSING;this._sender.close(a,C,!this._isServer,(a=>{if(a)return;this._closeFrameSent=true;if(this._closeFrameReceived||this._receiver._writableState.errorEmitted){this._socket.end()}}));this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),Vr)}pause(){if(this.readyState===WebSocket.CONNECTING||this.readyState===WebSocket.CLOSED){return}this._paused=true;this._socket.pause()}ping(a,C,q){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof a==="function"){q=a;a=C=undefined}else if(typeof C==="function"){q=C;C=undefined}if(typeof a==="number")a=a.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,a,q);return}if(C===undefined)C=!this._isServer;this._sender.ping(a||Ir,C,q)}pong(a,C,q){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof a==="function"){q=a;a=C=undefined}else if(typeof C==="function"){q=C;C=undefined}if(typeof a==="number")a=a.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,a,q);return}if(C===undefined)C=!this._isServer;this._sender.pong(a||Ir,C,q)}resume(){if(this.readyState===WebSocket.CONNECTING||this.readyState===WebSocket.CLOSED){return}this._paused=false;if(!this._receiver._writableState.needDrain)this._socket.resume()}send(a,C,q){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof C==="function"){q=C;C={}}if(typeof a==="number")a=a.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,a,q);return}const re={binary:typeof a!=="string",mask:!this._isServer,compress:true,fin:true,...C};if(!this._extensions[Pr.extensionName]){re.compress=false}this._sender.send(a||Ir,re,q)}terminate(){if(this.readyState===WebSocket.CLOSED)return;if(this.readyState===WebSocket.CONNECTING){const a="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,a)}if(this._socket){this._readyState=WebSocket.CLOSING;this._socket.destroy()}}}Object.defineProperty(WebSocket,"CONNECTING",{enumerable:true,value:Xr.indexOf("CONNECTING")});Object.defineProperty(WebSocket.prototype,"CONNECTING",{enumerable:true,value:Xr.indexOf("CONNECTING")});Object.defineProperty(WebSocket,"OPEN",{enumerable:true,value:Xr.indexOf("OPEN")});Object.defineProperty(WebSocket.prototype,"OPEN",{enumerable:true,value:Xr.indexOf("OPEN")});Object.defineProperty(WebSocket,"CLOSING",{enumerable:true,value:Xr.indexOf("CLOSING")});Object.defineProperty(WebSocket.prototype,"CLOSING",{enumerable:true,value:Xr.indexOf("CLOSING")});Object.defineProperty(WebSocket,"CLOSED",{enumerable:true,value:Xr.indexOf("CLOSED")});Object.defineProperty(WebSocket.prototype,"CLOSED",{enumerable:true,value:Xr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((a=>{Object.defineProperty(WebSocket.prototype,a,{enumerable:true})}));["open","error","close","message"].forEach((a=>{Object.defineProperty(WebSocket.prototype,`on${a}`,{enumerable:true,get(){for(const C of this.listeners(a)){if(C[jr])return C[Lr]}return null},set(C){for(const C of this.listeners(a)){if(C[jr]){this.removeListener(a,C);break}}if(typeof C!=="function")return;this.addEventListener(a,C,{[jr]:true})}})}));WebSocket.prototype.addEventListener=Ur;WebSocket.prototype.removeEventListener=$r;a.exports=WebSocket;function initAsClient(a,C,q,re){const Pt={protocolVersion:Jr[1],maxPayload:100*1024*1024,skipUTF8Validation:false,perMessageDeflate:true,followRedirects:false,maxRedirects:10,...re,createConnection:undefined,socketPath:undefined,hostname:undefined,protocol:undefined,timeout:undefined,method:"GET",host:undefined,path:undefined,port:undefined};if(!Jr.includes(Pt.protocolVersion)){throw new RangeError(`Unsupported protocol version: ${Pt.protocolVersion} `+`(supported versions: ${Jr.join(", ")})`)}let Wt;if(C instanceof kr){Wt=C;a._url=C.href}else{try{Wt=new kr(C)}catch(a){throw new SyntaxError(`Invalid URL: ${C}`)}a._url=C}const xr=Wt.protocol==="wss:";const Br=Wt.protocol==="ws+unix:";let Mr;if(Wt.protocol!=="ws:"&&!xr&&!Br){Mr='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"'}else if(Br&&!Wt.pathname){Mr="The URL's pathname is empty"}else if(Wt.hash){Mr="The URL contains a fragment identifier"}if(Mr){const C=new SyntaxError(Mr);if(a._redirects===0){throw C}else{emitErrorAndClose(a,C);return}}const Or=xr?443:80;const Ir=Er(16).toString("base64");const jr=xr?ae.request:Ue.request;const Lr=new Set;let Dr;Pt.createConnection=xr?tlsConnect:netConnect;Pt.defaultPort=Pt.defaultPort||Or;Pt.port=Wt.port||Or;Pt.host=Wt.hostname.startsWith("[")?Wt.hostname.slice(1,-1):Wt.hostname;Pt.headers={"Sec-WebSocket-Version":Pt.protocolVersion,"Sec-WebSocket-Key":Ir,Connection:"Upgrade",Upgrade:"websocket",...Pt.headers};Pt.path=Wt.pathname+Wt.search;Pt.timeout=Pt.handshakeTimeout;if(Pt.perMessageDeflate){Dr=new Pr(Pt.perMessageDeflate!==true?Pt.perMessageDeflate:{},false,Pt.maxPayload);Pt.headers["Sec-WebSocket-Extensions"]=zr({[Pr.extensionName]:Dr.offer()})}if(q.length){for(const a of q){if(typeof a!=="string"||!Yr.test(a)||Lr.has(a)){throw new SyntaxError("An invalid or duplicated subprotocol was specified")}Lr.add(a)}Pt.headers["Sec-WebSocket-Protocol"]=q.join(",")}if(Pt.origin){if(Pt.protocolVersion<13){Pt.headers["Sec-WebSocket-Origin"]=Pt.origin}else{Pt.headers.Origin=Pt.origin}}if(Wt.username||Wt.password){Pt.auth=`${Wt.username}:${Wt.password}`}if(Br){const a=Pt.path.split(":");Pt.socketPath=a[0];Pt.path=a[1]}let Hr;if(Pt.followRedirects){if(a._redirects===0){a._originalSecure=xr;a._originalHost=Wt.host;const C=re&&re.headers;re={...re,headers:{}};if(C){for(const[a,q]of Object.entries(C)){re.headers[a.toLowerCase()]=q}}}else if(a.listenerCount("redirect")===0){const C=Wt.host===a._originalHost;if(!C||a._originalSecure&&!xr){delete Pt.headers.authorization;delete Pt.headers.cookie;if(!C)delete Pt.headers.host;Pt.auth=undefined}}if(Pt.auth&&!re.headers.authorization){re.headers.authorization="Basic "+Buffer.from(Pt.auth).toString("base64")}Hr=a._req=jr(Pt);if(a._redirects){a.emit("redirect",a.url,Hr)}}else{Hr=a._req=jr(Pt)}if(Pt.timeout){Hr.on("timeout",(()=>{abortHandshake(a,Hr,"Opening handshake has timed out")}))}Hr.on("error",(C=>{if(Hr===null||Hr[Gr])return;Hr=a._req=null;emitErrorAndClose(a,C)}));Hr.on("response",(ae=>{const Ue=ae.headers.location;const Wt=ae.statusCode;if(Ue&&Pt.followRedirects&&Wt>=300&&Wt<400){if(++a._redirects>Pt.maxRedirects){abortHandshake(a,Hr,"Maximum redirects exceeded");return}Hr.abort();let ae;try{ae=new kr(Ue,C)}catch(C){const q=new SyntaxError(`Invalid URL: ${Ue}`);emitErrorAndClose(a,q);return}initAsClient(a,ae,q,re)}else if(!a.emit("unexpected-response",Hr,ae)){abortHandshake(a,Hr,`Unexpected server response: ${ae.statusCode}`)}}));Hr.on("upgrade",((C,q,re)=>{a.emit("upgrade",C);if(a.readyState!==WebSocket.CONNECTING)return;Hr=a._req=null;if(C.headers.upgrade.toLowerCase()!=="websocket"){abortHandshake(a,q,"Invalid Upgrade header");return}const ae=Ar("sha1").update(Ir+Nr).digest("base64");if(C.headers["sec-websocket-accept"]!==ae){abortHandshake(a,q,"Invalid Sec-WebSocket-Accept header");return}const Ue=C.headers["sec-websocket-protocol"];let Wt;if(Ue!==undefined){if(!Lr.size){Wt="Server sent a subprotocol but none was requested"}else if(!Lr.has(Ue)){Wt="Server sent an invalid subprotocol"}}else if(Lr.size){Wt="Server sent no subprotocol"}if(Wt){abortHandshake(a,q,Wt);return}if(Ue)a._protocol=Ue;const Er=C.headers["sec-websocket-extensions"];if(Er!==undefined){if(!Dr){const C="Server sent a Sec-WebSocket-Extensions header but no extension "+"was requested";abortHandshake(a,q,C);return}let C;try{C=Wr(Er)}catch(C){const re="Invalid Sec-WebSocket-Extensions header";abortHandshake(a,q,re);return}const re=Object.keys(C);if(re.length!==1||re[0]!==Pr.extensionName){const C="Server indicated an extension that was not requested";abortHandshake(a,q,C);return}try{Dr.accept(C[Pr.extensionName])}catch(C){const re="Invalid Sec-WebSocket-Extensions header";abortHandshake(a,q,re);return}a._extensions[Pr.extensionName]=Dr}a.setSocket(q,re,{generateMask:Pt.generateMask,maxPayload:Pt.maxPayload,skipUTF8Validation:Pt.skipUTF8Validation})}));Hr.end()}function emitErrorAndClose(a,C){a._readyState=WebSocket.CLOSING;a.emit("error",C);a.emitClose()}function netConnect(a){a.path=a.socketPath;return Pt.connect(a)}function tlsConnect(a){a.path=undefined;if(!a.servername&&a.servername!==""){a.servername=Pt.isIP(a.host)?"":a.host}return Wt.connect(a)}function abortHandshake(a,C,q){a._readyState=WebSocket.CLOSING;const re=new Error(q);Error.captureStackTrace(re,abortHandshake);if(C.setHeader){C[Gr]=true;C.abort();if(C.socket&&!C.socket.destroyed){C.socket.destroy()}process.nextTick(emitErrorAndClose,a,re)}else{C.destroy(re);C.once("error",a.emit.bind(a,"error"));C.once("close",a.emitClose.bind(a))}}function sendAfterClose(a,C,q){if(C){const q=Kr(C).length;if(a._socket)a._sender._bufferedBytes+=q;else a._bufferedAmount+=q}if(q){const C=new Error(`WebSocket is not open: readyState ${a.readyState} `+`(${Xr[a.readyState]})`);q(C)}}function receiverOnConclude(a,C){const q=this[Hr];q._closeFrameReceived=true;q._closeMessage=C;q._closeCode=a;if(q._socket[Hr]===undefined)return;q._socket.removeListener("data",socketOnData);process.nextTick(resume,q._socket);if(a===1005)q.close();else q.close(a,C)}function receiverOnDrain(){const a=this[Hr];if(!a.isPaused)a._socket.resume()}function receiverOnError(a){const C=this[Hr];if(C._socket[Hr]!==undefined){C._socket.removeListener("data",socketOnData);process.nextTick(resume,C._socket);C.close(a[Dr])}C.emit("error",a)}function receiverOnFinish(){this[Hr].emitClose()}function receiverOnMessage(a,C){this[Hr].emit("message",a,C)}function receiverOnPing(a){const C=this[Hr];C.pong(a,!C._isServer,Fr);C.emit("ping",a)}function receiverOnPong(a){this[Hr].emit("pong",a)}function resume(a){a.resume()}function socketOnClose(){const a=this[Hr];this.removeListener("close",socketOnClose);this.removeListener("data",socketOnData);this.removeListener("end",socketOnEnd);a._readyState=WebSocket.CLOSING;let C;if(!this._readableState.endEmitted&&!a._closeFrameReceived&&!a._receiver._writableState.errorEmitted&&(C=a._socket.read())!==null){a._receiver.write(C)}a._receiver.end();this[Hr]=undefined;clearTimeout(a._closeTimer);if(a._receiver._writableState.finished||a._receiver._writableState.errorEmitted){a.emitClose()}else{a._receiver.on("error",receiverOnFinish);a._receiver.on("finish",receiverOnFinish)}}function socketOnData(a){if(!this[Hr]._receiver.write(a)){this.pause()}}function socketOnEnd(){const a=this[Hr];a._readyState=WebSocket.CLOSING;a._receiver.end();this.end()}function socketOnError(){const a=this[Hr];this.removeListener("error",socketOnError);this.on("error",Fr);if(a){a._readyState=WebSocket.CLOSING;this.destroy()}}},9491:a=>{"use strict";a.exports=require("assert")},4300:a=>{"use strict";a.exports=require("buffer")},6113:a=>{"use strict";a.exports=require("crypto")},2361:a=>{"use strict";a.exports=require("events")},7147:a=>{"use strict";a.exports=require("fs")},3685:a=>{"use strict";a.exports=require("http")},5687:a=>{"use strict";a.exports=require("https")},1808:a=>{"use strict";a.exports=require("net")},2037:a=>{"use strict";a.exports=require("os")},1017:a=>{"use strict";a.exports=require("path")},2781:a=>{"use strict";a.exports=require("stream")},4404:a=>{"use strict";a.exports=require("tls")},7310:a=>{"use strict";a.exports=require("url")},3837:a=>{"use strict";a.exports=require("util")},9796:a=>{"use strict";a.exports=require("zlib")},6126:(a,C,q)=>{"use strict";C=a.exports=fetch;const re=q(3685);const ae=q(5687);const Ue=q(9796);const Pt=q(2781);const Wt=q(2371);const Er=q(3837);const Ar=q(6792);const xr=q(6113);const kr=q(7310);class FetchBaseError extends Error{constructor(a,C){super(a);Error.captureStackTrace(this,this.constructor);this.type=C}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class FetchError extends FetchBaseError{constructor(a,C,q){super(a,C);if(q){this.code=this.errno=q.code;this.erroredSysCall=q.syscall}}}const Pr=Symbol.toStringTag;const isURLSearchParameters=a=>typeof a==="object"&&typeof a.append==="function"&&typeof a.delete==="function"&&typeof a.get==="function"&&typeof a.getAll==="function"&&typeof a.has==="function"&&typeof a.set==="function"&&typeof a.sort==="function"&&a[Pr]==="URLSearchParams";const isBlob=a=>typeof a==="object"&&typeof a.arrayBuffer==="function"&&typeof a.type==="string"&&typeof a.stream==="function"&&typeof a.constructor==="function"&&/^(Blob|File)$/.test(a[Pr]);function isFormData(a){return typeof a==="object"&&typeof a.append==="function"&&typeof a.set==="function"&&typeof a.get==="function"&&typeof a.getAll==="function"&&typeof a.delete==="function"&&typeof a.keys==="function"&&typeof a.values==="function"&&typeof a.entries==="function"&&typeof a.constructor==="function"&&a[Pr]==="FormData"}const isAbortSignal=a=>typeof a==="object"&&a[Pr]==="AbortSignal";const Br="\r\n";const Mr="-".repeat(2);const Or=Buffer.byteLength(Br);const getFooter=a=>`${Mr}${a}${Mr}${Br.repeat(2)}`;function getHeader(a,C,q){let re="";re+=`${Mr}${a}${Br}`;re+=`Content-Disposition: form-data; name="${C}"`;if(isBlob(q)){re+=`; filename="${q.name}"${Br}`;re+=`Content-Type: ${q.type||"application/octet-stream"}`}return`${re}${Br.repeat(2)}`}const getBoundary=()=>xr.randomBytes(8).toString("hex");async function*formDataIterator(a,C){for(const[q,re]of a){yield getHeader(C,q,re);if(isBlob(re)){yield*re.stream()}else{yield re}yield Br}yield getFooter(C)}function getFormDataLength(a,C){let q=0;for(const[re,ae]of a){q+=Buffer.byteLength(getHeader(C,re,ae));if(isBlob(ae)){q+=ae.size}else{q+=Buffer.byteLength(String(ae))}q+=Or}q+=Buffer.byteLength(getFooter(C));return q}const Ir=Symbol("Body internals");class Body{constructor(a,{size:C=0}={}){let q=null;if(a===null){a=null}else if(isURLSearchParameters(a)){a=Buffer.from(a.toString())}else if(isBlob(a));else if(Buffer.isBuffer(a));else if(Er.types.isAnyArrayBuffer(a)){a=Buffer.from(a)}else if(ArrayBuffer.isView(a)){a=Buffer.from(a.buffer,a.byteOffset,a.byteLength)}else if(a instanceof Pt);else if(isFormData(a)){q=`NodeFetchFormDataBoundary${getBoundary()}`;a=Pt.Readable.from(formDataIterator(a,q))}else{a=Buffer.from(String(a))}this[Ir]={body:a,boundary:q,disturbed:false,error:null};this.size=C;if(a instanceof Pt){a.on("error",(a=>{const C=a instanceof FetchBaseError?a:new FetchError(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[Ir].error=C}))}}get body(){return this[Ir].body}get bodyUsed(){return this[Ir].disturbed}async arrayBuffer(){const{buffer:a,byteOffset:C,byteLength:q}=await consumeBody(this);return a.slice(C,C+q)}async blob(){const a=this.headers&&this.headers.get("content-type")||this[Ir].body&&this[Ir].body.type||"";const C=await this.buffer();return new Ar([C],{type:a})}async json(){const a=await consumeBody(this);return JSON.parse(a.toString())}async text(){const a=await consumeBody(this);return a.toString()}buffer(){return consumeBody(this)}}Object.defineProperties(Body.prototype,{body:{enumerable:true},bodyUsed:{enumerable:true},arrayBuffer:{enumerable:true},blob:{enumerable:true},json:{enumerable:true},text:{enumerable:true}});async function consumeBody(a){if(a[Ir].disturbed){throw new TypeError(`body used already for: ${a.url}`)}a[Ir].disturbed=true;if(a[Ir].error){throw a[Ir].error}let{body:C}=a;if(C===null){return Buffer.alloc(0)}if(isBlob(C)){C=C.stream()}if(Buffer.isBuffer(C)){return C}if(!(C instanceof Pt)){return Buffer.alloc(0)}const q=[];let re=0;try{for await(const ae of C){if(a.size>0&&re+ae.length>a.size){const q=new FetchError(`content size at ${a.url} over limit: ${a.size}`,"max-size");C.destroy(q);throw q}re+=ae.length;q.push(ae)}}catch(C){if(C instanceof FetchBaseError){throw C}else{throw new FetchError(`Invalid response body while trying to fetch ${a.url}: ${C.message}`,"system",C)}}if(C.readableEnded===true||C._readableState.ended===true){try{if(q.every((a=>typeof a==="string"))){return Buffer.from(q.join(""))}return Buffer.concat(q,re)}catch(C){throw new FetchError(`Could not create Buffer from response body for ${a.url}: ${C.message}`,"system",C)}}else{throw new FetchError(`Premature close of server response while trying to fetch ${a.url}`)}}const clone=(a,C)=>{let q;let re;let{body:ae}=a;if(a.bodyUsed){throw new Error("cannot clone body after it is used")}if(ae instanceof Pt&&typeof ae.getBoundary!=="function"){q=new Pt.PassThrough({highWaterMark:C});re=new Pt.PassThrough({highWaterMark:C});ae.pipe(q);ae.pipe(re);a[Ir].body=q;ae=re}return ae};const extractContentType=(a,C)=>{if(a===null){return null}if(typeof a==="string"){return"text/plain;charset=UTF-8"}if(isURLSearchParameters(a)){return"application/x-www-form-urlencoded;charset=UTF-8"}if(isBlob(a)){return a.type||null}if(Buffer.isBuffer(a)||Er.types.isAnyArrayBuffer(a)||ArrayBuffer.isView(a)){return null}if(a&&typeof a.getBoundary==="function"){return`multipart/form-data;boundary=${a.getBoundary()}`}if(isFormData(a)){return`multipart/form-data; boundary=${C[Ir].boundary}`}if(a instanceof Pt){return null}return"text/plain;charset=UTF-8"};const getTotalBytes=a=>{const{body:C}=a;if(C===null){return 0}if(isBlob(C)){return C.size}if(Buffer.isBuffer(C)){return C.length}if(C&&typeof C.getLengthSync==="function"){return C.hasKnownLength&&C.hasKnownLength()?C.getLengthSync():null}if(isFormData(C)){return getFormDataLength(a[Ir].boundary)}return null};const writeToStream=(a,{body:C})=>{if(C===null){a.end()}else if(isBlob(C)){C.stream().pipe(a)}else if(Buffer.isBuffer(C)){a.write(C);a.end()}else{C.pipe(a)}};const Nr=typeof re.validateHeaderName==="function"?re.validateHeaderName:a=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(a)){const C=new TypeError(`Header name must be a valid HTTP token [${a}]`);Object.defineProperty(C,"code",{value:"ERR_INVALID_HTTP_TOKEN"});throw C}};const jr=typeof re.validateHeaderValue==="function"?re.validateHeaderValue:(a,C)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(C)){const C=new TypeError(`Invalid character in header content ["${a}"]`);Object.defineProperty(C,"code",{value:"ERR_INVALID_CHAR"});throw C}};class Headers extends URLSearchParams{constructor(a){let C=[];if(a instanceof Headers){const q=a.raw();for(const[a,re]of Object.entries(q)){C.push(...re.map((C=>[a,C])))}}else if(a==null);else if(typeof a==="object"&&!Er.types.isBoxedPrimitive(a)){const q=a[Symbol.iterator];if(q==null){C.push(...Object.entries(a))}else{if(typeof q!=="function"){throw new TypeError("Header pairs must be iterable")}C=[...a].map((a=>{if(typeof a!=="object"||Er.types.isBoxedPrimitive(a)){throw new TypeError("Each header pair must be an iterable object")}return[...a]})).map((a=>{if(a.length!==2){throw new TypeError("Each header pair must be a name/value tuple")}return[...a]}))}}else{throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)")}C=C.length>0?C.map((([a,C])=>{Nr(a);jr(a,String(C));return[String(a).toLowerCase(),String(C)]})):undefined;super(C);return new Proxy(this,{get(a,C,q){switch(C){case"append":case"set":return(a,re)=>{Nr(a);jr(a,String(re));return URLSearchParams.prototype[C].call(q,String(a).toLowerCase(),String(re))};case"delete":case"has":case"getAll":return a=>{Nr(a);return URLSearchParams.prototype[C].call(q,String(a).toLowerCase())};case"keys":return()=>{a.sort();return new Set(URLSearchParams.prototype.keys.call(a)).keys()};default:return Reflect.get(a,C,q)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(a){const C=this.getAll(a);if(C.length===0){return null}let q=C.join(", ");if(/^content-encoding$/i.test(a)){q=q.toLowerCase()}return q}forEach(a){for(const C of this.keys()){a(this.get(C),C)}}*values(){for(const a of this.keys()){yield this.get(a)}}*entries(){for(const a of this.keys()){yield[a,this.get(a)]}}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((a,C)=>{a[C]=this.getAll(C);return a}),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((a,C)=>{const q=this.getAll(C);if(C==="host"){a[C]=q[0]}else{a[C]=q.length>1?q:q[0]}return a}),{})}}Object.defineProperties(Headers.prototype,["get","entries","forEach","values"].reduce(((a,C)=>{a[C]={enumerable:true};return a}),{}));function fromRawHeaders(a=[]){return new Headers(a.reduce(((a,C,q,re)=>{if(q%2===0){a.push(re.slice(q,q+2))}return a}),[]).filter((([a,C])=>{try{Nr(a);jr(a,String(C));return true}catch{return false}})))}const Lr=new Set([301,302,303,307,308]);const isRedirect=a=>Lr.has(a);const Dr=Symbol("Response internals");class Response extends Body{constructor(a=null,C={}){super(a,C);const q=C.status||200;const re=new Headers(C.headers);if(a!==null&&!re.has("Content-Type")){const C=extractContentType(a);if(C){re.append("Content-Type",C)}}this[Dr]={url:C.url,status:q,statusText:C.statusText||"",headers:re,counter:C.counter,highWaterMark:C.highWaterMark}}get url(){return this[Dr].url||""}get status(){return this[Dr].status}get ok(){return this[Dr].status>=200&&this[Dr].status<300}get redirected(){return this[Dr].counter>0}get statusText(){return this[Dr].statusText}get headers(){return this[Dr].headers}get highWaterMark(){return this[Dr].highWaterMark}clone(){return new Response(clone(this,this.highWaterMark),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size})}static redirect(a,C=302){if(!isRedirect(C)){throw new RangeError('Failed to execute "redirect" on "response": Invalid status code')}return new Response(null,{headers:{location:new URL(a).toString()},status:C})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(Response.prototype,{url:{enumerable:true},status:{enumerable:true},ok:{enumerable:true},redirected:{enumerable:true},statusText:{enumerable:true},headers:{enumerable:true},clone:{enumerable:true}});const getSearch=a=>{if(a.search){return a.search}const C=a.href.length-1;const q=a.hash||(a.href[C]==="#"?"#":"");return a.href[C-q.length]==="?"?"?":""};const Hr=Symbol("Request internals");const isRequest=a=>typeof a==="object"&&typeof a[Hr]==="object";class Request extends Body{constructor(a,C={}){let q;if(isRequest(a)){q=new URL(a.url)}else{q=new URL(a);a={}}let re=C.method||a.method||"GET";re=re.toUpperCase();if((C.body!=null||isRequest(a))&&a.body!==null&&(re==="GET"||re==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body")}const ae=C.body?C.body:isRequest(a)&&a.body!==null?clone(a):null;super(ae,{size:C.size||a.size||0});const Ue=new Headers(C.headers||a.headers||{});if(ae!==null&&!Ue.has("Content-Type")){const a=extractContentType(ae,this);if(a){Ue.append("Content-Type",a)}}let Pt=isRequest(a)?a.signal:null;if("signal"in C){Pt=C.signal}if(Pt!==null&&!isAbortSignal(Pt)){throw new TypeError("Expected signal to be an instanceof AbortSignal")}this[Hr]={method:re,redirect:C.redirect||a.redirect||"follow",headers:Ue,parsedURL:q,signal:Pt};this.follow=C.follow===undefined?a.follow===undefined?20:a.follow:C.follow;this.compress=C.compress===undefined?a.compress===undefined?true:a.compress:C.compress;this.counter=C.counter||a.counter||0;this.agent=C.agent||a.agent;this.highWaterMark=C.highWaterMark||a.highWaterMark||16384;this.insecureHTTPParser=C.insecureHTTPParser||a.insecureHTTPParser||false}get method(){return this[Hr].method}get url(){return kr.format(this[Hr].parsedURL)}get headers(){return this[Hr].headers}get redirect(){return this[Hr].redirect}get signal(){return this[Hr].signal}clone(){return new Request(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(Request.prototype,{method:{enumerable:true},url:{enumerable:true},headers:{enumerable:true},redirect:{enumerable:true},clone:{enumerable:true},signal:{enumerable:true}});const getNodeRequestOptions=a=>{const{parsedURL:C}=a[Hr];const q=new Headers(a[Hr].headers);if(!q.has("Accept")){q.set("Accept","*/*")}let re=null;if(a.body===null&&/^(post|put)$/i.test(a.method)){re="0"}if(a.body!==null){const C=getTotalBytes(a);if(typeof C==="number"&&!Number.isNaN(C)){re=String(C)}}if(re){q.set("Content-Length",re)}if(!q.has("User-Agent")){q.set("User-Agent","node-fetch")}if(a.compress&&!q.has("Accept-Encoding")){q.set("Accept-Encoding","gzip,deflate,br")}let{agent:ae}=a;if(typeof ae==="function"){ae=ae(C)}if(!q.has("Connection")&&!ae){q.set("Connection","close")}const Ue=getSearch(C);const Pt={path:C.pathname+Ue,pathname:C.pathname,hostname:C.hostname,protocol:C.protocol,port:C.port,hash:C.hash,search:C.search,query:C.query,href:C.href,method:a.method,headers:q[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:a.insecureHTTPParser,agent:ae};return Pt};class AbortError extends FetchBaseError{constructor(a,C="aborted"){super(a,C)}}const Fr=new Set(["data:","http:","https:"]);async function fetch(a,C){return new Promise(((q,Er)=>{const Ar=new Request(a,C);const xr=getNodeRequestOptions(Ar);if(!Fr.has(xr.protocol)){throw new TypeError(`node-fetch cannot load ${a}. URL scheme "${xr.protocol.replace(/:$/,"")}" is not supported.`)}if(xr.protocol==="data:"){const a=Wt(Ar.url);const C=new Response(a,{headers:{"Content-Type":a.typeFull}});q(C);return}const kr=(xr.protocol==="https:"?ae:re).request;const{signal:Pr}=Ar;let Br=null;const abort=()=>{const a=new AbortError("The operation was aborted.");Er(a);if(Ar.body&&Ar.body instanceof Pt.Readable){Ar.body.destroy(a)}if(!Br||!Br.body){return}Br.body.emit("error",a)};if(Pr&&Pr.aborted){abort();return}const abortAndFinalize=()=>{abort();finalize()};const Mr=kr(xr);if(Pr){Pr.addEventListener("abort",abortAndFinalize)}const finalize=()=>{Mr.abort();if(Pr){Pr.removeEventListener("abort",abortAndFinalize)}};Mr.on("error",(a=>{Er(new FetchError(`request to ${Ar.url} failed, reason: ${a.message}`,"system",a));finalize()}));Mr.on("response",(a=>{Mr.setTimeout(0);const re=fromRawHeaders(a.rawHeaders);if(isRedirect(a.statusCode)){const ae=re.get("Location");const Ue=ae===null?null:new URL(ae,Ar.url);switch(Ar.redirect){case"error":Er(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${Ar.url}`,"no-redirect"));finalize();return;case"manual":if(Ue!==null){try{re.set("Location",Ue)}catch(a){Er(a)}}break;case"follow":{if(Ue===null){break}if(Ar.counter>=Ar.follow){Er(new FetchError(`maximum redirect reached at: ${Ar.url}`,"max-redirect"));finalize();return}const re={headers:new Headers(Ar.headers),follow:Ar.follow,counter:Ar.counter+1,agent:Ar.agent,compress:Ar.compress,method:Ar.method,body:Ar.body,signal:Ar.signal,size:Ar.size};if(a.statusCode!==303&&Ar.body&&C.body instanceof Pt.Readable){Er(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect"));finalize();return}if(a.statusCode===303||(a.statusCode===301||a.statusCode===302)&&Ar.method==="POST"){re.method="GET";re.body=undefined;re.headers.delete("content-length")}q(fetch(new Request(Ue,re)));finalize();return}}}a.once("end",(()=>{if(Pr){Pr.removeEventListener("abort",abortAndFinalize)}}));let ae=Pt.pipeline(a,new Pt.PassThrough,(a=>{Er(a)}));if(process.version<"v12.10"){a.on("aborted",abortAndFinalize)}const Wt={url:Ar.url,status:a.statusCode,statusText:a.statusMessage,headers:re,size:Ar.size,counter:Ar.counter,highWaterMark:Ar.highWaterMark};const xr=re.get("Content-Encoding");if(!Ar.compress||Ar.method==="HEAD"||xr===null||a.statusCode===204||a.statusCode===304){Br=new Response(ae,Wt);q(Br);return}const kr={flush:Ue.Z_SYNC_FLUSH,finishFlush:Ue.Z_SYNC_FLUSH};if(xr==="gzip"||xr==="x-gzip"){ae=Pt.pipeline(ae,Ue.createGunzip(kr),(a=>{Er(a)}));Br=new Response(ae,Wt);q(Br);return}if(xr==="deflate"||xr==="x-deflate"){const C=Pt.pipeline(a,new Pt.PassThrough,(a=>{Er(a)}));C.once("data",(a=>{if((a[0]&15)===8){ae=Pt.pipeline(ae,Ue.createInflate(),(a=>{Er(a)}))}else{ae=Pt.pipeline(ae,Ue.createInflateRaw(),(a=>{Er(a)}))}Br=new Response(ae,Wt);q(Br)}));return}if(xr==="br"){ae=Pt.pipeline(ae,Ue.createBrotliDecompress(),(a=>{Er(a)}));Br=new Response(ae,Wt);q(Br);return}Br=new Response(ae,Wt);q(Br)}));writeToStream(Mr,Ar)}))}C.AbortError=AbortError;C.FetchError=FetchError;C.Headers=Headers;C.Request=Request;C.Response=Response;C["default"]=fetch;C.isRedirect=isRedirect},4147:a=>{"use strict";a.exports={i8:"1.0.0"}}};var __webpack_module_cache__={};function __nccwpck_require__(a){var C=__webpack_module_cache__[a];if(C!==undefined){return C.exports}var q=__webpack_module_cache__[a]={id:a,loaded:false,exports:{}};var re=true;try{__webpack_modules__[a].call(q.exports,q,q.exports,__nccwpck_require__);re=false}finally{if(re)delete __webpack_module_cache__[a]}q.loaded=true;return q.exports}(()=>{__nccwpck_require__.r=a=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(a,"__esModule",{value:true})}})();(()=>{__nccwpck_require__.nmd=a=>{a.paths=[];if(!a.children)a.children=[];return a}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{"use strict";__nccwpck_require__.r(__webpack_exports__);var a=__nccwpck_require__(2186);class error_BeeError extends Error{constructor(a){super(a)}}class error_BeeArgumentError extends error_BeeError{constructor(a,C){super(a);this.value=C}}class BeeRequestError extends error_BeeError{constructor(a,C){super(a);this.requestOptions=C}}class BeeResponseError extends error_BeeError{constructor(a,C,q,re,ae){super(ae);this.status=a;this.response=C;this.responseBody=q;this.requestOptions=re}}class BeeNotAJsonError extends error_BeeError{constructor(){super(`Received response is not valid JSON.`)}}function readContentDispositionFilename(a){if(!a){throw new error_BeeError("missing content-disposition header")}const C=a.match(/filename\*?=['"]?(?:UTF-\d['"]*)?([^;\r\n"']*)['"]?;?/i);if(C&&C.length>0){return C[1]}throw new error_BeeError("invalid content-disposition header")}function readTagUid(a){if(!a){return undefined}return parseInt(a,10)}function readFileHeaders(a){const C=readContentDispositionFilename(a.get("content-disposition"));const q=readTagUid(a.get("swarm-tag-uid"));const re=a.get("content-type")||undefined;return{name:C,tagUid:q,contentType:re}}function extractUploadHeaders(a,C){if(!a){throw new error_BeeError("Postage BatchID has to be specified!")}const q={"swarm-postage-batch-id":a};if(C===null||C===void 0?void 0:C.pin)q["swarm-pin"]=String(C.pin);if(C===null||C===void 0?void 0:C.encrypt)q["swarm-encrypt"]=String(C.encrypt);if(C===null||C===void 0?void 0:C.tag)q["swarm-tag"]=String(C.tag);if(typeof(C===null||C===void 0?void 0:C.deferred)==="boolean")q["swarm-deferred-upload"]=C.deferred.toString();return q}var C=__nccwpck_require__(8125);var q=__nccwpck_require__(2781);var re;(function(a){a["FULL"]="full";a["LIGHT"]="light";a["ULTRA_LIGHT"]="ultra-light";a["DEV"]="dev"})(re||(re={}));const ae=8;const Ue=32;const Pt=128;const Wt=Ue*Pt;const Er=64;const Ar=6;const xr=66;const kr=64;const Pr=64;const Br=128;const Mr=32;const Or=64;const Ir=17;const Nr=255;const jr=1;const Lr=1e3;const Dr=16;const Hr=32;const Fr=64;const Ur=130;const $r=65;var zr=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function isFile(a){if(typeof File==="function"){return a instanceof File}const C=a;return typeof C==="object"&&typeof C.name==="string"&&(typeof C.stream==="function"||typeof C.arrayBuffer==="function")}function fileArrayBuffer(a){return zr(this,void 0,void 0,(function*(){if(a.arrayBuffer){return a.arrayBuffer()}return new Promise((C=>{const q=new FileReader;q.onload=()=>C(q.result);q.readAsArrayBuffer(a)}))}))}function isBytes(a,C){return a instanceof Uint8Array&&a.length===C}function hasBytesAtOffset(a,C,q){if(!(a instanceof Uint8Array)){throw new TypeError("Data has to an Uint8Array!")}const re=a.slice(C,C+q);return isBytes(re,q)}function assertBytes(a,C){if(!isBytes(a,C)){throw new TypeError(`Parameter is not valid Bytes of length: ${C} !== ${a.length}`)}}function isFlexBytes(a,C,q){return a instanceof Uint8Array&&a.length>=C&&a.length<=q}function assertFlexBytes(a,C,q){if(!isFlexBytes(a,C,q)){throw new TypeError(`Parameter is not valid FlexBytes of  min: ${C}, max: ${q}, length: ${a.length}`)}}function bytesAtOffset(a,C,q){const re=a.slice(C,C+q);assertBytes(re,q);return re}function flexBytesAtOffset(a,C,q,re){return a.slice(C)}function bytesEqual(a,C){return a.length===C.length&&a.every(((a,q)=>a===C[q]))}function bytes_makeBytes(a){return new Uint8Array(a)}function wrapBytesWithHelpers(a){return Object.assign(a,{text:()=>new TextDecoder("utf-8").decode(a),json:()=>JSON.parse(new TextDecoder("utf-8").decode(a)),hex:()=>bytesToHex(a)})}function hex_makeHexString(a,C){if(typeof a==="number"){return hex_intToHex(a,C)}if(a instanceof Uint8Array){return bytesToHex(a,C)}if(typeof a==="string"){if(isPrefixedHexString(a)){const q=a.slice(2);if(C&&q.length!==C){throw new TypeError(`Length mismatch for valid hex string. Expecting length ${C}: ${q}`)}return q}else{hex_assertHexString(a,C);return a}}throw new TypeError("Not HexString compatible type!")}function hex_hexToBytes(a){hex_assertHexString(a);const C=bytes_makeBytes(a.length/2);for(let q=0;q<C.length;q++){const re=a.substr(q*2,2);C[q]=parseInt(re,16)}return C}function bytesToHex(a,C){const hexByte=a=>a.toString(16).padStart(2,"0");const q=Array.from(a,hexByte).join("");if(C&&q.length!==C){throw new TypeError(`Resulting HexString does not have expected length ${C}: ${q}`)}return q}function hex_intToHex(a,C){if(!Number.isInteger(a))throw new TypeError("the value provided is not integer");if(a>Number.MAX_SAFE_INTEGER)throw new TypeError("the value provided exceeds safe integer");if(a<0)throw new TypeError("the value provided is a negative integer");const q=a.toString(16);if(C&&q.length!==C){throw new TypeError(`Resulting HexString does not have expected length ${C}: ${q}`)}return q}function isHexString(a,C){return typeof a==="string"&&/^[0-9a-f]+$/i.test(a)&&(!C||a.length===C)}function isPrefixedHexString(a){return typeof a==="string"&&/^0x[0-9a-f]+$/i.test(a)}function hex_assertHexString(a,C,q="value"){if(!isHexString(a,C)){if(isPrefixedHexString(a)){throw new TypeError(`${q} not valid non prefixed hex string (has 0x prefix): ${a}`)}const re=C?` of length ${C}`:"";throw new TypeError(`${q} not valid hex string${re}: ${a}`)}}function hex_assertPrefixedHexString(a,C="value"){if(!isPrefixedHexString(a)){throw new TypeError(`${C} not valid prefixed hex string: ${a}`)}}var Wr=__nccwpck_require__(7921);function isUint8Array(a){return a instanceof Uint8Array}function isInteger(a){return typeof a==="string"&&/^-?(0|[1-9][0-9]*)$/g.test(a)||typeof a==="number"&&a>Number.MIN_SAFE_INTEGER&&a<Number.MAX_SAFE_INTEGER&&Number.isInteger(a)}function isObject(a){return a!==null&&typeof a==="object"}function isStrictlyObject(a){return isObject(a)&&!Array.isArray(a)}function isError(a){return a instanceof Error}function assertStrictlyObject(a,C="value"){if(!isStrictlyObject(a)){throw new TypeError(`${C} has to be an object that is not null nor array!`)}}function assertBoolean(a,C="value"){if(a!==true&&a!==false)throw new TypeError(`${C} is not boolean`)}function assertInteger(a,C="value"){if(!isInteger(a))throw new TypeError(`${C} is not integer`)}function type_assertNonNegativeInteger(a,C="Value"){assertInteger(a,C);if(Number(a)<0)throw new error_BeeArgumentError(`${C} has to be bigger or equal to zero`,a)}function type_assertPositiveInteger(a,C="Value"){assertInteger(a,C);if(Number(a)<=0)throw new BeeArgumentError(`${C} has to be bigger then zero`,a)}function assertReference(a){try{hex_assertHexString(a,Pr)}catch(C){hex_assertHexString(a,Br)}}function assertReferenceOrEns(a){if(typeof a!=="string"){throw new TypeError("ReferenceOrEns has to be a string!")}if(isHexString(a)){assertReference(a);return}const C=/^(?:(?:[^-.\/?:\s][^.\/?:\s]{0,61}[^-.\/?:\s]|[^-.\/?:\s]{1,2})\.)+[^-.\/?:\s][^.\/?:\s]{0,61}[^-.\/?:\s]$/;if(!C.test(a)){throw new TypeError("ReferenceOrEns is not valid Reference, but also not valid ENS domain.")}}function makeReferenceOrEns(a,C){var q;if(typeof a!=="string"){throw new TypeError("ReferenceCidOrEns has to be a string!")}try{const re=(0,Wr.zB)(a);if(re.type!==C){throw new error_BeeError(`CID was expected to be of type ${C}, but got instead ${(q=re.type)!==null&&q!==void 0?q:"non-Swarm CID"}`)}return re.reference}catch(a){if(a instanceof error_BeeError)throw a}assertReferenceOrEns(a);return a}function addCidConversionFunction(a,C){return Object.assign(Object.assign({},a),{get cid(){return(0,Wr.Lg)(a.reference,C).toString()}})}function type_assertAddress(a){hex_assertHexString(a,Er,"Address")}function type_assertBatchId(a){hex_assertHexString(a,kr,"BatchId")}function type_assertRequestOptions(a,C="RequestOptions"){if(a===undefined){return}if(!isStrictlyObject(a)){throw new TypeError(`${C} has to be an object!`)}const q=a;if(q.retry){type_assertNonNegativeInteger(q.retry,`${C}.retry`)}if(q.timeout){type_assertNonNegativeInteger(q.timeout,`${C}.timeout`)}if(q.fetch&&typeof q.fetch!=="function"){throw new TypeError(`${C}.fetch has to be a function or undefined!`)}}function assertUploadOptions(a,C="UploadOptions"){if(!isStrictlyObject(a)){throw new TypeError(`${C} has to be an object!`)}type_assertRequestOptions(a,C);const q=a;if(q.pin&&typeof q.pin!=="boolean"){throw new TypeError(`options.pin property in ${C} has to be boolean or undefined!`)}if(q.encrypt&&typeof q.encrypt!=="boolean"){throw new TypeError(`options.encrypt property in ${C} has to be boolean or undefined!`)}if(q.tag){if(typeof q.tag!=="number"){throw new TypeError(`options.tag property in ${C} has to be number or undefined!`)}type_assertNonNegativeInteger(q.tag,"options.tag")}}function assertFileUploadOptions(a){assertUploadOptions(a,"FileUploadOptions");const C=a;if(C.size){if(typeof C.size!=="number"){throw new TypeError("tag property in FileUploadOptions has to be number or undefined!")}type_assertNonNegativeInteger(C.size,"options.size")}if(C.contentType&&typeof C.contentType!=="string"){throw new TypeError("contentType property in FileUploadOptions has to be string or undefined!")}}function assertCollectionUploadOptions(a){assertUploadOptions(a,"CollectionUploadOptions");const C=a;if(C.indexDocument&&typeof C.indexDocument!=="string"){throw new TypeError("indexDocument property in CollectionUploadOptions has to be string or undefined!")}if(C.errorDocument&&typeof C.errorDocument!=="string"){throw new TypeError("errorDocument property in CollectionUploadOptions has to be string or undefined!")}}function type_isTag(a){if(!isStrictlyObject(a)){return false}const C=a;const q=["total","processed","synced","uid"];const re=q.every((a=>typeof C[a]==="number"));if(!re||!C.startedAt||typeof C.startedAt!=="string"){return false}return true}function assertTag(a){if(!isStrictlyObject(a)){throw new TypeError("Tag is not an object!")}const C=a;const q=["total","processed","synced","uid"];for(const a of q){if(!C[a]){throw new TypeError(`Tag's property '${a}' has to be specified!`)}if(typeof C[a]!=="number"){throw new TypeError(`Tag's property '${a}' has to be number!`)}}if(!C.startedAt){throw new TypeError("Tag's property 'startedAt' has to be specified!")}if(typeof C.startedAt!=="string"){throw new TypeError("Tag's property 'startedAt' has to be string!")}}function assertAddressPrefix(a){hex_assertHexString(a,undefined,"AddressPrefix");if(a.length>Ar){throw new error_BeeArgumentError(`AddressPrefix must have length of ${Ar} at most! Got string with ${a.length}`,a)}}function assertPssMessageHandler(a){if(!isStrictlyObject(a)){throw new TypeError("PssMessageHandler has to be object!")}const C=a;if(typeof C.onMessage!=="function"){throw new TypeError("onMessage property of PssMessageHandler has to be function!")}if(typeof C.onError!=="function"){throw new TypeError("onError property of PssMessageHandler has to be function!")}}function assertPublicKey(a){hex_assertHexString(a,xr,"PublicKey")}function type_assertPostageBatchOptions(a){if(a===undefined){return}assertStrictlyObject(a);const C=a;type_assertRequestOptions(C,"PostageBatchOptions");if(C===null||C===void 0?void 0:C.gasPrice){type_assertNonNegativeInteger(C.gasPrice)}if((C===null||C===void 0?void 0:C.immutableFlag)!==undefined){assertBoolean(C.immutableFlag)}if((C===null||C===void 0?void 0:C.waitForUsable)!==undefined){assertBoolean(C.waitForUsable)}if((C===null||C===void 0?void 0:C.waitForUsableTimeout)!==undefined){type_assertNonNegativeInteger(C.waitForUsableTimeout,"options.waitForUsableTimeout")}}function type_assertCashoutOptions(a){if(a===undefined){return}assertStrictlyObject(a);const C=a;type_assertRequestOptions(C,"PostageBatchOptions");if(C===null||C===void 0?void 0:C.gasLimit){type_assertNonNegativeInteger(C.gasLimit)}if(C===null||C===void 0?void 0:C.gasPrice){type_assertNonNegativeInteger(C.gasPrice)}}function assertData(a){if(typeof a!=="string"&&!(a instanceof Uint8Array)){throw new TypeError("Data must be either string or Uint8Array!")}}function assertFileData(a){if(typeof a!=="string"&&!(a instanceof Uint8Array)&&!isFile(a)&&!isReadable(a)){throw new TypeError("Data must be either string, Readable, Uint8Array or File!")}}function assertAllTagsOptions(a){if(a!==undefined&&!isStrictlyObject(a)){throw new TypeError("options has to be an object or undefined!")}type_assertRequestOptions(a,"AllTagsOptions");const C=a;if((C===null||C===void 0?void 0:C.limit)!==undefined){if(typeof C.limit!=="number"){throw new TypeError("AllTagsOptions.limit has to be a number or undefined!")}if(C.limit<jr){throw new error_BeeArgumentError(`AllTagsOptions.limit has to be at least ${jr}`,C.limit)}if(C.limit>Lr){throw new error_BeeArgumentError(`AllTagsOptions.limit has to be at most ${Lr}`,C.limit)}}if((C===null||C===void 0?void 0:C.offset)!==undefined){type_assertNonNegativeInteger(C.offset,"AllTagsOptions.offset")}}function makeTagUid(a){if(a===undefined||a===null){throw new TypeError("TagUid was expected but got undefined or null instead!")}if(type_isTag(a)){return a.uid}else if(typeof a==="number"){type_assertNonNegativeInteger(a,"UID");return a}else if(typeof a==="string"){const C=parseInt(a);if(isNaN(C)){throw new TypeError("Passed tagUid string is not valid integer!")}if(C<0){throw new TypeError(`TagUid was expected to be positive non-negative integer! Got ${C}`)}return C}throw new TypeError("tagUid has to be either Tag or a number (UID)!")}function type_assertTransactionHash(a){if(typeof a!=="string"){throw new TypeError("TransactionHash has to be a string!")}assertPrefixedHexString(a,"TransactionHash");if(a.length!==66){throw new TypeError("TransactionHash has to be prefixed hex string with total length 66 (prefix including)")}}
/**
 * @license
 * web-streams-polyfill v4.0.0-beta.3
 * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */
const Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:a=>`Symbol(${a})`;function t(){}function r(a){return"object"==typeof a&&null!==a||"function"==typeof a}const Vr=t;function n(a,C){try{Object.defineProperty(a,"name",{value:C,configurable:!0})}catch(a){}}const Gr=Promise,Jr=Promise.prototype.then,Xr=Promise.resolve.bind(Gr),Yr=Promise.reject.bind(Gr);function u(a){return new Gr(a)}function c(a){return Xr(a)}function d(a){return Yr(a)}function f(a,C,q){return Jr.call(a,C,q)}function b(a,C,q){f(f(a,C,q),void 0,Vr)}function h(a,C){b(a,C)}function _(a,C){b(a,void 0,C)}function p(a,C,q){return f(a,C,q)}function m(a){f(a,void 0,Vr)}let y=a=>{if("function"==typeof queueMicrotask)y=queueMicrotask;else{const a=c(void 0);y=C=>f(a,C)}return y(a)};function g(a,C,q){if("function"!=typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,C,q)}function w(a,C,q){try{return c(g(a,C,q))}catch(a){return d(a)}}class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(a){const C=this._back;let q=C;16383===C._elements.length&&(q={_elements:[],_next:void 0}),C._elements.push(a),q!==C&&(this._back=q,C._next=q),++this._size}shift(){const a=this._front;let C=a;const q=this._cursor;let re=q+1;const ae=a._elements,Ue=ae[q];return 16384===re&&(C=a._next,re=0),--this._size,this._cursor=re,a!==C&&(this._front=C),ae[q]=void 0,Ue}forEach(a){let C=this._cursor,q=this._front,re=q._elements;for(;!(C===re.length&&void 0===q._next||C===re.length&&(q=q._next,re=q._elements,C=0,0===re.length));)a(re[C]),++C}peek(){const a=this._front,C=this._cursor;return a._elements[C]}}const Zr=Kr("[[AbortSteps]]"),Qr=Kr("[[ErrorSteps]]"),en=Kr("[[CancelSteps]]"),tn=Kr("[[PullSteps]]"),rn=Kr("[[ReleaseSteps]]");function E(a,C){a._ownerReadableStream=C,C._reader=a,"readable"===C._state?O(a):"closed"===C._state?function(a){O(a),j(a)}(a):B(a,C._storedError)}function P(a,C){return Gt(a._ownerReadableStream,C)}function W(a){const C=a._ownerReadableStream;"readable"===C._state?A(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(a,C){B(a,C)}(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),C._readableStreamController[rn](),C._reader=void 0,a._ownerReadableStream=void 0}function k(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function O(a){a._closedPromise=u(((C,q)=>{a._closedPromise_resolve=C,a._closedPromise_reject=q}))}function B(a,C){O(a),A(a,C)}function A(a,C){void 0!==a._closedPromise_reject&&(m(a._closedPromise),a._closedPromise_reject(C),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}function j(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}const nn=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},on=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)};function F(a,C){if(void 0!==a&&("object"!=typeof(q=a)&&"function"!=typeof q))throw new TypeError(`${C} is not an object.`);var q}function I(a,C){if("function"!=typeof a)throw new TypeError(`${C} is not a function.`)}function D(a,C){if(!function(a){return"object"==typeof a&&null!==a||"function"==typeof a}(a))throw new TypeError(`${C} is not an object.`)}function $(a,C,q){if(void 0===a)throw new TypeError(`Parameter ${C} is required in '${q}'.`)}function M(a,C,q){if(void 0===a)throw new TypeError(`${C} is required in '${q}'.`)}function Y(a){return Number(a)}function Q(a){return 0===a?0:a}function N(a,C){const q=Number.MAX_SAFE_INTEGER;let re=Number(a);if(re=Q(re),!nn(re))throw new TypeError(`${C} is not a finite number`);if(re=function(a){return Q(on(a))}(re),re<0||re>q)throw new TypeError(`${C} is outside the accepted range of 0 to ${q}, inclusive`);return nn(re)&&0!==re?re:0}function H(a){if(!r(a))return!1;if("function"!=typeof a.getReader)return!1;try{return"boolean"==typeof a.locked}catch(a){return!1}}function x(a){if(!r(a))return!1;if("function"!=typeof a.getWriter)return!1;try{return"boolean"==typeof a.locked}catch(a){return!1}}function V(a,C){if(!Vt(a))throw new TypeError(`${C} is not a ReadableStream.`)}function U(a,C){a._reader._readRequests.push(C)}function G(a,C,q){const re=a._reader._readRequests.shift();q?re._closeSteps():re._chunkSteps(C)}function X(a){return a._reader._readRequests.length}function J(a){const C=a._reader;return void 0!==C&&!!K(C)}class ReadableStreamDefaultReader{constructor(a){if($(a,1,"ReadableStreamDefaultReader"),V(a,"First parameter"),Ut(a))throw new TypeError("This stream has already been locked for exclusive reading by another reader");E(this,a),this._readRequests=new S}get closed(){return K(this)?this._closedPromise:d(ee("closed"))}cancel(a){return K(this)?void 0===this._ownerReadableStream?d(k("cancel")):P(this,a):d(ee("cancel"))}read(){if(!K(this))return d(ee("read"));if(void 0===this._ownerReadableStream)return d(k("read from"));let a,C;const q=u(((q,re)=>{a=q,C=re}));return function(a,C){const q=a._ownerReadableStream;q._disturbed=!0,"closed"===q._state?C._closeSteps():"errored"===q._state?C._errorSteps(q._storedError):q._readableStreamController[tn](C)}(this,{_chunkSteps:C=>a({value:C,done:!1}),_closeSteps:()=>a({value:void 0,done:!0}),_errorSteps:a=>C(a)}),q}releaseLock(){if(!K(this))throw ee("releaseLock");void 0!==this._ownerReadableStream&&function(a){W(a);const C=new TypeError("Reader was released");Z(a,C)}(this)}}function K(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_readRequests")&&a instanceof ReadableStreamDefaultReader)}function Z(a,C){const q=a._readRequests;a._readRequests=new S,q.forEach((a=>{a._errorSteps(C)}))}function ee(a){return new TypeError(`ReadableStreamDefaultReader.prototype.${a} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(ReadableStreamDefaultReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(ReadableStreamDefaultReader.prototype.cancel,"cancel"),n(ReadableStreamDefaultReader.prototype.read,"read"),n(ReadableStreamDefaultReader.prototype.releaseLock,"releaseLock"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(ReadableStreamDefaultReader.prototype,Kr.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});class te{constructor(a,C){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=a,this._preventCancel=C}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?p(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(a){const t=()=>this._returnSteps(a);return this._ongoingPromise?p(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const a=this._reader;return void 0===a?d(k("iterate")):f(a.read(),(a=>{var C;return this._ongoingPromise=void 0,a.done&&(this._isFinished=!0,null===(C=this._reader)||void 0===C||C.releaseLock(),this._reader=void 0),a}),(a=>{var C;throw this._ongoingPromise=void 0,this._isFinished=!0,null===(C=this._reader)||void 0===C||C.releaseLock(),this._reader=void 0,a}))}_returnSteps(a){if(this._isFinished)return Promise.resolve({value:a,done:!0});this._isFinished=!0;const C=this._reader;if(void 0===C)return d(k("finish iterating"));if(this._reader=void 0,!this._preventCancel){const q=C.cancel(a);return C.releaseLock(),p(q,(()=>({value:a,done:!0})))}return C.releaseLock(),c({value:a,done:!0})}}const sn={next(){return oe(this)?this._asyncIteratorImpl.next():d(ne("next"))},return(a){return oe(this)?this._asyncIteratorImpl.return(a):d(ne("return"))}};function oe(a){if(!r(a))return!1;if(!Object.prototype.hasOwnProperty.call(a,"_asyncIteratorImpl"))return!1;try{return a._asyncIteratorImpl instanceof te}catch(a){return!1}}function ne(a){return new TypeError(`ReadableStreamAsyncIterator.${a} can only be used on a ReadableSteamAsyncIterator`)}"symbol"==typeof Kr.asyncIterator&&Object.defineProperty(sn,Kr.asyncIterator,{value(){return this},writable:!0,configurable:!0});const an=Number.isNaN||function(a){return a!=a};function ie(a,C,q,re,ae){new Uint8Array(a).set(new Uint8Array(q,re,ae),C)}function le(a){const C=function(a,C,q){if(a.slice)return a.slice(C,q);const re=q-C,ae=new ArrayBuffer(re);return ie(ae,0,a,C,re),ae}(a.buffer,a.byteOffset,a.byteOffset+a.byteLength);return new Uint8Array(C)}function se(a){const C=a._queue.shift();return a._queueTotalSize-=C.size,a._queueTotalSize<0&&(a._queueTotalSize=0),C.value}function ue(a,C,q){if("number"!=typeof(re=q)||an(re)||re<0||q===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var re;a._queue.push({value:C,size:q}),a._queueTotalSize+=q}function ce(a){a._queue=new S,a._queueTotalSize=0}class ReadableStreamBYOBRequest{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!fe(this))throw Be("view");return this._view}respond(a){if(!fe(this))throw Be("respond");if($(a,1,"respond"),a=N(a,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(a,C){const q=a._pendingPullIntos.peek();if("closed"===a._controlledReadableByteStream._state){if(0!==C)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===C)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(q.bytesFilled+C>q.byteLength)throw new RangeError("bytesWritten out of range")}q.buffer=q.buffer,qe(a,C)}(this._associatedReadableByteStreamController,a)}respondWithNewView(a){if(!fe(this))throw Be("respondWithNewView");if($(a,1,"respondWithNewView"),!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");a.buffer,function(a,C){const q=a._pendingPullIntos.peek();if("closed"===a._controlledReadableByteStream._state){if(0!==C.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===C.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(q.byteOffset+q.bytesFilled!==C.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(q.bufferByteLength!==C.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(q.bytesFilled+C.byteLength>q.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const re=C.byteLength;q.buffer=C.buffer,qe(a,re)}(this._associatedReadableByteStreamController,a)}}Object.defineProperties(ReadableStreamBYOBRequest.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),n(ReadableStreamBYOBRequest.prototype.respond,"respond"),n(ReadableStreamBYOBRequest.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(ReadableStreamBYOBRequest.prototype,Kr.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ReadableByteStreamController{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!de(this))throw Ae("byobRequest");return function(a){if(null===a._byobRequest&&a._pendingPullIntos.length>0){const C=a._pendingPullIntos.peek(),q=new Uint8Array(C.buffer,C.byteOffset+C.bytesFilled,C.byteLength-C.bytesFilled),re=Object.create(ReadableStreamBYOBRequest.prototype);!function(a,C,q){a._associatedReadableByteStreamController=C,a._view=q}(re,a,q),a._byobRequest=re}return a._byobRequest}(this)}get desiredSize(){if(!de(this))throw Ae("desiredSize");return ke(this)}close(){if(!de(this))throw Ae("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const a=this._controlledReadableByteStream._state;if("readable"!==a)throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be closed`);!function(a){const C=a._controlledReadableByteStream;if(a._closeRequested||"readable"!==C._state)return;if(a._queueTotalSize>0)return void(a._closeRequested=!0);if(a._pendingPullIntos.length>0){if(a._pendingPullIntos.peek().bytesFilled>0){const C=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Pe(a,C),C}}Ee(a),Xt(C)}(this)}enqueue(a){if(!de(this))throw Ae("enqueue");if($(a,1,"enqueue"),!ArrayBuffer.isView(a))throw new TypeError("chunk must be an array buffer view");if(0===a.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===a.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const C=this._controlledReadableByteStream._state;if("readable"!==C)throw new TypeError(`The stream (in ${C} state) is not in the readable state and cannot be enqueued to`);!function(a,C){const q=a._controlledReadableByteStream;if(a._closeRequested||"readable"!==q._state)return;const re=C.buffer,ae=C.byteOffset,Ue=C.byteLength,Pt=re;if(a._pendingPullIntos.length>0){const C=a._pendingPullIntos.peek();C.buffer,0,Re(a),C.buffer=C.buffer,"none"===C.readerType&&ge(a,C)}if(J(q))if(function(a){const C=a._controlledReadableByteStream._reader;for(;C._readRequests.length>0;){if(0===a._queueTotalSize)return;We(a,C._readRequests.shift())}}(a),0===X(q))me(a,Pt,ae,Ue);else{a._pendingPullIntos.length>0&&Ce(a);G(q,new Uint8Array(Pt,ae,Ue),!1)}else Le(q)?(me(a,Pt,ae,Ue),Te(a)):me(a,Pt,ae,Ue);be(a)}(this,a)}error(a){if(!de(this))throw Ae("error");Pe(this,a)}[en](a){he(this),ce(this);const C=this._cancelAlgorithm(a);return Ee(this),C}[tn](a){const C=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void We(this,a);const q=this._autoAllocateChunkSize;if(void 0!==q){let re;try{re=new ArrayBuffer(q)}catch(C){return void a._errorSteps(C)}const ae={buffer:re,bufferByteLength:q,byteOffset:0,byteLength:q,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(ae)}U(C,a),be(this)}[rn](){if(this._pendingPullIntos.length>0){const a=this._pendingPullIntos.peek();a.readerType="none",this._pendingPullIntos=new S,this._pendingPullIntos.push(a)}}}function de(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_controlledReadableByteStream")&&a instanceof ReadableByteStreamController)}function fe(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")&&a instanceof ReadableStreamBYOBRequest)}function be(a){const C=function(a){const C=a._controlledReadableByteStream;if("readable"!==C._state)return!1;if(a._closeRequested)return!1;if(!a._started)return!1;if(J(C)&&X(C)>0)return!0;if(Le(C)&&ze(C)>0)return!0;if(ke(a)>0)return!0;return!1}(a);if(!C)return;if(a._pulling)return void(a._pullAgain=!0);a._pulling=!0;b(a._pullAlgorithm(),(()=>(a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,be(a)),null)),(C=>(Pe(a,C),null)))}function he(a){Re(a),a._pendingPullIntos=new S}function _e(a,C){let q=!1;"closed"===a._state&&(q=!0);const re=pe(C);"default"===C.readerType?G(a,re,q):function(a,C,q){const re=a._reader._readIntoRequests.shift();q?re._closeSteps(C):re._chunkSteps(C)}(a,re,q)}function pe(a){const C=a.bytesFilled,q=a.elementSize;return new a.viewConstructor(a.buffer,a.byteOffset,C/q)}function me(a,C,q,re){a._queue.push({buffer:C,byteOffset:q,byteLength:re}),a._queueTotalSize+=re}function ye(a,C,q,re){let ae;try{ae=C.slice(q,q+re)}catch(C){throw Pe(a,C),C}me(a,ae,0,re)}function ge(a,C){C.bytesFilled>0&&ye(a,C.buffer,C.byteOffset,C.bytesFilled),Ce(a)}function we(a,C){const q=C.elementSize,re=C.bytesFilled-C.bytesFilled%q,ae=Math.min(a._queueTotalSize,C.byteLength-C.bytesFilled),Ue=C.bytesFilled+ae,Pt=Ue-Ue%q;let Wt=ae,Er=!1;Pt>re&&(Wt=Pt-C.bytesFilled,Er=!0);const Ar=a._queue;for(;Wt>0;){const q=Ar.peek(),re=Math.min(Wt,q.byteLength),ae=C.byteOffset+C.bytesFilled;ie(C.buffer,ae,q.buffer,q.byteOffset,re),q.byteLength===re?Ar.shift():(q.byteOffset+=re,q.byteLength-=re),a._queueTotalSize-=re,Se(a,re,C),Wt-=re}return Er}function Se(a,C,q){q.bytesFilled+=C}function ve(a){0===a._queueTotalSize&&a._closeRequested?(Ee(a),Xt(a._controlledReadableByteStream)):be(a)}function Re(a){null!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=null,a._byobRequest=null)}function Te(a){for(;a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;const C=a._pendingPullIntos.peek();we(a,C)&&(Ce(a),_e(a._controlledReadableByteStream,C))}}function qe(a,C){const q=a._pendingPullIntos.peek();Re(a);"closed"===a._controlledReadableByteStream._state?function(a,C){"none"===C.readerType&&Ce(a);const q=a._controlledReadableByteStream;if(Le(q))for(;ze(q)>0;)_e(q,Ce(a))}(a,q):function(a,C,q){if(Se(0,C,q),"none"===q.readerType)return ge(a,q),void Te(a);if(q.bytesFilled<q.elementSize)return;Ce(a);const re=q.bytesFilled%q.elementSize;if(re>0){const C=q.byteOffset+q.bytesFilled;ye(a,q.buffer,C-re,re)}q.bytesFilled-=re,_e(a._controlledReadableByteStream,q),Te(a)}(a,C,q),be(a)}function Ce(a){return a._pendingPullIntos.shift()}function Ee(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0}function Pe(a,C){const q=a._controlledReadableByteStream;"readable"===q._state&&(he(a),ce(a),Ee(a),Jt(q,C))}function We(a,C){const q=a._queue.shift();a._queueTotalSize-=q.byteLength,ve(a);const re=new Uint8Array(q.buffer,q.byteOffset,q.byteLength);C._chunkSteps(re)}function ke(a){const C=a._controlledReadableByteStream._state;return"errored"===C?null:"closed"===C?0:a._strategyHWM-a._queueTotalSize}function Oe(a,C,q){const re=Object.create(ReadableByteStreamController.prototype);let ae,Ue,Pt;ae=void 0!==C.start?()=>C.start(re):()=>{},Ue=void 0!==C.pull?()=>C.pull(re):()=>c(void 0),Pt=void 0!==C.cancel?a=>C.cancel(a):()=>c(void 0);const Wt=C.autoAllocateChunkSize;if(0===Wt)throw new TypeError("autoAllocateChunkSize must be greater than 0");!function(a,C,q,re,ae,Ue,Pt){C._controlledReadableByteStream=a,C._pullAgain=!1,C._pulling=!1,C._byobRequest=null,C._queue=C._queueTotalSize=void 0,ce(C),C._closeRequested=!1,C._started=!1,C._strategyHWM=Ue,C._pullAlgorithm=re,C._cancelAlgorithm=ae,C._autoAllocateChunkSize=Pt,C._pendingPullIntos=new S,a._readableStreamController=C,b(c(q()),(()=>(C._started=!0,be(C),null)),(a=>(Pe(C,a),null)))}(a,re,ae,Ue,Pt,q,Wt)}function Be(a){return new TypeError(`ReadableStreamBYOBRequest.prototype.${a} can only be used on a ReadableStreamBYOBRequest`)}function Ae(a){return new TypeError(`ReadableByteStreamController.prototype.${a} can only be used on a ReadableByteStreamController`)}function je(a,C){a._reader._readIntoRequests.push(C)}function ze(a){return a._reader._readIntoRequests.length}function Le(a){const C=a._reader;return void 0!==C&&!!Fe(C)}Object.defineProperties(ReadableByteStreamController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),n(ReadableByteStreamController.prototype.close,"close"),n(ReadableByteStreamController.prototype.enqueue,"enqueue"),n(ReadableByteStreamController.prototype.error,"error"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(ReadableByteStreamController.prototype,Kr.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ReadableStreamBYOBReader{constructor(a){if($(a,1,"ReadableStreamBYOBReader"),V(a,"First parameter"),Ut(a))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!de(a._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,a),this._readIntoRequests=new S}get closed(){return Fe(this)?this._closedPromise:d(De("closed"))}cancel(a){return Fe(this)?void 0===this._ownerReadableStream?d(k("cancel")):P(this,a):d(De("cancel"))}read(a){if(!Fe(this))return d(De("read"));if(!ArrayBuffer.isView(a))return d(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return d(new TypeError("view must have non-zero byteLength"));if(0===a.buffer.byteLength)return d(new TypeError("view's buffer must have non-zero byteLength"));if(a.buffer,void 0===this._ownerReadableStream)return d(k("read from"));let C,q;const re=u(((a,re)=>{C=a,q=re}));return function(a,C,q){const re=a._ownerReadableStream;re._disturbed=!0,"errored"===re._state?q._errorSteps(re._storedError):function(a,C,q){const re=a._controlledReadableByteStream;let ae=1;C.constructor!==DataView&&(ae=C.constructor.BYTES_PER_ELEMENT);const Ue=C.constructor,Pt=C.buffer,Wt={buffer:Pt,bufferByteLength:Pt.byteLength,byteOffset:C.byteOffset,byteLength:C.byteLength,bytesFilled:0,elementSize:ae,viewConstructor:Ue,readerType:"byob"};if(a._pendingPullIntos.length>0)return a._pendingPullIntos.push(Wt),void je(re,q);if("closed"!==re._state){if(a._queueTotalSize>0){if(we(a,Wt)){const C=pe(Wt);return ve(a),void q._chunkSteps(C)}if(a._closeRequested){const C=new TypeError("Insufficient bytes to fill elements in the given buffer");return Pe(a,C),void q._errorSteps(C)}}a._pendingPullIntos.push(Wt),je(re,q),be(a)}else{const a=new Ue(Wt.buffer,Wt.byteOffset,0);q._closeSteps(a)}}(re._readableStreamController,C,q)}(this,a,{_chunkSteps:a=>C({value:a,done:!1}),_closeSteps:a=>C({value:a,done:!0}),_errorSteps:a=>q(a)}),re}releaseLock(){if(!Fe(this))throw De("releaseLock");void 0!==this._ownerReadableStream&&function(a){W(a);const C=new TypeError("Reader was released");Ie(a,C)}(this)}}function Fe(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")&&a instanceof ReadableStreamBYOBReader)}function Ie(a,C){const q=a._readIntoRequests;a._readIntoRequests=new S,q.forEach((a=>{a._errorSteps(C)}))}function De(a){return new TypeError(`ReadableStreamBYOBReader.prototype.${a} can only be used on a ReadableStreamBYOBReader`)}function $e(a,C){const{highWaterMark:q}=a;if(void 0===q)return C;if(an(q)||q<0)throw new RangeError("Invalid highWaterMark");return q}function Me(a){const{size:C}=a;return C||(()=>1)}function Ye(a,C){F(a,C);const q=null==a?void 0:a.highWaterMark,re=null==a?void 0:a.size;return{highWaterMark:void 0===q?void 0:Y(q),size:void 0===re?void 0:Qe(re,`${C} has member 'size' that`)}}function Qe(a,C){return I(a,C),C=>Y(a(C))}function Ne(a,C,q){return I(a,q),q=>w(a,C,[q])}function He(a,C,q){return I(a,q),()=>w(a,C,[])}function xe(a,C,q){return I(a,q),q=>g(a,C,[q])}function Ve(a,C,q){return I(a,q),(q,re)=>w(a,C,[q,re])}Object.defineProperties(ReadableStreamBYOBReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(ReadableStreamBYOBReader.prototype.cancel,"cancel"),n(ReadableStreamBYOBReader.prototype.read,"read"),n(ReadableStreamBYOBReader.prototype.releaseLock,"releaseLock"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(ReadableStreamBYOBReader.prototype,Kr.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const cn="function"==typeof AbortController;class WritableStream{constructor(a={},C={}){void 0===a?a=null:D(a,"First parameter");const q=Ye(C,"Second parameter"),re=function(a,C){F(a,C);const q=null==a?void 0:a.abort,re=null==a?void 0:a.close,ae=null==a?void 0:a.start,Ue=null==a?void 0:a.type,Pt=null==a?void 0:a.write;return{abort:void 0===q?void 0:Ne(q,a,`${C} has member 'abort' that`),close:void 0===re?void 0:He(re,a,`${C} has member 'close' that`),start:void 0===ae?void 0:xe(ae,a,`${C} has member 'start' that`),write:void 0===Pt?void 0:Ve(Pt,a,`${C} has member 'write' that`),type:Ue}}(a,"First parameter");var ae;(ae=this)._state="writable",ae._storedError=void 0,ae._writer=void 0,ae._writableStreamController=void 0,ae._writeRequests=new S,ae._inFlightWriteRequest=void 0,ae._closeRequest=void 0,ae._inFlightCloseRequest=void 0,ae._pendingAbortRequest=void 0,ae._backpressure=!1;if(void 0!==re.type)throw new RangeError("Invalid type is specified");const Ue=Me(q);!function(a,C,q,re){const ae=Object.create(WritableStreamDefaultController.prototype);let Ue,Pt,Wt,Er;Ue=void 0!==C.start?()=>C.start(ae):()=>{};Pt=void 0!==C.write?a=>C.write(a,ae):()=>c(void 0);Wt=void 0!==C.close?()=>C.close():()=>c(void 0);Er=void 0!==C.abort?a=>C.abort(a):()=>c(void 0);!function(a,C,q,re,ae,Ue,Pt,Wt){C._controlledWritableStream=a,a._writableStreamController=C,C._queue=void 0,C._queueTotalSize=void 0,ce(C),C._abortReason=void 0,C._abortController=function(){if(cn)return new AbortController}(),C._started=!1,C._strategySizeAlgorithm=Wt,C._strategyHWM=Pt,C._writeAlgorithm=re,C._closeAlgorithm=ae,C._abortAlgorithm=Ue;const Er=bt(C);nt(a,Er);const Ar=q();b(c(Ar),(()=>(C._started=!0,dt(C),null)),(q=>(C._started=!0,Ze(a,q),null)))}(a,ae,Ue,Pt,Wt,Er,q,re)}(this,re,$e(q,1),Ue)}get locked(){if(!Ge(this))throw _t("locked");return Xe(this)}abort(a){return Ge(this)?Xe(this)?d(new TypeError("Cannot abort a stream that already has a writer")):Je(this,a):d(_t("abort"))}close(){return Ge(this)?Xe(this)?d(new TypeError("Cannot close a stream that already has a writer")):rt(this)?d(new TypeError("Cannot close an already-closing stream")):Ke(this):d(_t("close"))}getWriter(){if(!Ge(this))throw _t("getWriter");return new WritableStreamDefaultWriter(this)}}function Ge(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")&&a instanceof WritableStream)}function Xe(a){return void 0!==a._writer}function Je(a,C){var q;if("closed"===a._state||"errored"===a._state)return c(void 0);a._writableStreamController._abortReason=C,null===(q=a._writableStreamController._abortController)||void 0===q||q.abort(C);const re=a._state;if("closed"===re||"errored"===re)return c(void 0);if(void 0!==a._pendingAbortRequest)return a._pendingAbortRequest._promise;let ae=!1;"erroring"===re&&(ae=!0,C=void 0);const Ue=u(((q,re)=>{a._pendingAbortRequest={_promise:void 0,_resolve:q,_reject:re,_reason:C,_wasAlreadyErroring:ae}}));return a._pendingAbortRequest._promise=Ue,ae||et(a,C),Ue}function Ke(a){const C=a._state;if("closed"===C||"errored"===C)return d(new TypeError(`The stream (in ${C} state) is not in the writable state and cannot be closed`));const q=u(((C,q)=>{const re={_resolve:C,_reject:q};a._closeRequest=re})),re=a._writer;var ae;return void 0!==re&&a._backpressure&&"writable"===C&&Et(re),ue(ae=a._writableStreamController,un,0),dt(ae),q}function Ze(a,C){"writable"!==a._state?tt(a):et(a,C)}function et(a,C){const q=a._writableStreamController;a._state="erroring",a._storedError=C;const re=a._writer;void 0!==re&&it(re,C),!function(a){if(void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest)return!1;return!0}(a)&&q._started&&tt(a)}function tt(a){a._state="errored",a._writableStreamController[Qr]();const C=a._storedError;if(a._writeRequests.forEach((a=>{a._reject(C)})),a._writeRequests=new S,void 0===a._pendingAbortRequest)return void ot(a);const q=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,q._wasAlreadyErroring)return q._reject(C),void ot(a);b(a._writableStreamController[Zr](q._reason),(()=>(q._resolve(),ot(a),null)),(C=>(q._reject(C),ot(a),null)))}function rt(a){return void 0!==a._closeRequest||void 0!==a._inFlightCloseRequest}function ot(a){void 0!==a._closeRequest&&(a._closeRequest._reject(a._storedError),a._closeRequest=void 0);const C=a._writer;void 0!==C&&St(C,a._storedError)}function nt(a,C){const q=a._writer;void 0!==q&&C!==a._backpressure&&(C?function(a){Rt(a)}(q):Et(q)),a._backpressure=C}Object.defineProperties(WritableStream.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),n(WritableStream.prototype.abort,"abort"),n(WritableStream.prototype.close,"close"),n(WritableStream.prototype.getWriter,"getWriter"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(WritableStream.prototype,Kr.toStringTag,{value:"WritableStream",configurable:!0});class WritableStreamDefaultWriter{constructor(a){if($(a,1,"WritableStreamDefaultWriter"),function(a,C){if(!Ge(a))throw new TypeError(`${C} is not a WritableStream.`)}(a,"First parameter"),Xe(a))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=a,a._writer=this;const C=a._state;if("writable"===C)!rt(a)&&a._backpressure?Rt(this):qt(this),gt(this);else if("erroring"===C)Tt(this,a._storedError),gt(this);else if("closed"===C)qt(this),gt(q=this),vt(q);else{const C=a._storedError;Tt(this,C),wt(this,C)}var q}get closed(){return at(this)?this._closedPromise:d(mt("closed"))}get desiredSize(){if(!at(this))throw mt("desiredSize");if(void 0===this._ownerWritableStream)throw yt("desiredSize");return function(a){const C=a._ownerWritableStream,q=C._state;if("errored"===q||"erroring"===q)return null;if("closed"===q)return 0;return ct(C._writableStreamController)}(this)}get ready(){return at(this)?this._readyPromise:d(mt("ready"))}abort(a){return at(this)?void 0===this._ownerWritableStream?d(yt("abort")):function(a,C){return Je(a._ownerWritableStream,C)}(this,a):d(mt("abort"))}close(){if(!at(this))return d(mt("close"));const a=this._ownerWritableStream;return void 0===a?d(yt("close")):rt(a)?d(new TypeError("Cannot close an already-closing stream")):Ke(this._ownerWritableStream)}releaseLock(){if(!at(this))throw mt("releaseLock");void 0!==this._ownerWritableStream&&function(a){const C=a._ownerWritableStream,q=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");it(a,q),function(a,C){"pending"===a._closedPromiseState?St(a,C):function(a,C){wt(a,C)}(a,C)}(a,q),C._writer=void 0,a._ownerWritableStream=void 0}(this)}write(a){return at(this)?void 0===this._ownerWritableStream?d(yt("write to")):function(a,C){const q=a._ownerWritableStream,re=q._writableStreamController,ae=function(a,C){try{return a._strategySizeAlgorithm(C)}catch(C){return ft(a,C),1}}(re,C);if(q!==a._ownerWritableStream)return d(yt("write to"));const Ue=q._state;if("errored"===Ue)return d(q._storedError);if(rt(q)||"closed"===Ue)return d(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===Ue)return d(q._storedError);const Pt=function(a){return u(((C,q)=>{const re={_resolve:C,_reject:q};a._writeRequests.push(re)}))}(q);return function(a,C,q){try{ue(a,C,q)}catch(C){return void ft(a,C)}const re=a._controlledWritableStream;if(!rt(re)&&"writable"===re._state){nt(re,bt(a))}dt(a)}(re,C,ae),Pt}(this,a):d(mt("write"))}}function at(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")&&a instanceof WritableStreamDefaultWriter)}function it(a,C){"pending"===a._readyPromiseState?Ct(a,C):function(a,C){Tt(a,C)}(a,C)}Object.defineProperties(WritableStreamDefaultWriter.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),n(WritableStreamDefaultWriter.prototype.abort,"abort"),n(WritableStreamDefaultWriter.prototype.close,"close"),n(WritableStreamDefaultWriter.prototype.releaseLock,"releaseLock"),n(WritableStreamDefaultWriter.prototype.write,"write"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(WritableStreamDefaultWriter.prototype,Kr.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const un={};class WritableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!st(this))throw pt("abortReason");return this._abortReason}get signal(){if(!st(this))throw pt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(a){if(!st(this))throw pt("error");"writable"===this._controlledWritableStream._state&&ht(this,a)}[Zr](a){const C=this._abortAlgorithm(a);return ut(this),C}[Qr](){ce(this)}}function st(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_controlledWritableStream")&&a instanceof WritableStreamDefaultController)}function ut(a){a._writeAlgorithm=void 0,a._closeAlgorithm=void 0,a._abortAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function ct(a){return a._strategyHWM-a._queueTotalSize}function dt(a){const C=a._controlledWritableStream;if(!a._started)return;if(void 0!==C._inFlightWriteRequest)return;if("erroring"===C._state)return void tt(C);if(0===a._queue.length)return;const q=a._queue.peek().value;q===un?function(a){const C=a._controlledWritableStream;(function(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0})(C),se(a);const q=a._closeAlgorithm();ut(a),b(q,(()=>(function(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,"erroring"===a._state&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";const C=a._writer;void 0!==C&&vt(C)}(C),null)),(a=>(function(a,C){a._inFlightCloseRequest._reject(C),a._inFlightCloseRequest=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(C),a._pendingAbortRequest=void 0),Ze(a,C)}(C,a),null)))}(a):function(a,C){const q=a._controlledWritableStream;!function(a){a._inFlightWriteRequest=a._writeRequests.shift()}(q);b(a._writeAlgorithm(C),(()=>{!function(a){a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}(q);const C=q._state;if(se(a),!rt(q)&&"writable"===C){const C=bt(a);nt(q,C)}return dt(a),null}),(C=>("writable"===q._state&&ut(a),function(a,C){a._inFlightWriteRequest._reject(C),a._inFlightWriteRequest=void 0,Ze(a,C)}(q,C),null)))}(a,q)}function ft(a,C){"writable"===a._controlledWritableStream._state&&ht(a,C)}function bt(a){return ct(a)<=0}function ht(a,C){const q=a._controlledWritableStream;ut(a),et(q,C)}function _t(a){return new TypeError(`WritableStream.prototype.${a} can only be used on a WritableStream`)}function pt(a){return new TypeError(`WritableStreamDefaultController.prototype.${a} can only be used on a WritableStreamDefaultController`)}function mt(a){return new TypeError(`WritableStreamDefaultWriter.prototype.${a} can only be used on a WritableStreamDefaultWriter`)}function yt(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function gt(a){a._closedPromise=u(((C,q)=>{a._closedPromise_resolve=C,a._closedPromise_reject=q,a._closedPromiseState="pending"}))}function wt(a,C){gt(a),St(a,C)}function St(a,C){void 0!==a._closedPromise_reject&&(m(a._closedPromise),a._closedPromise_reject(C),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected")}function vt(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved")}function Rt(a){a._readyPromise=u(((C,q)=>{a._readyPromise_resolve=C,a._readyPromise_reject=q})),a._readyPromiseState="pending"}function Tt(a,C){Rt(a),Ct(a,C)}function qt(a){Rt(a),Et(a)}function Ct(a,C){void 0!==a._readyPromise_reject&&(m(a._readyPromise),a._readyPromise_reject(C),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected")}function Et(a){void 0!==a._readyPromise_resolve&&(a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled")}Object.defineProperties(WritableStreamDefaultController.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(WritableStreamDefaultController.prototype,Kr.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const dn="undefined"!=typeof DOMException?DOMException:void 0;const ln=function(a){if("function"!=typeof a&&"object"!=typeof a)return!1;try{return new a,!0}catch(a){return!1}}(dn)?dn:function(){const e=function(a,C){this.message=a||"",this.name=C||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function kt(a,C,q,re,ae,Ue){const Pt=a.getReader(),Wt=C.getWriter();Vt(a)&&(a._disturbed=!0);let Er,Ar,xr,kr=!1,Pr=!1,Br="readable",Mr="writable",Or=!1,Ir=!1;const Nr=u((a=>{xr=a}));let jr=Promise.resolve(void 0);return u(((Lr,Dr)=>{let Hr;function O(){if(kr)return;const a=u(((a,C)=>{!function r(q){q?a():f(function(){if(kr)return c(!0);return f(Wt.ready,(()=>f(Pt.read(),(a=>!!a.done||(jr=Wt.write(a.value),m(jr),!1)))))}(),r,C)}(!1)}));m(a)}function B(){return Br="closed",q?L():z((()=>(Ge(C)&&(Or=rt(C),Mr=C._state),Or||"closed"===Mr?c(void 0):"erroring"===Mr||"errored"===Mr?d(Ar):(Or=!0,Wt.close()))),!1,void 0),null}function A(a){return kr||(Br="errored",Er=a,re?L(!0,a):z((()=>Wt.abort(a)),!0,a)),null}function j(a){return Pr||(Mr="errored",Ar=a,ae?L(!0,a):z((()=>Pt.cancel(a)),!0,a)),null}if(void 0!==Ue&&(Hr=()=>{const a=void 0!==Ue.reason?Ue.reason:new ln("Aborted","AbortError"),C=[];re||C.push((()=>"writable"===Mr?Wt.abort(a):c(void 0))),ae||C.push((()=>"readable"===Br?Pt.cancel(a):c(void 0))),z((()=>Promise.all(C.map((a=>a())))),!0,a)},Ue.aborted?Hr():Ue.addEventListener("abort",Hr)),Vt(a)&&(Br=a._state,Er=a._storedError),Ge(C)&&(Mr=C._state,Ar=C._storedError,Or=rt(C)),Vt(a)&&Ge(C)&&(Ir=!0,xr()),"errored"===Br)A(Er);else if("erroring"===Mr||"errored"===Mr)j(Ar);else if("closed"===Br)B();else if(Or||"closed"===Mr){const a=new TypeError("the destination writable stream closed before all data could be piped to it");ae?L(!0,a):z((()=>Pt.cancel(a)),!0,a)}function z(a,C,q){function o(){return"writable"!==Mr||Or?n():h(function(){let a;return c(function t(){if(a!==jr)return a=jr,p(jr,t,t)}())}(),n),null}function n(){return a?b(a(),(()=>F(C,q)),(a=>F(!0,a))):F(C,q),null}kr||(kr=!0,Ir?o():h(Nr,o))}function L(a,C){z(void 0,a,C)}function F(a,C){return Pr=!0,Wt.releaseLock(),Pt.releaseLock(),void 0!==Ue&&Ue.removeEventListener("abort",Hr),a?Dr(C):Lr(void 0),null}kr||(b(Pt.closed,B,A),b(Wt.closed,(function(){return Pr||(Mr="closed"),null}),j)),Ir?O():y((()=>{Ir=!0,xr(),O()}))}))}function Ot(a,C){return function(a){try{return a.getReader({mode:"byob"}).releaseLock(),!0}catch(a){return!1}}(a)?function(a){let C,q,re,ae,Ue,Pt=a.getReader(),Wt=!1,Er=!1,Ar=!1,xr=!1,kr=!1,Pr=!1;const Br=u((a=>{Ue=a}));function y(a){_(a.closed,(C=>(a!==Pt||(re.error(C),ae.error(C),kr&&Pr||Ue(void 0)),null)))}function g(){Wt&&(Pt.releaseLock(),Pt=a.getReader(),y(Pt),Wt=!1),b(Pt.read(),(a=>{var C,q;if(Ar=!1,xr=!1,a.done)return kr||re.close(),Pr||ae.close(),null===(C=re.byobRequest)||void 0===C||C.respond(0),null===(q=ae.byobRequest)||void 0===q||q.respond(0),kr&&Pr||Ue(void 0),null;const Wt=a.value,Br=Wt;let Mr=Wt;if(!kr&&!Pr)try{Mr=le(Wt)}catch(a){return re.error(a),ae.error(a),Ue(Pt.cancel(a)),null}return kr||re.enqueue(Br),Pr||ae.enqueue(Mr),Er=!1,Ar?S():xr&&v(),null}),(()=>(Er=!1,null)))}function w(C,q){Wt||(Pt.releaseLock(),Pt=a.getReader({mode:"byob"}),y(Pt),Wt=!0);const Br=q?ae:re,Mr=q?re:ae;b(Pt.read(C),(a=>{var C;Ar=!1,xr=!1;const re=q?Pr:kr,ae=q?kr:Pr;if(a.done){re||Br.close(),ae||Mr.close();const q=a.value;return void 0!==q&&(re||Br.byobRequest.respondWithNewView(q),ae||null===(C=Mr.byobRequest)||void 0===C||C.respond(0)),re&&ae||Ue(void 0),null}const Wt=a.value;if(ae)re||Br.byobRequest.respondWithNewView(Wt);else{let C;try{C=le(Wt)}catch(a){return Br.error(a),Mr.error(a),Ue(Pt.cancel(a)),null}re||Br.byobRequest.respondWithNewView(Wt),Mr.enqueue(C)}return Er=!1,Ar?S():xr&&v(),null}),(()=>(Er=!1,null)))}function S(){if(Er)return Ar=!0,c(void 0);Er=!0;const a=re.byobRequest;return null===a?g():w(a.view,!1),c(void 0)}function v(){if(Er)return xr=!0,c(void 0);Er=!0;const a=ae.byobRequest;return null===a?g():w(a.view,!0),c(void 0)}function R(a){if(kr=!0,C=a,Pr){const a=[C,q],re=Pt.cancel(a);Ue(re)}return Br}function T(a){if(Pr=!0,q=a,kr){const a=[C,q],re=Pt.cancel(a);Ue(re)}return Br}const Mr=new ReadableStream({type:"bytes",start(a){re=a},pull:S,cancel:R}),Or=new ReadableStream({type:"bytes",start(a){ae=a},pull:v,cancel:T});return y(Pt),[Mr,Or]}(a):function(a,C){const q=a.getReader();let re,ae,Ue,Pt,Wt,Er=!1,Ar=!1,xr=!1,kr=!1;const Pr=u((a=>{Wt=a}));function m(){return Er?(Ar=!0,c(void 0)):(Er=!0,b(q.read(),(a=>{if(Ar=!1,a.done)return xr||Ue.close(),kr||Pt.close(),xr&&kr||Wt(void 0),null;const C=a.value,q=C,re=C;return xr||Ue.enqueue(q),kr||Pt.enqueue(re),Er=!1,Ar&&m(),null}),(()=>(Er=!1,null))),c(void 0))}function y(a){if(xr=!0,re=a,kr){const a=[re,ae],C=q.cancel(a);Wt(C)}return Pr}function g(a){if(kr=!0,ae=a,xr){const a=[re,ae],C=q.cancel(a);Wt(C)}return Pr}const Br=new ReadableStream({start(a){Ue=a},pull:m,cancel:y}),Mr=new ReadableStream({start(a){Pt=a},pull:m,cancel:g});return _(q.closed,(a=>(Ue.error(a),Pt.error(a),xr&&kr||Wt(void 0),null))),[Br,Mr]}(a)}class ReadableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Bt(this))throw Dt("desiredSize");return Lt(this)}close(){if(!Bt(this))throw Dt("close");if(!Ft(this))throw new TypeError("The stream is not in a state that permits close");!function(a){if(!Ft(a))return;const C=a._controlledReadableStream;a._closeRequested=!0,0===a._queue.length&&(jt(a),Xt(C))}(this)}enqueue(a){if(!Bt(this))throw Dt("enqueue");if(!Ft(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(a,C){if(!Ft(a))return;const q=a._controlledReadableStream;if(Ut(q)&&X(q)>0)G(q,C,!1);else{let q;try{q=a._strategySizeAlgorithm(C)}catch(C){throw zt(a,C),C}try{ue(a,C,q)}catch(C){throw zt(a,C),C}}At(a)}(this,a)}error(a){if(!Bt(this))throw Dt("error");zt(this,a)}[en](a){ce(this);const C=this._cancelAlgorithm(a);return jt(this),C}[tn](a){const C=this._controlledReadableStream;if(this._queue.length>0){const q=se(this);this._closeRequested&&0===this._queue.length?(jt(this),Xt(C)):At(this),a._chunkSteps(q)}else U(C,a),At(this)}[rn](){}}function Bt(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_controlledReadableStream")&&a instanceof ReadableStreamDefaultController)}function At(a){const C=function(a){const C=a._controlledReadableStream;if(!Ft(a))return!1;if(!a._started)return!1;if(Ut(C)&&X(C)>0)return!0;if(Lt(a)>0)return!0;return!1}(a);if(!C)return;if(a._pulling)return void(a._pullAgain=!0);a._pulling=!0;b(a._pullAlgorithm(),(()=>(a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,At(a)),null)),(C=>(zt(a,C),null)))}function jt(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function zt(a,C){const q=a._controlledReadableStream;"readable"===q._state&&(ce(a),jt(a),Jt(q,C))}function Lt(a){const C=a._controlledReadableStream._state;return"errored"===C?null:"closed"===C?0:a._strategyHWM-a._queueTotalSize}function Ft(a){return!a._closeRequested&&"readable"===a._controlledReadableStream._state}function It(a,C,q,re){const ae=Object.create(ReadableStreamDefaultController.prototype);let Ue,Pt,Wt;Ue=void 0!==C.start?()=>C.start(ae):()=>{},Pt=void 0!==C.pull?()=>C.pull(ae):()=>c(void 0),Wt=void 0!==C.cancel?a=>C.cancel(a):()=>c(void 0),function(a,C,q,re,ae,Ue,Pt){C._controlledReadableStream=a,C._queue=void 0,C._queueTotalSize=void 0,ce(C),C._started=!1,C._closeRequested=!1,C._pullAgain=!1,C._pulling=!1,C._strategySizeAlgorithm=Pt,C._strategyHWM=Ue,C._pullAlgorithm=re,C._cancelAlgorithm=ae,a._readableStreamController=C,b(c(q()),(()=>(C._started=!0,At(C),null)),(a=>(zt(C,a),null)))}(a,ae,Ue,Pt,Wt,q,re)}function Dt(a){return new TypeError(`ReadableStreamDefaultController.prototype.${a} can only be used on a ReadableStreamDefaultController`)}function $t(a,C,q){return I(a,q),q=>w(a,C,[q])}function Mt(a,C,q){return I(a,q),q=>w(a,C,[q])}function Yt(a,C,q){return I(a,q),q=>g(a,C,[q])}function Qt(a,C){if("bytes"!==(a=`${a}`))throw new TypeError(`${C} '${a}' is not a valid enumeration value for ReadableStreamType`);return a}function Nt(a,C){if("byob"!==(a=`${a}`))throw new TypeError(`${C} '${a}' is not a valid enumeration value for ReadableStreamReaderMode`);return a}function Ht(a,C){F(a,C);const q=null==a?void 0:a.preventAbort,re=null==a?void 0:a.preventCancel,ae=null==a?void 0:a.preventClose,Ue=null==a?void 0:a.signal;return void 0!==Ue&&function(a,C){if(!function(a){if("object"!=typeof a||null===a)return!1;try{return"boolean"==typeof a.aborted}catch(a){return!1}}(a))throw new TypeError(`${C} is not an AbortSignal.`)}(Ue,`${C} has member 'signal' that`),{preventAbort:Boolean(q),preventCancel:Boolean(re),preventClose:Boolean(ae),signal:Ue}}function xt(a,C){F(a,C);const q=null==a?void 0:a.readable;M(q,"readable","ReadableWritablePair"),function(a,C){if(!H(a))throw new TypeError(`${C} is not a ReadableStream.`)}(q,`${C} has member 'readable' that`);const re=null==a?void 0:a.writable;return M(re,"writable","ReadableWritablePair"),function(a,C){if(!x(a))throw new TypeError(`${C} is not a WritableStream.`)}(re,`${C} has member 'writable' that`),{readable:q,writable:re}}Object.defineProperties(ReadableStreamDefaultController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),n(ReadableStreamDefaultController.prototype.close,"close"),n(ReadableStreamDefaultController.prototype.enqueue,"enqueue"),n(ReadableStreamDefaultController.prototype.error,"error"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(ReadableStreamDefaultController.prototype,Kr.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ReadableStream{constructor(a={},C={}){void 0===a?a=null:D(a,"First parameter");const q=Ye(C,"Second parameter"),re=function(a,C){F(a,C);const q=a,re=null==q?void 0:q.autoAllocateChunkSize,ae=null==q?void 0:q.cancel,Ue=null==q?void 0:q.pull,Pt=null==q?void 0:q.start,Wt=null==q?void 0:q.type;return{autoAllocateChunkSize:void 0===re?void 0:N(re,`${C} has member 'autoAllocateChunkSize' that`),cancel:void 0===ae?void 0:$t(ae,q,`${C} has member 'cancel' that`),pull:void 0===Ue?void 0:Mt(Ue,q,`${C} has member 'pull' that`),start:void 0===Pt?void 0:Yt(Pt,q,`${C} has member 'start' that`),type:void 0===Wt?void 0:Qt(Wt,`${C} has member 'type' that`)}}(a,"First parameter");var ae;if((ae=this)._state="readable",ae._reader=void 0,ae._storedError=void 0,ae._disturbed=!1,"bytes"===re.type){if(void 0!==q.size)throw new RangeError("The strategy for a byte stream cannot have a size function");Oe(this,re,$e(q,0))}else{const a=Me(q);It(this,re,$e(q,1),a)}}get locked(){if(!Vt(this))throw Kt("locked");return Ut(this)}cancel(a){return Vt(this)?Ut(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):Gt(this,a):d(Kt("cancel"))}getReader(a){if(!Vt(this))throw Kt("getReader");return void 0===function(a,C){F(a,C);const q=null==a?void 0:a.mode;return{mode:void 0===q?void 0:Nt(q,`${C} has member 'mode' that`)}}(a,"First parameter").mode?new ReadableStreamDefaultReader(this):function(a){return new ReadableStreamBYOBReader(a)}(this)}pipeThrough(a,C={}){if(!H(this))throw Kt("pipeThrough");$(a,1,"pipeThrough");const q=xt(a,"First parameter"),re=Ht(C,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(q.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return m(kt(this,q.writable,re.preventClose,re.preventAbort,re.preventCancel,re.signal)),q.readable}pipeTo(a,C={}){if(!H(this))return d(Kt("pipeTo"));if(void 0===a)return d("Parameter 1 is required in 'pipeTo'.");if(!x(a))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let q;try{q=Ht(C,"Second parameter")}catch(a){return d(a)}return this.locked?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):a.locked?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):kt(this,a,q.preventClose,q.preventAbort,q.preventCancel,q.signal)}tee(){if(!H(this))throw Kt("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return Ot(this)}values(a){if(!H(this))throw Kt("values");return function(a,C){const q=a.getReader(),re=new te(q,C),ae=Object.create(sn);return ae._asyncIteratorImpl=re,ae}(this,function(a,C){F(a,C);const q=null==a?void 0:a.preventCancel;return{preventCancel:Boolean(q)}}(a,"First parameter").preventCancel)}}function Vt(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")&&a instanceof ReadableStream)}function Ut(a){return void 0!==a._reader}function Gt(a,C){if(a._disturbed=!0,"closed"===a._state)return c(void 0);if("errored"===a._state)return d(a._storedError);Xt(a);const q=a._reader;if(void 0!==q&&Fe(q)){const a=q._readIntoRequests;q._readIntoRequests=new S,a.forEach((a=>{a._closeSteps(void 0)}))}return p(a._readableStreamController[en](C),t)}function Xt(a){a._state="closed";const C=a._reader;if(void 0!==C&&(j(C),K(C))){const a=C._readRequests;C._readRequests=new S,a.forEach((a=>{a._closeSteps()}))}}function Jt(a,C){a._state="errored",a._storedError=C;const q=a._reader;void 0!==q&&(A(q,C),K(q)?Z(q,C):Ie(q,C))}function Kt(a){return new TypeError(`ReadableStream.prototype.${a} can only be used on a ReadableStream`)}function Zt(a,C){F(a,C);const q=null==a?void 0:a.highWaterMark;return M(q,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Y(q)}}Object.defineProperties(ReadableStream.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),n(ReadableStream.prototype.cancel,"cancel"),n(ReadableStream.prototype.getReader,"getReader"),n(ReadableStream.prototype.pipeThrough,"pipeThrough"),n(ReadableStream.prototype.pipeTo,"pipeTo"),n(ReadableStream.prototype.tee,"tee"),n(ReadableStream.prototype.values,"values"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(ReadableStream.prototype,Kr.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Kr.asyncIterator&&Object.defineProperty(ReadableStream.prototype,Kr.asyncIterator,{value:ReadableStream.prototype.values,writable:!0,configurable:!0});const er=a=>a.byteLength;n(er,"size");class ByteLengthQueuingStrategy{constructor(a){$(a,1,"ByteLengthQueuingStrategy"),a=Zt(a,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=a.highWaterMark}get highWaterMark(){if(!rr(this))throw tr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!rr(this))throw tr("size");return er}}function tr(a){return new TypeError(`ByteLengthQueuingStrategy.prototype.${a} can only be used on a ByteLengthQueuingStrategy`)}function rr(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_byteLengthQueuingStrategyHighWaterMark")&&a instanceof ByteLengthQueuingStrategy)}Object.defineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(ByteLengthQueuingStrategy.prototype,Kr.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const or=()=>1;n(or,"size");class CountQueuingStrategy{constructor(a){$(a,1,"CountQueuingStrategy"),a=Zt(a,"First parameter"),this._countQueuingStrategyHighWaterMark=a.highWaterMark}get highWaterMark(){if(!ar(this))throw nr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ar(this))throw nr("size");return or}}function nr(a){return new TypeError(`CountQueuingStrategy.prototype.${a} can only be used on a CountQueuingStrategy`)}function ar(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_countQueuingStrategyHighWaterMark")&&a instanceof CountQueuingStrategy)}function ir(a,C,q){return I(a,q),q=>w(a,C,[q])}function lr(a,C,q){return I(a,q),q=>g(a,C,[q])}function sr(a,C,q){return I(a,q),(q,re)=>w(a,C,[q,re])}Object.defineProperties(CountQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(CountQueuingStrategy.prototype,Kr.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class TransformStream{constructor(a={},C={},q={}){void 0===a&&(a=null);const re=Ye(C,"Second parameter"),ae=Ye(q,"Third parameter"),Ue=function(a,C){F(a,C);const q=null==a?void 0:a.flush,re=null==a?void 0:a.readableType,ae=null==a?void 0:a.start,Ue=null==a?void 0:a.transform,Pt=null==a?void 0:a.writableType;return{flush:void 0===q?void 0:ir(q,a,`${C} has member 'flush' that`),readableType:re,start:void 0===ae?void 0:lr(ae,a,`${C} has member 'start' that`),transform:void 0===Ue?void 0:sr(Ue,a,`${C} has member 'transform' that`),writableType:Pt}}(a,"First parameter");if(void 0!==Ue.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==Ue.writableType)throw new RangeError("Invalid writableType specified");const Pt=$e(ae,0),Wt=Me(ae),Er=$e(re,1),Ar=Me(re);let xr;!function(a,C,q,re,ae,Ue){function i(){return C}function l(C){return function(a,C){const q=a._transformStreamController;if(a._backpressure){return p(a._backpressureChangePromise,(()=>{if("erroring"===(Ge(a._writable)?a._writable._state:a._writableState))throw Ge(a._writable)?a._writable._storedError:a._writableStoredError;return pr(q,C)}))}return pr(q,C)}(a,C)}function s(C){return function(a,C){return cr(a,C),c(void 0)}(a,C)}function u(){return function(a){const C=a._transformStreamController,q=C._flushAlgorithm();return hr(C),p(q,(()=>{if("errored"===a._readableState)throw a._readableStoredError;gr(a)&&wr(a)}),(C=>{throw cr(a,C),a._readableStoredError}))}(a)}function d(){return function(a){return fr(a,!1),a._backpressureChangePromise}(a)}function f(C){return dr(a,C),c(void 0)}a._writableState="writable",a._writableStoredError=void 0,a._writableHasInFlightOperation=!1,a._writableStarted=!1,a._writable=function(a,C,q,re,ae,Ue,Pt){return new WritableStream({start(q){a._writableController=q;try{const C=q.signal;void 0!==C&&C.addEventListener("abort",(()=>{"writable"===a._writableState&&(a._writableState="erroring",C.reason&&(a._writableStoredError=C.reason))}))}catch(a){}return p(C(),(()=>(a._writableStarted=!0,Cr(a),null)),(C=>{throw a._writableStarted=!0,Rr(a,C),C}))},write:C=>(function(a){a._writableHasInFlightOperation=!0}(a),p(q(C),(()=>(function(a){a._writableHasInFlightOperation=!1}(a),Cr(a),null)),(C=>{throw function(a,C){a._writableHasInFlightOperation=!1,Rr(a,C)}(a,C),C}))),close:()=>(function(a){a._writableHasInFlightOperation=!0}(a),p(re(),(()=>(function(a){a._writableHasInFlightOperation=!1;"erroring"===a._writableState&&(a._writableStoredError=void 0);a._writableState="closed"}(a),null)),(C=>{throw function(a,C){a._writableHasInFlightOperation=!1,a._writableState,Rr(a,C)}(a,C),C}))),abort:C=>(a._writableState="errored",a._writableStoredError=C,ae(C))},{highWaterMark:Ue,size:Pt})}(a,i,l,u,s,q,re),a._readableState="readable",a._readableStoredError=void 0,a._readableCloseRequested=!1,a._readablePulling=!1,a._readable=function(a,C,q,re,ae,Ue){return new ReadableStream({start:q=>(a._readableController=q,C().catch((C=>{Sr(a,C)}))),pull:()=>(a._readablePulling=!0,q().catch((C=>{Sr(a,C)}))),cancel:C=>(a._readableState="closed",re(C))},{highWaterMark:ae,size:Ue})}(a,i,d,f,ae,Ue),a._backpressure=void 0,a._backpressureChangePromise=void 0,a._backpressureChangePromise_resolve=void 0,fr(a,!0),a._transformStreamController=void 0}(this,u((a=>{xr=a})),Er,Ar,Pt,Wt),function(a,C){const q=Object.create(TransformStreamDefaultController.prototype);let re,ae;re=void 0!==C.transform?a=>C.transform(a,q):a=>{try{return _r(q,a),c(void 0)}catch(a){return d(a)}};ae=void 0!==C.flush?()=>C.flush(q):()=>c(void 0);!function(a,C,q,re){C._controlledTransformStream=a,a._transformStreamController=C,C._transformAlgorithm=q,C._flushAlgorithm=re}(a,q,re,ae)}(this,Ue),void 0!==Ue.start?xr(Ue.start(this._transformStreamController)):xr(void 0)}get readable(){if(!ur(this))throw yr("readable");return this._readable}get writable(){if(!ur(this))throw yr("writable");return this._writable}}function ur(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_transformStreamController")&&a instanceof TransformStream)}function cr(a,C){Sr(a,C),dr(a,C)}function dr(a,C){hr(a._transformStreamController),function(a,C){a._writableController.error(C);"writable"===a._writableState&&Tr(a,C)}(a,C),a._backpressure&&fr(a,!1)}function fr(a,C){void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(),a._backpressureChangePromise=u((C=>{a._backpressureChangePromise_resolve=C})),a._backpressure=C}Object.defineProperties(TransformStream.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(TransformStream.prototype,Kr.toStringTag,{value:"TransformStream",configurable:!0});class TransformStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!br(this))throw mr("desiredSize");return vr(this._controlledTransformStream)}enqueue(a){if(!br(this))throw mr("enqueue");_r(this,a)}error(a){if(!br(this))throw mr("error");var C;C=a,cr(this._controlledTransformStream,C)}terminate(){if(!br(this))throw mr("terminate");!function(a){const C=a._controlledTransformStream;gr(C)&&wr(C);const q=new TypeError("TransformStream terminated");dr(C,q)}(this)}}function br(a){return!!r(a)&&(!!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")&&a instanceof TransformStreamDefaultController)}function hr(a){a._transformAlgorithm=void 0,a._flushAlgorithm=void 0}function _r(a,C){const q=a._controlledTransformStream;if(!gr(q))throw new TypeError("Readable side is not in a state that permits enqueue");try{!function(a,C){a._readablePulling=!1;try{a._readableController.enqueue(C)}catch(C){throw Sr(a,C),C}}(q,C)}catch(a){throw dr(q,a),q._readableStoredError}const re=function(a){return!function(a){if(!gr(a))return!1;if(a._readablePulling)return!0;if(vr(a)>0)return!0;return!1}(a)}(q);re!==q._backpressure&&fr(q,!0)}function pr(a,C){return p(a._transformAlgorithm(C),void 0,(C=>{throw cr(a._controlledTransformStream,C),C}))}function mr(a){return new TypeError(`TransformStreamDefaultController.prototype.${a} can only be used on a TransformStreamDefaultController`)}function yr(a){return new TypeError(`TransformStream.prototype.${a} can only be used on a TransformStream`)}function gr(a){return!a._readableCloseRequested&&"readable"===a._readableState}function wr(a){a._readableState="closed",a._readableCloseRequested=!0,a._readableController.close()}function Sr(a,C){"readable"===a._readableState&&(a._readableState="errored",a._readableStoredError=C),a._readableController.error(C)}function vr(a){return a._readableController.desiredSize}function Rr(a,C){"writable"!==a._writableState?qr(a):Tr(a,C)}function Tr(a,C){a._writableState="erroring",a._writableStoredError=C,!function(a){return a._writableHasInFlightOperation}(a)&&a._writableStarted&&qr(a)}function qr(a){a._writableState="errored"}function Cr(a){"erroring"===a._writableState&&qr(a)}Object.defineProperties(TransformStreamDefaultController.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),n(TransformStreamDefaultController.prototype.enqueue,"enqueue"),n(TransformStreamDefaultController.prototype.error,"error"),n(TransformStreamDefaultController.prototype.terminate,"terminate"),"symbol"==typeof Kr.toStringTag&&Object.defineProperty(TransformStreamDefaultController.prototype,Kr.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});const hn=q.Readable||class{};function isReadable(a){return isReadableStream(a)||isNodeReadable(a)}function isReadableStream(a){if(!isStrictlyObject(a)){return false}const C=a;if(typeof C.getReader==="function"&&C.locked!==undefined&&typeof C.cancel==="function"&&typeof C.pipeTo==="function"&&typeof C.pipeThrough==="function"){return true}return false}function isNodeReadable(a){if(!isStrictlyObject(a)){return false}const C=a;if(typeof C.pipe==="function"&&C.readable&&typeof C._read==="function"){return true}return false}
/**
 * Function that converts Node's Readable into WHATWG ReadableStream
 *
 * Taken over from https://github.com/gwicke/node-web-streams/blob/master/lib/conversions.js
 * Because it uses forked web-streams-polyfill that are outdated.
 *
 * @author https://github.com/gwicke
 * @licence Apache License 2.0 https://github.com/gwicke/node-web-streams/blob/master/LICENSE
 * @param nodeStream
 */function readableNodeToWeb(a){return new ReadableStream({start(C){a.pause();a.on("data",(q=>{if(Buffer.isBuffer(q)){C.enqueue(new Uint8Array(q.buffer))}else{C.enqueue(q)}a.pause()}));a.on("end",(()=>C.close()));a.on("error",(a=>C.error(a)))},pull(){a.resume()},cancel(){a.pause()}})}
/**
 * Taken over from https://github.com/gwicke/node-web-streams/blob/master/lib/conversions.js
 * Because it uses forked web-streams-polyfill that are outdated.
 *
 * @author https://github.com/gwicke
 * @licence Apache License 2.0 https://github.com/gwicke/node-web-streams/blob/master/LICENSE
 */class NodeReadableWrapper extends hn{constructor(a,C){super(C);this._webStream=a;this._reader=a.getReader();this._reading=false}_read(){if(this._reading){return}this._reading=true;const doRead=()=>{this._reader.read().then((a=>{if(a.done){this.push(null);return}if(this.push(a.value)){return doRead()}else{this._reading=false}}))};doRead()}}
/**
 * Function that converts WHATWG ReadableStream into Node's Readable
 *
 * Taken over from https://github.com/gwicke/node-web-streams/blob/master/lib/conversions.js
 * Because it uses forked web-streams-polyfill that is outdated.
 *
 * **Warning!**
 * If you want to use this function in browser you have to polyfill `stream` package with your bundler.
 *
 * @author https://github.com/gwicke
 * @licence Apache License 2.0 https://github.com/gwicke/node-web-streams/blob/master/LICENSE
 * @param webStream
 * @param options
 */function readableWebToNode(a,C){if(!q.Readable){throw new Error("The Node's Readable is not available! If you are running this in browser you have to polyfill 'stream' package!")}return new NodeReadableWrapper(a,C)}function normalizeToReadableStream(a){if(isNodeReadable(a)){return readableNodeToWeb(a)}else if(isReadableStream(a)){return a}throw new TypeError("Passed stream is not Node Readable nor ReadableStream!")}
/**
 * Function that deep merges objects
 *
 * @copyright https://github.com/sindresorhus/ky/blob/b3c9e88fa49d50150dbb6e6b771b4af56cb40c98/source/utils/merge.ts
 * @licence MIT
 * @param sources
 */
function deepMerge(...a){let C={};for(const q of a){if(Array.isArray(q)){if(!Array.isArray(C)){C=[]}C=[...C,...q]}else if(isObject(q)){for(let[a,re]of Object.entries(q)){if(isObject(re)&&a in C){re=deepMerge(C[a],re)}C=Object.assign(Object.assign({},C),{[a]:re})}}}return C}var pn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};var bn=undefined&&undefined.__rest||function(a,C){var q={};for(var re in a)if(Object.prototype.hasOwnProperty.call(a,re)&&C.indexOf(re)<0)q[re]=a[re];if(a!=null&&typeof Object.getOwnPropertySymbols==="function")for(var ae=0,re=Object.getOwnPropertySymbols(a);ae<re.length;ae++){if(C.indexOf(re[ae])<0&&Object.prototype.propertyIsEnumerable.call(a,re[ae]))q[re[ae]]=a[re[ae]]}return q};const mn={headers:{accept:"application/json, text/plain, */*","user-agent":`bee-js`}};function isHttpError(a){return isObject(a)&&typeof a.response!=="undefined"}function isHttpRequestError(a){return isObject(a)&&typeof a.request!=="undefined"}function headersToObject(a){return[...a.entries()].reduce(((a,[C,q])=>{a[C]=q;return a}),{})}function wrapRequest(a){return{url:a.url,method:a.method.toUpperCase(),headers:headersToObject(a.headers)}}function http_wrapRequestClosure(a){return C=>pn(this,void 0,void 0,(function*(){yield a(wrapRequest(C))}))}function http_wrapResponseClosure(a){return(C,q,re)=>pn(this,void 0,void 0,(function*(){yield a({headers:headersToObject(re.headers),status:re.status,statusText:re.statusText,request:wrapRequest(C)})}))}function filterHeaders(a){if(a===undefined){return undefined}isStrictlyObject(a);const C=a;for(const a in C){if(C[a]===undefined){delete C[a]}}if(Object.keys(C).length===0){return undefined}return C}function http_http(a,C){return pn(this,void 0,void 0,(function*(){try{const{path:q,responseType:re}=C,ae=bn(C,["path","responseType"]);const Ue=yield a(q,Object.assign(Object.assign({},ae),{searchParams:filterHeaders(ae.searchParams)}));switch(re){case"stream":if(!Ue.body){throw new error_BeeError("Response was expected to get data but did not get any!")}Ue.data=normalizeToReadableStream(Ue.body);break;case"arraybuffer":Ue.data=yield Ue.arrayBuffer();break;case"json":try{Ue.data=yield Ue.json()}catch(a){throw new BeeNotAJsonError}break;default:break}return Ue}catch(a){if(a instanceof BeeNotAJsonError){throw a}if(isHttpError(a)){let q;const re=yield a.response.text();try{q=JSON.parse(re).message}catch(a){}if(q){throw new BeeResponseError(a.response.status,a.response,re,C,`${a.response.statusText}: ${q}`)}else{throw new BeeResponseError(a.response.status,a.response,re,C,a.response.statusText)}}else if(isHttpRequestError(a)){throw new BeeRequestError(a.message,C)}else{if(a.cause){throw new error_BeeError(a.cause.message)}throw new error_BeeError(a.message)}}}))}function http_makeDefaultKy(a){return C.create(deepMerge(mn,a))}var vn=__nccwpck_require__(6792);var yn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function prepareData(a){return yn(this,void 0,void 0,(function*(){if(typeof a==="string")return new vn([a],{type:"text/plain"});if(a instanceof Uint8Array||a instanceof ArrayBuffer){return new vn([a],{type:"application/octet-stream"})}if(a instanceof vn||isNodeReadable(a))return a;if(isReadableStream(a)){return readableWebToNode(a)}throw new TypeError("unknown data type")}))}function isBufferArray(a){return Array.isArray(a)&&a.length>0&&a.every((a=>a instanceof Buffer))}function prepareWebsocketData(a){return yn(this,void 0,void 0,(function*(){if(typeof a==="string")return(new TextEncoder).encode(a);if(a instanceof Buffer)return new Uint8Array(a);if(a instanceof ArrayBuffer)return new Uint8Array(a);if(isBufferArray(a))return new Uint8Array(Buffer.concat(a));throw new TypeError("unknown websocket data type")}))}var gn=__nccwpck_require__(4132);function fixUnicodePath(a){const C=(new TextEncoder).encode(a);return{length:C.length,charCodeAt:a=>C[a]}}function makeTar(a){const C=new gn;for(const q of a){const a=fixUnicodePath(q.path);C.append(a,q.data)}return C.out}var wn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function isCollection(a){if(!Array.isArray(a)){return false}return a.every((a=>typeof a==="object"&&a.data&&a.path&&isUint8Array(a.data)))}function assertCollection(a){if(!isCollection(a)){throw new error_BeeArgumentError("invalid collection",a)}}function makeFilePath(a){if(a.webkitRelativePath&&a.webkitRelativePath!==""){return a.webkitRelativePath.replace(/.*?\//i,"")}if(a.name){return a.name}throw new TypeError("file is not valid File object")}function makeCollectionFromFileList(a){return wn(this,void 0,void 0,(function*(){const C=[];for(let q=0;q<a.length;q++){const re=a[q];if(re){C.push({path:makeFilePath(re),data:new Uint8Array(yield fileArrayBuffer(re))})}}return C}))}function getCollectionSize(a){let C=0;for(let q=0;q<a.length;q++){const re=a[q];if(re){C+=re.size}}return C}var _n=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Sn="bzz";function extractFileUploadHeaders(a,C){const q=extractUploadHeaders(a,C);if(C===null||C===void 0?void 0:C.size)q["content-length"]=String(C.size);if(C===null||C===void 0?void 0:C.contentType)q["content-type"]=C.contentType;return q}function uploadFile(a,C,q,re,ae){return _n(this,void 0,void 0,(function*(){if(isReadable(C)&&!(ae===null||ae===void 0?void 0:ae.contentType)){if(!ae)ae={};ae.contentType="application/octet-stream"}const Ue=yield http_http(a,{method:"post",path:Sn,body:yield prepareData(C),headers:Object.assign({},extractFileUploadHeaders(q,ae)),searchParams:{name:re},responseType:"json"});return{reference:Ue.data.reference,tagUid:makeTagUid(Ue.headers.get("swarm-tag"))}}))}function downloadFile(a,C,q=""){return _n(this,void 0,void 0,(function*(){const re=yield http_http(a,{method:"GET",responseType:"arraybuffer",path:`${Sn}/${C}/${q}`});const ae=Object.assign(Object.assign({},readFileHeaders(re.headers)),{data:wrapBytesWithHelpers(new Uint8Array(re.data))});return ae}))}function downloadFileReadable(a,C,q=""){return _n(this,void 0,void 0,(function*(){const re=yield http_http(a,{method:"GET",responseType:"stream",path:`${Sn}/${C}/${q}`});const ae=Object.assign(Object.assign({},readFileHeaders(re.headers)),{data:re.data});return ae}))}function extractCollectionUploadHeaders(a,C){const q=extractUploadHeaders(a,C);if(C===null||C===void 0?void 0:C.indexDocument)q["swarm-index-document"]=C.indexDocument;if(C===null||C===void 0?void 0:C.errorDocument)q["swarm-error-document"]=C.errorDocument;return q}function uploadCollection(a,C,q,re){return _n(this,void 0,void 0,(function*(){assertCollection(C);const ae=makeTar(C);const Ue=yield http_http(a,{method:"post",path:Sn,body:ae,responseType:"json",headers:Object.assign({"content-type":"application/x-tar","swarm-collection":"true"},extractCollectionUploadHeaders(q,re))});return{reference:Ue.data.reference,tagUid:makeTagUid(Ue.headers.get("swarm-tag"))}}))}var En=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Tn="stewardship";function reupload(a,C){return En(this,void 0,void 0,(function*(){yield http_http(a,{method:"put",path:`${Tn}/${C}`})}))}function isRetrievable(a,C){return En(this,void 0,void 0,(function*(){const q=yield http_http(a,{method:"get",responseType:"json",path:`${Tn}/${C}`});return q.data.isRetrievable}))}var An=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Rn="tags";function createTag(a){return An(this,void 0,void 0,(function*(){const C=yield http_http(a,{method:"post",path:Rn,responseType:"json"});return C.data}))}function retrieveTag(a,C){return An(this,void 0,void 0,(function*(){const q=yield http_http(a,{path:`${Rn}/${C}`,responseType:"json"});return q.data}))}function getAllTags(a,C,q){return An(this,void 0,void 0,(function*(){const re=yield http_http(a,{path:`${Rn}`,searchParams:{offset:C,limit:q},responseType:"json"});return re.data.tags}))}function deleteTag(a,C){return An(this,void 0,void 0,(function*(){yield http_http(a,{method:"delete",path:`${Rn}/${C}`})}))}function updateTag(a,C,q){return An(this,void 0,void 0,(function*(){yield http_http(a,{method:"patch",path:`${Rn}/${C}`,json:{reference:q}})}))}var xn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const kn="pins";function pin(a,C){return xn(this,void 0,void 0,(function*(){yield http_http(a,{method:"post",responseType:"json",path:`${kn}/${C}`})}))}function unpin(a,C){return xn(this,void 0,void 0,(function*(){yield http_http(a,{method:"delete",responseType:"json",path:`${kn}/${C}`})}))}function getPin(a,C){return xn(this,void 0,void 0,(function*(){const q=yield http_http(a,{method:"get",responseType:"json",path:`${kn}/${C}`});return q.data}))}function getAllPins(a){return xn(this,void 0,void 0,(function*(){const C=yield http_http(a,{method:"get",responseType:"json",path:`${kn}`});const q=C.data.references;if(q===null){return[]}return q}))}var Pn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Bn="bytes";function upload(a,C,q,re){return Pn(this,void 0,void 0,(function*(){const ae=yield http_http(a,{path:Bn,method:"post",responseType:"json",body:yield prepareData(C),headers:Object.assign({"content-type":"application/octet-stream"},extractUploadHeaders(q,re))});return{reference:ae.data.reference,tagUid:makeTagUid(ae.headers.get("swarm-tag"))}}))}function download(a,C){return Pn(this,void 0,void 0,(function*(){const q=yield http_http(a,{responseType:"arraybuffer",path:`${Bn}/${C}`});return wrapBytesWithHelpers(new Uint8Array(q.data))}))}function downloadReadable(a,C){return Pn(this,void 0,void 0,(function*(){const q=yield http_http(a,{responseType:"stream",path:`${Bn}/${C}`});return q.data}))}var Mn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const On="chunks";function chunk_upload(a,C,q,re){return Mn(this,void 0,void 0,(function*(){const ae=yield http_http(a,{method:"post",path:`${On}`,body:C,headers:Object.assign({"content-type":"application/octet-stream"},extractUploadHeaders(q,re)),responseType:"json"});return ae.data.reference}))}function chunk_download(a,C){return Mn(this,void 0,void 0,(function*(){const q=yield http_http(a,{responseType:"arraybuffer",path:`${On}/${C}`});return wrapBytesWithHelpers(new Uint8Array(q.data))}))}var Cn=__nccwpck_require__(4713);var In=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Nn="pss";function send(a,C,q,re,ae,Ue){return In(this,void 0,void 0,(function*(){yield http_http(a,{method:"post",path:`${Nn}/send/${C}/${q}`,body:yield prepareData(re),responseType:"json",searchParams:{recipient:Ue},headers:extractUploadHeaders(ae)})}))}function subscribe(a,C){const q=a.replace(/^http/i,"ws");return new Cn(`${q}/${Nn}/subscribe/${C}`)}var qn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function checkConnection(a){return qn(this,void 0,void 0,(function*(){yield http_http(a,{path:""})}))}var jn=__nccwpck_require__(1434);const{keccak256:Ln}=jn;function keccak256Hash(...a){const C=Ln.create();a.forEach((a=>C.update(a)));return Uint8Array.from(C.digest())}function serializeBytes(...a){const C=a.reduce(((a,C)=>a+C.length),0);const q=new Uint8Array(C);let re=0;a.forEach((a=>{q.set(a,re);re+=a.length}));return q}var Dn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Hn="feeds";function createFeedManifest(a,C,q,re,ae){return Dn(this,void 0,void 0,(function*(){const Ue=yield http_http(a,{method:"post",responseType:"json",path:`${Hn}/${C}/${q}`,searchParams:filterHeaders(ae),headers:extractUploadHeaders(re)});return Ue.data.reference}))}function readFeedUpdateHeaders(a){const C=a.get("swarm-feed-index");const q=a.get("swarm-feed-index-next");if(!C){throw new error_BeeError("Response did not contain expected swarm-feed-index!")}if(!q){throw new error_BeeError("Response did not contain expected swarm-feed-index-next!")}return{feedIndex:C,feedIndexNext:q}}function fetchLatestFeedUpdate(a,C,q,re){return Dn(this,void 0,void 0,(function*(){const ae=yield http_http(a,{responseType:"json",path:`${Hn}/${C}/${q}`,searchParams:filterHeaders(re)});return Object.assign(Object.assign({},ae.data),readFeedUpdateHeaders(ae.headers))}))}const{keccak256:Fn}=jn;const Un=4096;const $n=32;const zn=2*$n;const Wn=32;function bmtHash(a){const C=a.slice(0,8);const q=a.slice(8);const re=bmtRootHash(q);const ae=new Uint8Array([...C,...re]);const Ue=keccak256Hash(ae);return Ue}function bmtRootHash(a){if(a.length>Un){throw new error_BeeArgumentError("invalid data length",a)}let C=new Uint8Array([...a,...new Uint8Array(Un-a.length)]);while(C.length!==Wn){const a=new Uint8Array(C.length/2);for(let q=0;q<C.length;q+=zn){const re=Fn.array(C.slice(q,q+zn));a.set(re,q/2)}C=a}return C}var Kn=__nccwpck_require__(9485);var Vn=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const{ec:Gn}=Kn;const Jn=27;function hashWithEthereumPrefix(a){const C=`Ethereum Signed Message:\n${a.length}`;const q=(new TextEncoder).encode(C);return keccak256Hash(q,a)}function defaultSign(a,C){const q=new Gn("secp256k1");const re=q.keyFromPrivate(C);const ae=hashWithEthereumPrefix(a);const Ue=q.sign(ae,re,{canonical:true,pers:undefined});if(Ue.recoveryParam===null){throw new error_BeeError("signDigest recovery param was null")}const Pt=new Uint8Array([...Ue.r.toArray("be",32),...Ue.s.toArray("be",32),Ue.recoveryParam+Jn]);return Pt}function publicKeyToAddress(a){const C=a.encode("array",false);return keccak256Hash(C.slice(1)).slice(12)}function recoverAddress(a,C){const q=new Gn("secp256k1");const re={r:a.slice(0,32),s:a.slice(32,64)};const ae=a[64]-Jn;const Ue=hashWithEthereumPrefix(C);const Pt=q.recoverPubKey(Ue,re,ae);return publicKeyToAddress(Pt)}function makePrivateKeySigner(a){const C=new Gn("secp256k1");const q=C.keyFromPrivate(a);const re=publicKeyToAddress(q.getPublic());return{sign:C=>defaultSign(C,a),address:re}}function assertSigner(a){if(!isStrictlyObject(a)){throw new TypeError("Signer must be an object!")}const C=a;if(!isBytes(C.address,20)){throw new TypeError("Signer's address must be Uint8Array with 20 bytes!")}if(typeof C.sign!=="function"){throw new TypeError("Signer sign property needs to be function!")}}function makeSigner(a){if(typeof a==="string"){const C=hex_makeHexString(a,64);const q=hex_hexToBytes(C);return makePrivateKeySigner(q)}else if(a instanceof Uint8Array){assertBytes(a,32);return makePrivateKeySigner(a)}assertSigner(a);return a}function sign(a,C){return Vn(this,void 0,void 0,(function*(){const q=yield a.sign(wrapBytesWithHelpers(C));if(typeof q==="string"){const a=hex_makeHexString(q,Ur);return hex_hexToBytes(a)}if(q instanceof Uint8Array){assertBytes(q,$r);return q}throw new TypeError("Invalid output of sign function!")}))}const Xn=8;const Yn=Math.pow(2,32)-1;function makeSpan(a){if(a<=0){throw new error_BeeArgumentError("invalid length for span",a)}if(a>Yn){throw new error_BeeArgumentError("invalid length (> MAX_SPAN_LENGTH)",a)}const C=new Uint8Array(Xn);const q=new DataView(C.buffer);const re=true;const ae=a&4294967295;q.setUint32(0,ae,re);return C}const Zn=1;const Qn=4096;const ei=0;const ti=ei+Xn;function makeContentAddressedChunk(a){const C=makeSpan(a.length);assertFlexBytes(a,Zn,Qn);const q=serializeBytes(C,a);return{data:q,span:()=>C,payload:()=>flexBytesAtOffset(q,ti,Zn,Qn),address:()=>bmtHash(q)}}function isValidChunkData(a,C){if(!(a instanceof Uint8Array))return false;const q=bmtHash(a);return bytesEqual(q,C)}function assertValidChunkData(a,C){if(!isValidChunkData(a,C)){throw new error_BeeError("Address of content address chunk does not match given data!")}}var ri=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const ni="soc";function soc_upload(a,C,q,re,ae,Ue,Pt){return ri(this,void 0,void 0,(function*(){const Wt=yield http_http(a,{method:"post",path:`${ni}/${C}/${q}`,body:ae,headers:Object.assign({"content-type":"application/octet-stream"},extractUploadHeaders(Ue,Pt)),responseType:"json",searchParams:{sig:re}});return Wt.data.reference}))}var ii=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const oi=32;const si=65;const ai=0;const ci=ai+oi;const fi=ci+si;const ui=fi+Xn;function recoverChunkOwner(a){const C=a.slice(fi);const q=bmtHash(C);const re=bytesAtOffset(a,ci,si);const ae=bytesAtOffset(a,ai,oi);const Ue=keccak256Hash(ae,q);const Pt=recoverAddress(re,Ue);return Pt}function makeSingleOwnerChunkFromData(a,C){const q=recoverChunkOwner(a);const re=bytesAtOffset(a,ai,oi);const ae=keccak256Hash(re,q);if(!bytesEqual(C,ae)){throw new error_BeeError("SOC Data does not match given address!")}const signature=()=>bytesAtOffset(a,ci,si);const span=()=>bytesAtOffset(a,fi,Xn);const payload=()=>flexBytesAtOffset(a,ui,Zn,Qn);return{data:a,identifier:()=>re,signature:signature,span:span,payload:payload,address:()=>ae,owner:()=>q}}function makeSOCAddress(a,C){return keccak256Hash(a,C)}function makeSingleOwnerChunk(a,C,q){return ii(this,void 0,void 0,(function*(){const re=a.address();assertValidChunkData(a.data,re);const ae=keccak256Hash(C,re);const Ue=yield sign(q,ae);const Pt=serializeBytes(C,Ue,a.span(),a.payload());const Wt=makeSOCAddress(C,q.address);return{data:Pt,identifier:()=>C,signature:()=>Ue,span:()=>a.span(),payload:()=>a.payload(),address:()=>Wt,owner:()=>q.address}}))}function uploadSingleOwnerChunk(a,C,q,re){return ii(this,void 0,void 0,(function*(){const ae=bytesToHex(C.owner());const Ue=bytesToHex(C.identifier());const Pt=bytesToHex(C.signature());const Wt=serializeBytes(C.span(),C.payload());return soc_upload(a,ae,Ue,Pt,Wt,q,re)}))}function uploadSingleOwnerChunkData(a,C,q,re,ae,Ue){return ii(this,void 0,void 0,(function*(){type_assertAddress(q);const Pt=makeContentAddressedChunk(ae);const Wt=yield makeSingleOwnerChunk(Pt,re,C);return uploadSingleOwnerChunk(a,Wt,q,Ue)}))}function downloadSingleOwnerChunk(a,C,q){return ii(this,void 0,void 0,(function*(){const re=makeSOCAddress(q,C);const ae=yield chunk_download(a,bytesToHex(re));return makeSingleOwnerChunkFromData(ae,re)}))}function writeUint64LittleEndian(a,C=makeBytes(8)){const q=new DataView(C.buffer);const re=a&4294967295;const ae=true;q.setUint32(0,re,ae);q.setUint32(4,0,ae);return C}function writeUint64BigEndian(a,C=bytes_makeBytes(8)){const q=new DataView(C.buffer);const re=a&4294967295;q.setUint32(0,0);q.setUint32(4,re);return C}function readUint64BigEndian(a){const C=new DataView(a.buffer);return C.getUint32(4)}var di=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const{keccak256:li,sha3_256:hi}=jn;const pi=20;const bi=40;function makeEthAddress(a){if(typeof a==="string"){const C=hex_makeHexString(a,bi);const q=hex_hexToBytes(C);assertBytes(q,pi);return q}else if(a instanceof Uint8Array){assertBytes(a,pi);return a}throw new TypeError("Invalid EthAddress")}function makeHexEthAddress(a){try{return hex_makeHexString(a,bi)}catch(a){if(a instanceof TypeError){a.message=`Invalid HexEthAddress: ${a.message}`}throw a}}function isEthAddrCaseIns(a){return typeof a==="string"&&(/^(0x|0X)?[0-9a-f]{40}$/.test(a)||/^(0x|0X)?[0-9A-F]{40}$/.test(a))}function isValidChecksummedEthAddress(a){try{const C=makeHexString(a,bi);const q=li(C.toLowerCase());for(let a=0;a<40;a+=1){if(parseInt(q[a],16)>7&&C[a].toUpperCase()!==C[a]||parseInt(q[a],16)<=7&&C[a].toLowerCase()!==C[a]){return false}}return true}catch(a){if(a instanceof TypeError){return false}throw a}}function isHexEthAddress(a){return isEthAddrCaseIns(a)||isValidChecksummedEthAddress(a)}function toLittleEndian(a,C=2){var q;if(!(Number.isInteger(C)&&C>=2&&C%2===0)){throw new TypeError("minimal padding for conversion needs to be positive even integer")}let re;if(typeof a==="string")re=makeHexString(a);else if(typeof a==="number")re=intToHex(a);else throw new TypeError("incorrect input type");re=re.padStart(C,"0");if(re.length%2!==0)re=re.padStart(re.length+1,"0");const ae=(q=re.match(/../g))===null||q===void 0?void 0:q.reverse().join("");if(ae)return ae;throw new Error("failed to convert")}function fromLittleEndian(a,C=2){return toLittleEndian(a,C)}function assertEthAddress(a){if(!isHexEthAddress(a))throw new TypeError("invalid ETH address")}function assertSwarmNetworkId(a){if(Number.isInteger(a&&a>0&&a<Number.MAX_SAFE_INTEGER)){throw new TypeError("swarm network id must be positive integer")}}function ethToSwarmAddress(a,C=1){assertEthAddress(a);assertSwarmNetworkId(C);const q=`${makeHexString(a)}${toLittleEndian(C,16)}`;assertHexString(q);const re=hi(hexToBytes(q));return re}function makeEthereumWalletSigner(a,C){return di(this,void 0,void 0,(function*(){let q;if(typeof a!=="object"||a===null){throw new TypeError("We need JsonRPC provider object!")}if(a.request){q=a.request}else if(a.sendAsync){q=a.sendAsync}else{throw new Error("Incompatible interface of given provider!")}if(!C){C=(yield q({method:"eth_requestAccounts"}))[0]}const re=makeEthAddress(C);const ae=makeHexEthAddress(C);return{address:re,sign:a=>di(this,void 0,void 0,(function*(){const C=yield q({jsonrpc:"2.0",method:"personal_sign",params:["0x"+a.hex(),"0x"+ae]});return C}))}}))}function isEpoch(a){return typeof a==="object"&&a!==null&&"time"in a&&"level"in a}function hashFeedIdentifier(a,C){return keccak256Hash(hex_hexToBytes(a),C)}function makeSequentialFeedIdentifier(a,C){const q=writeUint64BigEndian(C);return hashFeedIdentifier(a,q)}function makeFeedIndexBytes(a){const C=hex_makeHexString(a,Dr);return hex_hexToBytes(C)}function makeFeedIdentifier(a,C){if(typeof C==="number"){return makeSequentialFeedIdentifier(a,C)}else if(typeof C==="string"){const q=makeFeedIndexBytes(C);return hashFeedIdentifier(a,q)}else if(isEpoch(C)){throw new TypeError("epoch is not yet implemented")}return hashFeedIdentifier(a,C)}function makeBytesReference(a,C=0){if(typeof a==="string"){if(C){throw new Error("Offset property can be set only for UintArray reference!")}try{const C=hex_makeHexString(a,Pr);return hex_hexToBytes(C)}catch(C){if(!(C instanceof TypeError)){throw C}const q=hex_makeHexString(a,Br);return hex_hexToBytes(q)}}else if(a instanceof Uint8Array){if(hasBytesAtOffset(a,C,Or)){return bytesAtOffset(a,C,Or)}else if(hasBytesAtOffset(a,C,Mr)){return bytesAtOffset(a,C,Mr)}}throw new TypeError("invalid chunk reference")}var mi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const vi=0;const yi=8;const gi=yi;function findNextIndex(a,C,q,re){return mi(this,void 0,void 0,(function*(){try{const ae=yield fetchLatestFeedUpdate(a,C,q,re);return hex_makeHexString(ae.feedIndexNext,Dr)}catch(a){if(a instanceof BeeResponseError&&a.status===404){return bytesToHex(bytes_makeBytes(8))}throw a}}))}function updateFeed(a,C,q,re,ae,Ue,Pt="latest"){var Wt;return mi(this,void 0,void 0,(function*(){const Er=makeHexEthAddress(C.address);const Ar=Pt==="latest"?yield findNextIndex(a,Er,q,Ue):Pt;const xr=makeFeedIdentifier(q,Ar);const kr=(Wt=Ue===null||Ue===void 0?void 0:Ue.at)!==null&&Wt!==void 0?Wt:Date.now()/1e3;const Pr=writeUint64BigEndian(kr);const Br=serializeBytes(Pr,re);return uploadSingleOwnerChunkData(a,C,ae,xr,Br,Ue)}))}function getFeedUpdateChunkReference(a,C,q){const re=makeFeedIdentifier(C,q);return keccak256Hash(re,a)}function downloadFeedUpdate(a,C,q,re){return mi(this,void 0,void 0,(function*(){const ae=getFeedUpdateChunkReference(C,q,re);const Ue=bytesToHex(ae);const Pt=yield chunk_download(a,Ue);const Wt=makeSingleOwnerChunkFromData(Pt,ae);const Er=Wt.payload();const Ar=bytesAtOffset(Er,vi,yi);const xr=readUint64BigEndian(Ar);const kr=makeBytesReference(Er,gi);return{timestamp:xr,reference:kr}}))}function makeFeedReader(a,C,q,re){return{type:C,owner:re,topic:q,download(ae){return mi(this,void 0,void 0,(function*(){if(!(ae===null||ae===void 0?void 0:ae.index)){return fetchLatestFeedUpdate(a,re,q,Object.assign(Object.assign({},ae),{type:C}))}const Ue=yield downloadFeedUpdate(a,hex_hexToBytes(re),q,ae.index);return{reference:bytesToHex(Ue.reference),feedIndex:ae.index,feedIndexNext:""}}))}}}function makeFeedWriter(a,C,q,re){const upload=(ae,Ue,Pt)=>mi(this,void 0,void 0,(function*(){type_assertAddress(ae);const Wt=makeBytesReference(Ue);return updateFeed(a,re,q,Wt,ae,Object.assign(Object.assign({},Pt),{type:C}))}));return Object.assign(Object.assign({},makeFeedReader(a,C,q,makeHexEthAddress(re.address))),{upload:upload})}const wi=["sequence","epoch"];const _i="sequence";function isFeedType(a){return typeof a==="string"&&wi.includes(a)}function assertFeedType(a){if(!isFeedType(a)){throw new TypeError("invalid feed type")}}function makeTopic(a){if(typeof a==="string"){return hex_makeHexString(a,Fr)}else if(a instanceof Uint8Array){assertBytes(a,Hr);return bytesToHex(a,Fr)}throw new TypeError("invalid topic")}function makeTopicFromString(a){if(typeof a!=="string"){throw new TypeError("topic has to be string!")}return bytesToHex(keccak256Hash(a),Fr)}function isNodeJsError(a){return isObject(a)&&typeof a.code==="string"}function isValidBeeUrl(a){try{if(typeof a!=="string"){return false}const C=new URL(a);return C.protocol==="http:"||C.protocol==="https:"}catch(a){if(a instanceof TypeError||isNodeJsError(a)&&a.code==="ERR_INVALID_URL"){return false}throw a}}function url_assertBeeUrl(a){if(!isValidBeeUrl(a)){throw new error_BeeArgumentError("URL is not valid!",a)}}function url_stripLastSlash(a){if(a.endsWith("/")){return a.slice(0,-1)}return a}var Si=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function serializeJson(a){try{const C=JSON.stringify(a);return(new TextEncoder).encode(C)}catch(a){if(isError(a)){a.message=`JsonFeed: ${a.message}`}throw a}}function getJsonData(a,C){return Si(this,void 0,void 0,(function*(){const q=yield C.download();const re=yield a.downloadData(q.reference);return re.json()}))}function setJsonData(a,C,q,re,ae){return Si(this,void 0,void 0,(function*(){const Ue=serializeJson(re);const{reference:Pt}=yield a.uploadData(q,Ue,ae);return C.upload(q,Pt)}))}var Ei=__nccwpck_require__(7147);var Ti=__nccwpck_require__(1017);var Ai=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};var Ri=undefined&&undefined.__asyncValues||function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C=a[Symbol.asyncIterator],q;return C?C.call(a):(a=typeof __values==="function"?__values(a):a[Symbol.iterator](),q={},verb("next"),verb("throw"),verb("return"),q[Symbol.asyncIterator]=function(){return this},q);function verb(C){q[C]=a[C]&&function(q){return new Promise((function(re,ae){q=a[C](q),settle(re,ae,q.done,q.value)}))}}function settle(a,C,q,re){Promise.resolve(re).then((function(C){a({value:C,done:q})}),C)}};function makeCollectionFromFS(a){return Ai(this,void 0,void 0,(function*(){if(typeof a!=="string"){throw new TypeError("dir has to be string!")}if(a===""){throw new TypeError("dir must not be empty string!")}return buildCollectionRelative(a,"")}))}function buildCollectionRelative(a,C){var q,re;return Ai(this,void 0,void 0,(function*(){const ae=Ti.join(a,C);const Ue=yield Ei.promises.opendir(ae);let Pt=[];try{for(var Wt=Ri(Ue),Er;Er=yield Wt.next(),!Er.done;){const q=Er.value;const re=Ti.join(a,C,q.name);const ae=Ti.join(C,q.name);if(q.isFile()){Pt.push({path:ae,data:new Uint8Array(yield Ei.promises.readFile(re))})}else if(q.isDirectory()){Pt=[...yield buildCollectionRelative(a,ae),...Pt]}}}catch(a){q={error:a}}finally{try{if(Er&&!Er.done&&(re=Wt.return))yield re.call(Wt)}finally{if(q)throw q.error}}return Pt}))}function getFolderSize(a){var C,q;return Ai(this,void 0,void 0,(function*(){if(typeof a!=="string"){throw new TypeError("dir has to be string!")}if(a===""){throw new TypeError("dir must not be empty string!")}const re=yield fs.promises.opendir(a);let ae=0;try{for(var Ue=Ri(re),Pt;Pt=yield Ue.next(),!Pt.done;){const C=Pt.value;if(C.isFile()){const q=yield fs.promises.stat(path.join(a,C.name));ae+=q.size}else if(C.isDirectory()){ae+=(yield getFolderSize(path.join(a,C.name)))}}}catch(a){C={error:a}}finally{try{if(Pt&&!Pt.done&&(q=Ue.return))yield q.call(Ue)}finally{if(C)throw C.error}}return ae}))}var xi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function makeNumericIndex(a){if(a instanceof Uint8Array){return readUint64BigEndian(a)}if(typeof a==="string"){return parseInt(a)}if(typeof a==="number"){return a}throw new TypeError("Unknown type of index!")}function isChunkRetrievable(a,C,q){return xi(this,void 0,void 0,(function*(){try{yield a.downloadChunk(C,q);return true}catch(a){const C=a;if(C.status===404){return false}throw a}}))}function getAllSequenceUpdateReferences(a,C,q){const re=makeNumericIndex(q);const ae=new Array(re+1);for(let q=0;q<=re;q++){ae[q]=bytesToHex(getFeedUpdateChunkReference(a,C,q))}return ae}function areAllSequentialFeedsUpdateRetrievable(a,C,q,re,ae){return xi(this,void 0,void 0,(function*(){const Ue=getAllSequenceUpdateReferences(C,q,re).map((C=>xi(this,void 0,void 0,(function*(){return isChunkRetrievable(a,C,ae)}))));return(yield Promise.all(Ue)).every((a=>a))}))}var ki=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};class Bee{constructor(a,C){var q;url_assertBeeUrl(a);this.url=url_stripLastSlash(a);if(C===null||C===void 0?void 0:C.signer){this.signer=makeSigner(C.signer)}const re={prefixUrl:this.url,timeout:(q=C===null||C===void 0?void 0:C.timeout)!==null&&q!==void 0?q:false,retry:C===null||C===void 0?void 0:C.retry,fetch:C===null||C===void 0?void 0:C.fetch,hooks:{beforeRequest:[],afterResponse:[]}};if(C===null||C===void 0?void 0:C.defaultHeaders){re.headers=C.defaultHeaders}if(C===null||C===void 0?void 0:C.onRequest){re.hooks.beforeRequest.push(http_wrapRequestClosure(C.onRequest))}if(C===null||C===void 0?void 0:C.onResponse){re.hooks.afterResponse.push(http_wrapResponseClosure(C.onResponse))}this.ky=http_makeDefaultKy(re)}uploadData(a,C,q){return ki(this,void 0,void 0,(function*(){type_assertBatchId(a);assertData(C);if(q)assertUploadOptions(q);return upload(this.getKy(q),C,a,q)}))}downloadData(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReferenceOrEns(a);return download(this.getKy(C),a)}))}downloadReadableData(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReferenceOrEns(a);return downloadReadable(this.getKy(C),a)}))}uploadChunk(a,C,q){return ki(this,void 0,void 0,(function*(){type_assertBatchId(a);if(!(C instanceof Uint8Array)){throw new TypeError("Data has to be Uint8Array instance!")}if(C.length<ae){throw new error_BeeArgumentError(`Chunk has to have size of at least ${ae}.`,C)}if(C.length>Wt+ae){throw new error_BeeArgumentError(`Chunk has to have size of at most ${Wt}.`,C)}if(q)assertUploadOptions(q);return chunk_upload(this.getKy(q),C,a,q)}))}downloadChunk(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReferenceOrEns(a);return chunk_download(this.getKy(C),a)}))}uploadFile(a,C,q,re){return ki(this,void 0,void 0,(function*(){type_assertBatchId(a);assertFileData(C);if(re)assertFileUploadOptions(re);if(q&&typeof q!=="string"){throw new TypeError("name has to be string or undefined!")}if(isFile(C)){const ae=yield fileArrayBuffer(C);const Ue=q!==null&&q!==void 0?q:C.name;const Pt=C.type;const Wt=Object.assign({contentType:Pt},re);return addCidConversionFunction(yield uploadFile(this.getKy(re),ae,a,Ue,Wt),Wr.lW.MANIFEST)}else if(isReadable(C)&&(re===null||re===void 0?void 0:re.tag)&&!re.size){const ae=yield uploadFile(this.getKy(re),C,a,q,re);yield this.updateTag(re.tag,ae.reference);return addCidConversionFunction(ae,Wr.lW.MANIFEST)}else{return addCidConversionFunction(yield uploadFile(this.getKy(re),C,a,q,re),Wr.lW.MANIFEST)}}))}downloadFile(a,C="",q){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(q);a=makeReferenceOrEns(a,Wr.lW.MANIFEST);return downloadFile(this.getKy(q),a,C)}))}downloadReadableFile(a,C="",q){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(q);a=makeReferenceOrEns(a,Wr.lW.MANIFEST);return downloadFileReadable(this.getKy(q),a,C)}))}uploadFiles(a,C,q){return ki(this,void 0,void 0,(function*(){type_assertBatchId(a);if(q)assertCollectionUploadOptions(q);const re=yield makeCollectionFromFileList(C);return addCidConversionFunction(yield uploadCollection(this.getKy(q),re,a,q),Wr.lW.MANIFEST)}))}uploadCollection(a,C,q){return ki(this,void 0,void 0,(function*(){type_assertBatchId(a);assertCollection(C);if(q)assertCollectionUploadOptions(q);return addCidConversionFunction(yield uploadCollection(this.ky,C,a,q),Wr.lW.MANIFEST)}))}uploadFilesFromDirectory(a,C,q){return ki(this,void 0,void 0,(function*(){type_assertBatchId(a);if(q)assertCollectionUploadOptions(q);const re=yield makeCollectionFromFS(C);return addCidConversionFunction(yield uploadCollection(this.getKy(q),re,a,q),Wr.lW.MANIFEST)}))}createTag(a){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(a);return createTag(this.getKy(a))}))}getAllTags(a){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(a);assertAllTagsOptions(a);return getAllTags(this.getKy(a),a===null||a===void 0?void 0:a.offset,a===null||a===void 0?void 0:a.limit)}))}retrieveTag(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);a=makeTagUid(a);return retrieveTag(this.getKy(C),a)}))}deleteTag(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);a=makeTagUid(a);return deleteTag(this.getKy(C),a)}))}updateTag(a,C,q){return ki(this,void 0,void 0,(function*(){assertReference(C);type_assertRequestOptions(q);a=makeTagUid(a);return updateTag(this.getKy(q),a,C)}))}pin(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReference(a);return pin(this.getKy(C),a)}))}unpin(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReference(a);return unpin(this.getKy(C),a)}))}getAllPins(a){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(a);return getAllPins(this.getKy(a))}))}getPin(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReference(a);return getPin(this.getKy(C),a)}))}reuploadPinnedData(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReferenceOrEns(a);yield reupload(this.getKy(C),a)}))}isReferenceRetrievable(a,C){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C);assertReferenceOrEns(a);return isRetrievable(this.getKy(C),a)}))}isFeedRetrievable(a,C,q,re,ae){return ki(this,void 0,void 0,(function*(){const Ue=makeEthAddress(C);const Pt=makeTopic(q);if(!re){try{yield this.makeFeedReader(a,Pt,Ue).download();return true}catch(a){const C=a;if((C===null||C===void 0?void 0:C.status)===404){return false}throw a}}if(a!=="sequence"){throw new error_BeeError("Only Sequence type of Feeds is supported at the moment")}return areAllSequentialFeedsUpdateRetrievable(this,Ue,Pt,re,ae)}))}pssSend(a,C,q,re,ae,Ue){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(Ue);assertData(re);type_assertBatchId(a);assertAddressPrefix(q);if(typeof C!=="string"){throw new TypeError("topic has to be an string!")}if(ae){assertPublicKey(ae);return send(this.getKy(Ue),C,q,re,a,ae)}else{return send(this.getKy(Ue),C,q,re,a)}}))}pssSubscribe(a,C){assertPssMessageHandler(C);if(typeof a!=="string"){throw new TypeError("topic has to be an string!")}const q=subscribe(this.url,a);let re=false;const cancel=()=>{if(re===false){re=true;if(q.terminate)q.terminate();else q.close()}};const ae={topic:a,cancel:cancel};q.onmessage=a=>ki(this,void 0,void 0,(function*(){const q=yield prepareWebsocketData(a.data);if(q.length>0){C.onMessage(wrapBytesWithHelpers(q),ae)}}));q.onerror=a=>{if(!re){C.onError(new error_BeeError(a.message),ae)}};return ae}pssReceive(a,C=0){return ki(this,void 0,void 0,(function*(){if(typeof a!=="string"){throw new TypeError("topic has to be an string!")}if(typeof C!=="number"){throw new TypeError("timeoutMsc parameter has to be a number!")}return new Promise(((q,re)=>{let ae;const Ue=this.pssSubscribe(a,{onError:a=>{clearTimeout(ae);Ue.cancel();re(a.message)},onMessage:a=>{clearTimeout(ae);Ue.cancel();q(a)}});if(C>0){ae=setTimeout((()=>{Ue.cancel();re(new error_BeeError("pssReceive timeout"))}),C)}}))}))}createFeedManifest(a,C,q,re,ae){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(ae);assertFeedType(C);type_assertBatchId(a);const Ue=makeTopic(q);const Pt=makeHexEthAddress(re);return createFeedManifest(this.getKy(ae),Pt,Ue,a,{type:C})}))}makeFeedReader(a,C,q,re){type_assertRequestOptions(re);assertFeedType(a);const ae=makeTopic(C);const Ue=makeHexEthAddress(q);return makeFeedReader(this.getKy(re),a,ae,Ue)}makeFeedWriter(a,C,q,re){type_assertRequestOptions(re);assertFeedType(a);const ae=makeTopic(C);const Ue=this.resolveSigner(q);return makeFeedWriter(this.getKy(re),a,ae,Ue)}setJsonFeed(a,C,q,re){var ae;return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(re,"JsonFeedOptions");type_assertBatchId(a);const Ue=this.makeFeedTopic(C);const Pt=(ae=re===null||re===void 0?void 0:re.type)!==null&&ae!==void 0?ae:_i;const Wt=this.makeFeedWriter(Pt,Ue,re===null||re===void 0?void 0:re.signer,re);return setJsonData(this,Wt,a,q,re)}))}getJsonFeed(a,C){var q;return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(C,"JsonFeedOptions");const re=this.makeFeedTopic(a);const ae=(q=C===null||C===void 0?void 0:C.type)!==null&&q!==void 0?q:_i;if((C===null||C===void 0?void 0:C.signer)&&(C===null||C===void 0?void 0:C.address)){throw new error_BeeError('Both options "signer" and "address" can not be specified at one time!')}let Ue;if(C===null||C===void 0?void 0:C.address){Ue=makeEthAddress(C===null||C===void 0?void 0:C.address)}else{try{Ue=this.resolveSigner(C===null||C===void 0?void 0:C.signer).address}catch(a){if(a instanceof error_BeeError){throw new error_BeeError("Either address, signer or default signer has to be specified!")}else{throw a}}}const Pt=this.makeFeedReader(ae,re,Ue,C);return getJsonData(this,Pt)}))}makeFeedTopic(a){return makeTopicFromString(a)}makeSOCReader(a,C){type_assertRequestOptions(C);const q=makeEthAddress(a);return{owner:makeHexEthAddress(q),download:downloadSingleOwnerChunk.bind(null,this.getKy(C),q)}}makeSOCWriter(a,C){type_assertRequestOptions(C);const q=this.resolveSigner(a);return Object.assign(Object.assign({},this.makeSOCReader(q.address,C)),{upload:uploadSingleOwnerChunkData.bind(null,this.getKy(C),q)})}checkConnection(a){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(a,"PostageBatchOptions");return checkConnection(this.getKy(a))}))}isConnected(a){return ki(this,void 0,void 0,(function*(){type_assertRequestOptions(a,"PostageBatchOptions");try{yield checkConnection(this.getKy(a))}catch(a){return false}return true}))}resolveSigner(a){if(a){return makeSigner(a)}if(this.signer){return this.signer}throw new error_BeeError("You have to pass Signer as property to either the method call or constructor! Non found.")}getKy(a){if(!a){return this.ky}return this.ky.extend(a)}}var Pi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function getNodeAddresses(a){return Pi(this,void 0,void 0,(function*(){const C=yield http(a,{path:"addresses",responseType:"json"});return C.data}))}function getPeers(a){return Pi(this,void 0,void 0,(function*(){const C=yield http(a,{path:"peers",responseType:"json"});return C.data.peers||[]}))}function getBlocklist(a){return Pi(this,void 0,void 0,(function*(){const C=yield http(a,{path:"blocklist",responseType:"json"});return C.data.peers||[]}))}function removePeer(a,C){return Pi(this,void 0,void 0,(function*(){const q=yield http(a,{path:`peers/${C}`,responseType:"json",method:"DELETE"});return q.data}))}function getTopology(a){return Pi(this,void 0,void 0,(function*(){const C=yield http(a,{path:`topology`,responseType:"json"});return C.data}))}function pingPeer(a,C){return Pi(this,void 0,void 0,(function*(){const q=yield http(a,{path:`pingpong/${C}`,responseType:"json",method:"POST"});return q.data}))}var Bi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Mi="balances";const Oi="consumed";function getAllBalances(a){return Bi(this,void 0,void 0,(function*(){const C=yield http(a,{path:Mi,responseType:"json"});return C.data}))}function getPeerBalance(a,C){return Bi(this,void 0,void 0,(function*(){const q=yield http(a,{path:`${Mi}/${C}`,responseType:"json"});return q.data}))}function getPastDueConsumptionBalances(a){return Bi(this,void 0,void 0,(function*(){const C=yield http(a,{path:Oi,responseType:"json"});return C.data}))}function getPastDueConsumptionPeerBalance(a,C){return Bi(this,void 0,void 0,(function*(){const q=yield http(a,{path:`${Oi}/${C}`,responseType:"json"});return q.data}))}var Ci=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Ii="chequebook";function getChequebookAddress(a){return Ci(this,void 0,void 0,(function*(){const C=yield http(a,{path:Ii+"/address",responseType:"json"});return C.data}))}function getChequebookBalance(a){return Ci(this,void 0,void 0,(function*(){const C=yield http(a,{path:Ii+"/balance",responseType:"json"});return C.data}))}function getLastCashoutAction(a,C){return Ci(this,void 0,void 0,(function*(){const q=yield http(a,{path:Ii+`/cashout/${C}`,responseType:"json"});return q.data}))}function cashoutLastCheque(a,C,q){return Ci(this,void 0,void 0,(function*(){const re={};if(q===null||q===void 0?void 0:q.gasPrice){re["gas-price"]=q.gasPrice.toString()}if(q===null||q===void 0?void 0:q.gasLimit){re["gas-limit"]=q.gasLimit.toString()}const ae=yield http(a,{method:"post",path:Ii+`/cashout/${C}`,responseType:"json",headers:re});return ae.data.transactionHash}))}function getLastChequesForPeer(a,C){return Ci(this,void 0,void 0,(function*(){const q=yield http(a,{path:Ii+`/cheque/${C}`,responseType:"json"});return q.data}))}function getLastCheques(a){return Ci(this,void 0,void 0,(function*(){const C=yield http(a,{path:Ii+"/cheque",responseType:"json"});return C.data}))}function depositTokens(a,C,q){return Ci(this,void 0,void 0,(function*(){const re={};if(q){re["gas-price"]=q.toString()}const ae=yield http(a,{method:"post",path:Ii+"/deposit",responseType:"json",searchParams:{amount:C.toString(10)},headers:re});return ae.data.transactionHash}))}function withdrawTokens(a,C,q){return Ci(this,void 0,void 0,(function*(){const re={};if(q){re["gas-price"]=q.toString()}const ae=yield http(a,{method:"post",path:Ii+"/withdraw",responseType:"json",searchParams:{amount:C.toString(10)},headers:re});return ae.data.transactionHash}))}var Ni=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const qi="settlements";function getSettlements(a,C){return Ni(this,void 0,void 0,(function*(){const q=yield http(a,{path:`${qi}/${C}`,responseType:"json"});return q.data}))}function getAllSettlements(a){return Ni(this,void 0,void 0,(function*(){const C=yield http(a,{path:qi,responseType:"json"});return C.data}))}var ji=__nccwpck_require__(6688);var Li=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Di="1.6.0-6ceadd35";const Hi="3.0.1";const Fi="2.0.1";const Ui=Di.substring(0,Di.indexOf("-"));const $i="node";const zi="health";function getHealth(a){return Li(this,void 0,void 0,(function*(){const C=yield http(a,{method:"get",path:zi,responseType:"json"});return C.data}))}function getNodeInfo(a){return Li(this,void 0,void 0,(function*(){const C=yield http(a,{method:"get",path:$i,responseType:"json"});return C.data}))}function isSupportedVersion(a){return Li(this,void 0,void 0,(function*(){return isSupportedExactVersion(a)}))}function isSupportedExactVersion(a){return Li(this,void 0,void 0,(function*(){const{version:C}=yield getHealth(a);return C===Di}))}function isSupportedMainApiVersion(a){return Li(this,void 0,void 0,(function*(){const{apiVersion:C}=yield getHealth(a);return getMajorSemver(C)===getMajorSemver(Hi)}))}function isSupportedDebugApiVersion(a){return Li(this,void 0,void 0,(function*(){const{debugApiVersion:C}=yield getHealth(a);return getMajorSemver(C)===getMajorSemver(Fi)}))}function isSupportedApiVersion(a){return Li(this,void 0,void 0,(function*(){const{apiVersion:C,debugApiVersion:q}=yield getHealth(a);return getMajorSemver(C)===getMajorSemver(Hi)&&getMajorSemver(q)===getMajorSemver(Fi)}))}function getVersions(a){return Li(this,void 0,void 0,(function*(){const{version:C,apiVersion:q,debugApiVersion:re}=yield getHealth(a);return{supportedBeeVersion:Di,supportedBeeApiVersion:Hi,supportedBeeDebugApiVersion:Fi,beeVersion:C,beeApiVersion:q,beeDebugApiVersion:re}}))}var Wi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Ki="transactions";function getAllTransactions(a){return Wi(this,void 0,void 0,(function*(){const C=yield http(a,{path:Ki,responseType:"json"});return C.data.pendingTransactions}))}function getTransaction(a,C){return Wi(this,void 0,void 0,(function*(){const q=yield http(a,{path:`${Ki}/${C}`,responseType:"json"});return q.data}))}function rebroadcastTransaction(a,C){return Wi(this,void 0,void 0,(function*(){const q=yield http(a,{method:"post",path:`${Ki}/${C}`,responseType:"json"});return q.data.transactionHash}))}function cancelTransaction(a,C,q){return Wi(this,void 0,void 0,(function*(){const re=yield http(a,{method:"delete",headers:{"gas-price":q},path:`${Ki}/${C}`,responseType:"json"});return re.data.transactionHash}))}var Vi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Gi="reservestate";const Ji="wallet";const Xi="chainstate";function getReserveState(a){return Vi(this,void 0,void 0,(function*(){const C=yield http(a,{method:"get",path:`${Gi}`,responseType:"json"});return C.data}))}function getChainState(a){return Vi(this,void 0,void 0,(function*(){const C=yield http(a,{method:"get",path:`${Xi}`,responseType:"json"});return C.data}))}function getWalletBalance(a){return Vi(this,void 0,void 0,(function*(){const C=yield http(a,{method:"get",path:`${Ji}`,responseType:"json"});return C.data}))}var Yi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const Zi="tags";function retrieveExtendedTag(a,C){return Yi(this,void 0,void 0,(function*(){const q=yield http(a,{path:`${Zi}/${C}`,responseType:"json"});return q.data}))}var Qi=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};const eo="stamps";function getAllPostageBatches(a){return Qi(this,void 0,void 0,(function*(){const C=yield http(a,{method:"get",path:`${eo}`,responseType:"json"});return C.data.stamps||[]}))}function getPostageBatch(a,C){return Qi(this,void 0,void 0,(function*(){const q=yield http(a,{method:"get",path:`${eo}/${C}`,responseType:"json"});return q.data}))}function getPostageBatchBuckets(a,C){return Qi(this,void 0,void 0,(function*(){const q=yield http(a,{method:"get",path:`${eo}/${C}/buckets`,responseType:"json"});return q.data}))}function createPostageBatch(a,C,q,re){return Qi(this,void 0,void 0,(function*(){const ae={};if(re===null||re===void 0?void 0:re.gasPrice){ae["gas-price"]=re.gasPrice.toString()}if((re===null||re===void 0?void 0:re.immutableFlag)!==undefined){ae.immutable=String(re.immutableFlag)}const Ue=yield http(a,{method:"post",path:`${eo}/${C}/${q}`,responseType:"json",searchParams:{label:re===null||re===void 0?void 0:re.label},headers:ae});return Ue.data.batchID}))}function topUpBatch(a,C,q){return Qi(this,void 0,void 0,(function*(){const re=yield http(a,{method:"patch",path:`${eo}/topup/${C}/${q}`,responseType:"json"});return re.data.batchID}))}function diluteBatch(a,C,q){return Qi(this,void 0,void 0,(function*(){const re=yield http(a,{method:"patch",path:`${eo}/dilute/${C}/${q}`,responseType:"json"});return re.data.batchID}))}var to=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};function sleep_sleep(a){return to(this,void 0,void 0,(function*(){return new Promise((C=>setTimeout((()=>C()),a)))}))}var ro=undefined&&undefined.__awaiter||function(a,C,q,re){function adopt(a){return a instanceof q?a:new q((function(C){C(a)}))}return new(q||(q=Promise))((function(q,ae){function fulfilled(a){try{step(re.next(a))}catch(a){ae(a)}}function rejected(a){try{step(re["throw"](a))}catch(a){ae(a)}}function step(a){a.done?q(a.value):adopt(a.value).then(fulfilled,rejected)}step((re=re.apply(a,C||[])).next())}))};class BeeDebug{constructor(a,C){var q;assertBeeUrl(a);this.url=stripLastSlash(a);const re={prefixUrl:this.url,timeout:(q=C===null||C===void 0?void 0:C.timeout)!==null&&q!==void 0?q:false,retry:C===null||C===void 0?void 0:C.retry,fetch:C===null||C===void 0?void 0:C.fetch,hooks:{beforeRequest:[],afterResponse:[]}};if(C===null||C===void 0?void 0:C.defaultHeaders){re.headers=C.defaultHeaders}if(C===null||C===void 0?void 0:C.onRequest){re.hooks.beforeRequest.push(wrapRequestClosure(C.onRequest))}if(C===null||C===void 0?void 0:C.onResponse){re.hooks.afterResponse.push(wrapResponseClosure(C.onResponse))}this.ky=makeDefaultKy(re)}getNodeAddresses(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return connectivity.getNodeAddresses(this.getKy(a))}))}getBlocklist(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return connectivity.getBlocklist(this.getKy(a))}))}retrieveExtendedTag(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);if(isTag(a)){a=a.uid}else if(typeof a==="number"){assertNonNegativeInteger(a,"UID")}else{throw new TypeError("tagUid has to be either Tag or a number (UID)!")}return tag.retrieveExtendedTag(this.getKy(C),a)}))}getPeers(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return connectivity.getPeers(this.getKy(a))}))}removePeer(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertAddress(a);return connectivity.removePeer(this.getKy(C),a)}))}getTopology(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return connectivity.getTopology(this.getKy(a))}))}pingPeer(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertAddress(a);return connectivity.pingPeer(this.getKy(C),a)}))}getAllBalances(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return balance.getAllBalances(this.getKy(a))}))}getPeerBalance(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertAddress(a);return balance.getPeerBalance(this.getKy(C),a)}))}getPastDueConsumptionBalances(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return balance.getPastDueConsumptionBalances(this.getKy(a))}))}getPastDueConsumptionPeerBalance(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertAddress(a);return balance.getPastDueConsumptionPeerBalance(this.getKy(C),a)}))}getChequebookAddress(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return chequebook.getChequebookAddress(this.getKy(a))}))}getChequebookBalance(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return chequebook.getChequebookBalance(this.getKy(a))}))}getLastCheques(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return chequebook.getLastCheques(this.getKy(a))}))}getLastChequesForPeer(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertAddress(a);return chequebook.getLastChequesForPeer(this.getKy(C),a)}))}getLastCashoutAction(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertAddress(a);return chequebook.getLastCashoutAction(this.getKy(C),a)}))}cashoutLastCheque(a,C){return ro(this,void 0,void 0,(function*(){assertCashoutOptions(C);assertAddress(a);return chequebook.cashoutLastCheque(this.getKy(C),a,C)}))}depositTokens(a,C,q){return ro(this,void 0,void 0,(function*(){assertRequestOptions(q);assertNonNegativeInteger(a);if(C){assertNonNegativeInteger(C)}return chequebook.depositTokens(this.getKy(q),a,C)}))}withdrawTokens(a,C,q){return ro(this,void 0,void 0,(function*(){assertRequestOptions(q);assertNonNegativeInteger(a);if(C){assertNonNegativeInteger(C)}return chequebook.withdrawTokens(this.getKy(q),a,C)}))}getSettlements(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertAddress(a);return settlements.getSettlements(this.getKy(C),a)}))}getAllSettlements(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return settlements.getAllSettlements(this.getKy(a))}))}getHealth(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.getHealth(this.getKy(a))}))}getNodeInfo(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.getNodeInfo(this.getKy(a))}))}isSupportedVersion(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.isSupportedVersion(this.getKy(a))}))}isSupportedExactVersion(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.isSupportedExactVersion(this.getKy(a))}))}isSupportedMainApiVersion(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.isSupportedMainApiVersion(this.getKy(a))}))}isSupportedDebugApiVersion(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.isSupportedDebugApiVersion(this.getKy(a))}))}isSupportedApiVersion(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.isSupportedDebugApiVersion(this.getKy(a))}))}getVersions(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return status.getVersions(this.getKy(a))}))}getReserveState(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return states.getReserveState(this.getKy(a))}))}getChainState(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return states.getChainState(this.getKy(a))}))}getWalletBalance(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return states.getWalletBalance(this.getKy(a))}))}createPostageBatch(a,C,q){return ro(this,void 0,void 0,(function*(){assertPostageBatchOptions(q);assertPositiveInteger(a);assertNonNegativeInteger(C);if(C<STAMPS_DEPTH_MIN){throw new BeeArgumentError(`Depth has to be at least ${STAMPS_DEPTH_MIN}`,C)}if(C>STAMPS_DEPTH_MAX){throw new BeeArgumentError(`Depth has to be at most ${STAMPS_DEPTH_MAX}`,C)}const re=yield stamps.createPostageBatch(this.getKy(q),a,C,q);if(q===null||q===void 0?void 0:q.waitForUsable){yield this.waitForUsablePostageStamp(re,q===null||q===void 0?void 0:q.waitForUsableTimeout)}return re}))}topUpBatch(a,C,q){return ro(this,void 0,void 0,(function*(){assertRequestOptions(q);assertNonNegativeInteger(C,"Amount");assertBatchId(a);yield stamps.topUpBatch(this.getKy(q),a,C)}))}diluteBatch(a,C,q){return ro(this,void 0,void 0,(function*(){assertRequestOptions(q);assertNonNegativeInteger(C,"Depth");assertBatchId(a);yield stamps.diluteBatch(this.getKy(q),a,C)}))}getPostageBatch(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertBatchId(a);return stamps.getPostageBatch(this.getKy(C),a)}))}getPostageBatchBuckets(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertBatchId(a);return stamps.getPostageBatchBuckets(this.getKy(C),a)}))}getAllPostageBatch(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return stamps.getAllPostageBatches(this.getKy(a))}))}getAllPendingTransactions(a){return ro(this,void 0,void 0,(function*(){assertRequestOptions(a);return transactions.getAllTransactions(this.getKy(a))}))}getPendingTransaction(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertTransactionHash(a);return transactions.getTransaction(this.getKy(C),a)}))}rebroadcastPendingTransaction(a,C){return ro(this,void 0,void 0,(function*(){assertRequestOptions(C);assertTransactionHash(a);return transactions.rebroadcastTransaction(this.getKy(C),a)}))}cancelPendingTransaction(a,C,q){return ro(this,void 0,void 0,(function*(){assertRequestOptions(q);assertTransactionHash(a);if(C){assertNonNegativeInteger(C)}return transactions.cancelTransaction(this.getKy(q),a,C)}))}waitForUsablePostageStamp(a,C=12e4){return ro(this,void 0,void 0,(function*(){const q=1500;for(let re=0;re<C;re+=q){const C=yield this.getPostageBatch(a);if(C.usable){return}yield sleep(q)}throw new BeeError("Timeout on waiting for postage stamp to become usable")}))}getKy(a){if(!a){return this.ky}return this.ky.extend(a)}}function makeMaxTarget(a){if(typeof a!=="string"){throw new TypeError("target has to be an string!")}return a.slice(0,PSS_TARGET_HEX_LENGTH_MAX)}const no=BigInt(2**32-1);const io=BigInt(32);function fromBig(a,C=false){if(C)return{h:Number(a&no),l:Number(a>>io&no)};return{h:Number(a>>io&no)|0,l:Number(a&no)|0}}function split(a,C=false){let q=new Uint32Array(a.length);let re=new Uint32Array(a.length);for(let ae=0;ae<a.length;ae++){const{h:Ue,l:Pt}=fromBig(a[ae],C);[q[ae],re[ae]]=[Ue,Pt]}return[q,re]}const toBig=(a,C)=>BigInt(a>>>0)<<io|BigInt(C>>>0);const shrSH=(a,C,q)=>a>>>q;const shrSL=(a,C,q)=>a<<32-q|C>>>q;const rotrSH=(a,C,q)=>a>>>q|C<<32-q;const rotrSL=(a,C,q)=>a<<32-q|C>>>q;const rotrBH=(a,C,q)=>a<<64-q|C>>>q-32;const rotrBL=(a,C,q)=>a>>>q-32|C<<64-q;const rotr32H=(a,C)=>C;const rotr32L=(a,C)=>a;const rotlSH=(a,C,q)=>a<<q|C>>>32-q;const rotlSL=(a,C,q)=>C<<q|a>>>32-q;const rotlBH=(a,C,q)=>C<<q-32|a>>>64-q;const rotlBL=(a,C,q)=>a<<q-32|C>>>64-q;function add(a,C,q,re){const ae=(C>>>0)+(re>>>0);return{h:a+q+(ae/2**32|0)|0,l:ae|0}}const add3L=(a,C,q)=>(a>>>0)+(C>>>0)+(q>>>0);const add3H=(a,C,q,re)=>C+q+re+(a/2**32|0)|0;const add4L=(a,C,q,re)=>(a>>>0)+(C>>>0)+(q>>>0)+(re>>>0);const add4H=(a,C,q,re,ae)=>C+q+re+ae+(a/2**32|0)|0;const add5L=(a,C,q,re,ae)=>(a>>>0)+(C>>>0)+(q>>>0)+(re>>>0)+(ae>>>0);const add5H=(a,C,q,re,ae,Ue)=>C+q+re+ae+Ue+(a/2**32|0)|0;var oo=__nccwpck_require__(6113);const so={node:oo,web:undefined};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const u8=a=>new Uint8Array(a.buffer,a.byteOffset,a.byteLength);const u32=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4));const createView=a=>new DataView(a.buffer,a.byteOffset,a.byteLength);const rotr=(a,C)=>a<<32-C|a>>>C;const ao=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ao)throw new Error("Non little-endian hardware is not supported");const co=Array.from({length:256},((a,C)=>C.toString(16).padStart(2,"0")));function utils_bytesToHex(a){let C="";for(let q=0;q<a.length;q++){C+=co[a[q]]}return C}function utils_hexToBytes(a){if(typeof a!=="string"){throw new TypeError("hexToBytes: expected string, got "+typeof a)}if(a.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const C=new Uint8Array(a.length/2);for(let q=0;q<C.length;q++){const re=q*2;const ae=a.slice(re,re+2);const Ue=Number.parseInt(ae,16);if(Number.isNaN(Ue))throw new Error("Invalid byte sequence");C[q]=Ue}return C}const fo=(()=>{const a=typeof module!=="undefined"&&typeof module.require==="function"&&module.require.bind(module);try{if(a){const{setImmediate:C}=a("timers");return()=>new Promise((a=>C(a)))}}catch(a){}return()=>new Promise((a=>setTimeout(a,0)))})();async function asyncLoop(a,C,q){let re=Date.now();for(let ae=0;ae<a;ae++){q(ae);const a=Date.now()-re;if(a>=0&&a<C)continue;await fo();re+=a}}function utf8ToBytes(a){if(typeof a!=="string"){throw new TypeError(`utf8ToBytes expected string, got ${typeof a}`)}return(new TextEncoder).encode(a)}function toBytes(a){if(typeof a==="string")a=utf8ToBytes(a);if(!(a instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof a})`);return a}function concatBytes(...a){if(!a.every((a=>a instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(a.length===1)return a[0];const C=a.reduce(((a,C)=>a+C.length),0);const q=new Uint8Array(C);for(let C=0,re=0;C<a.length;C++){const ae=a[C];q.set(ae,re);re+=ae.length}return q}function assertNumber(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function assertBool(a){if(typeof a!=="boolean"){throw new Error(`Expected boolean, not ${a}`)}}function utils_assertBytes(a,...C){if(a instanceof Uint8Array&&(!C.length||C.includes(a.length))){return}throw new TypeError(`Expected ${C} bytes, not ${typeof a} with length=${a.length}`)}function assertHash(a){if(typeof a!=="function"||typeof a.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");assertNumber(a.outputLen);assertNumber(a.blockLen)}class Hash{clone(){return this._cloneInto()}}const isPlainObject=a=>Object.prototype.toString.call(a)==="[object Object]"&&a.constructor===Object;function checkOpts(a,C){if(C!==undefined&&(typeof C!=="object"||!isPlainObject(C)))throw new TypeError("Options should be object or undefined");const q=Object.assign(a,C);return q}function wrapConstructor(a){const hashC=C=>a().update(toBytes(C)).digest();const C=a();hashC.outputLen=C.outputLen;hashC.blockLen=C.blockLen;hashC.create=()=>a();return hashC}function wrapConstructorWithOpts(a){const hashC=(C,q)=>a(q).update(toBytes(C)).digest();const C=a({});hashC.outputLen=C.outputLen;hashC.blockLen=C.blockLen;hashC.create=C=>a(C);return hashC}function randomBytes(a=32){if(crypto.web){return crypto.web.getRandomValues(new Uint8Array(a))}else if(crypto.node){return new Uint8Array(crypto.node.randomBytes(a).buffer)}else{throw new Error("The environment doesn't have randomBytes function")}}const[uo,lo,ho]=[[],[],[]];const po=BigInt(0);const bo=BigInt(1);const mo=BigInt(2);const vo=BigInt(7);const yo=BigInt(256);const go=BigInt(113);for(let a=0,C=bo,q=1,re=0;a<24;a++){[q,re]=[re,(2*q+3*re)%5];uo.push(2*(5*re+q));lo.push((a+1)*(a+2)/2%64);let ae=po;for(let a=0;a<7;a++){C=(C<<bo^(C>>vo)*go)%yo;if(C&mo)ae^=bo<<(bo<<BigInt(a))-bo}ho.push(ae)}const[wo,_o]=split(ho,true);const rotlH=(a,C,q)=>q>32?rotlBH(a,C,q):rotlSH(a,C,q);const rotlL=(a,C,q)=>q>32?rotlBL(a,C,q):rotlSL(a,C,q);function keccakP(a,C=24){const q=new Uint32Array(5*2);for(let re=24-C;re<24;re++){for(let C=0;C<10;C++)q[C]=a[C]^a[C+10]^a[C+20]^a[C+30]^a[C+40];for(let C=0;C<10;C+=2){const re=(C+8)%10;const ae=(C+2)%10;const Ue=q[ae];const Pt=q[ae+1];const Wt=rotlH(Ue,Pt,1)^q[re];const Er=rotlL(Ue,Pt,1)^q[re+1];for(let q=0;q<50;q+=10){a[C+q]^=Wt;a[C+q+1]^=Er}}let C=a[2];let ae=a[3];for(let q=0;q<24;q++){const re=lo[q];const Ue=rotlH(C,ae,re);const Pt=rotlL(C,ae,re);const Wt=uo[q];C=a[Wt];ae=a[Wt+1];a[Wt]=Ue;a[Wt+1]=Pt}for(let C=0;C<50;C+=10){for(let re=0;re<10;re++)q[re]=a[C+re];for(let re=0;re<10;re++)a[C+re]^=~q[(re+2)%10]&q[(re+4)%10]}a[0]^=wo[re];a[1]^=_o[re]}q.fill(0)}class Keccak extends Hash{constructor(a,C,q,re=false,ae=24){super();this.blockLen=a;this.suffix=C;this.outputLen=q;this.enableXOF=re;this.rounds=ae;this.pos=0;this.posOut=0;this.finished=false;this.destroyed=false;assertNumber(q);if(0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200);this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds);this.posOut=0;this.pos=0}update(a){if(this.destroyed)throw new Error("instance is destroyed");if(this.finished)throw new Error("digest() was already called");const{blockLen:C,state:q}=this;a=toBytes(a);const re=a.length;for(let ae=0;ae<re;){const Ue=Math.min(C-this.pos,re-ae);for(let C=0;C<Ue;C++)q[this.pos++]^=a[ae++];if(this.pos===C)this.keccak()}return this}finish(){if(this.finished)return;this.finished=true;const{state:a,suffix:C,pos:q,blockLen:re}=this;a[q]^=C;if((C&128)!==0&&q===re-1)this.keccak();a[re-1]^=128;this.keccak()}writeInto(a){if(this.destroyed)throw new Error("instance is destroyed");if(!(a instanceof Uint8Array))throw new Error("Keccak: invalid output buffer");this.finish();for(let C=0,q=a.length;C<q;){if(this.posOut>=this.blockLen)this.keccak();const re=Math.min(this.blockLen-this.posOut,q-C);a.set(this.state.subarray(this.posOut,this.posOut+re),C);this.posOut+=re;C+=re}return a}xofInto(a){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){assertNumber(a);return this.xofInto(new Uint8Array(a))}digestInto(a){if(a.length<this.outputLen)throw new Error("Keccak: invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finish();this.writeInto(a);this.destroy();return a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=true;this.state.fill(0)}_cloneInto(a){const{blockLen:C,suffix:q,outputLen:re,rounds:ae,enableXOF:Ue}=this;a||(a=new Keccak(C,q,re,Ue,ae));a.state32.set(this.state32);a.pos=this.pos;a.posOut=this.posOut;a.finished=this.finished;a.rounds=ae;a.suffix=q;a.outputLen=re;a.enableXOF=Ue;a.destroyed=this.destroyed;return a}}const gen=(a,C,q)=>wrapConstructor((()=>new Keccak(C,a,q)));const So=gen(6,144,224/8);const Eo=gen(6,136,256/8);const To=gen(6,104,384/8);const Ao=gen(6,72,512/8);const Ro=gen(1,144,224/8);const xo=gen(1,136,256/8);const ko=gen(1,104,384/8);const Po=gen(1,72,512/8);const genShake=(a,C,q)=>wrapConstructorWithOpts(((re={})=>new Keccak(C,a,re.dkLen!==undefined?re.dkLen:q,true)));const Bo=genShake(31,168,128/8);const Mo=genShake(31,136,256/8);
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
const Oo=BigInt(0);const Co=BigInt(1);const Io=BigInt(2);const No=BigInt(3);const qo=BigInt(8);const jo=Io**BigInt(256);const Lo={a:Oo,b:BigInt(7),P:jo-Io**BigInt(32)-BigInt(977),n:jo-BigInt("432420386565659656852420866394968145599"),h:Co,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function weistrass(a){const{a:C,b:q}=Lo;const re=mod(a*a);const ae=mod(re*a);return mod(ae+C*a+q)}const Do=Lo.a===Oo;class JacobianPoint{constructor(a,C,q){this.x=a;this.y=C;this.z=q}static fromAffine(a){if(!(a instanceof Point)){throw new TypeError("JacobianPoint#fromAffine: expected Point")}return new JacobianPoint(a.x,a.y,Co)}static toAffineBatch(a){const C=invertBatch(a.map((a=>a.z)));return a.map(((a,q)=>a.toAffine(C[q])))}static normalizeZ(a){return JacobianPoint.toAffineBatch(a).map(JacobianPoint.fromAffine)}equals(a){if(!(a instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:C,y:q,z:re}=this;const{x:ae,y:Ue,z:Pt}=a;const Wt=mod(re**Io);const Er=mod(Pt**Io);const Ar=mod(C*Er);const xr=mod(ae*Wt);const kr=mod(mod(q*Pt)*Er);const Pr=mod(mod(Ue*re)*Wt);return Ar===xr&&kr===Pr}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:a,y:C,z:q}=this;const re=mod(a**Io);const ae=mod(C**Io);const Ue=mod(ae**Io);const Pt=mod(Io*(mod((a+ae)**Io)-re-Ue));const Wt=mod(No*re);const Er=mod(Wt**Io);const Ar=mod(Er-Io*Pt);const xr=mod(Wt*(Pt-Ar)-qo*Ue);const kr=mod(Io*C*q);return new JacobianPoint(Ar,xr,kr)}add(a){if(!(a instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:C,y:q,z:re}=this;const{x:ae,y:Ue,z:Pt}=a;if(ae===Oo||Ue===Oo)return this;if(C===Oo||q===Oo)return a;const Wt=mod(re**Io);const Er=mod(Pt**Io);const Ar=mod(C*Er);const xr=mod(ae*Wt);const kr=mod(mod(q*Pt)*Er);const Pr=mod(mod(Ue*re)*Wt);const Br=mod(xr-Ar);const Mr=mod(Pr-kr);if(Br===Oo){if(Mr===Oo){return this.double()}else{return JacobianPoint.ZERO}}const Or=mod(Br**Io);const Ir=mod(Br*Or);const Nr=mod(Ar*Or);const jr=mod(Mr**Io-Ir-Io*Nr);const Lr=mod(Mr*(Nr-jr)-kr*Ir);const Dr=mod(re*Pt*Br);return new JacobianPoint(jr,Lr,Dr)}subtract(a){return this.add(a.negate())}multiplyUnsafe(a){let C=normalizeScalar(a);const q=JacobianPoint.BASE;const re=JacobianPoint.ZERO;if(C===Oo)return re;if(C===Co)return this;if(!Do){let a=re;let q=this;while(C>Oo){if(C&Co)a=a.add(q);q=q.double();C>>=Co}return a}let{k1neg:ae,k1:Ue,k2neg:Pt,k2:Wt}=splitScalarEndo(C);let Er=re;let Ar=re;let xr=this;while(Ue>Oo||Wt>Oo){if(Ue&Co)Er=Er.add(xr);if(Wt&Co)Ar=Ar.add(xr);xr=xr.double();Ue>>=Co;Wt>>=Co}if(ae)Er=Er.negate();if(Pt)Ar=Ar.negate();Ar=new JacobianPoint(mod(Ar.x*Lo.beta),Ar.y,Ar.z);return Er.add(Ar)}precomputeWindow(a){const C=Do?128/a+1:256/a+1;const q=[];let re=this;let ae=re;for(let Ue=0;Ue<C;Ue++){ae=re;q.push(ae);for(let C=1;C<2**(a-1);C++){ae=ae.add(re);q.push(ae)}re=ae.double()}return q}wNAF(a,C){if(!C&&this.equals(JacobianPoint.BASE))C=Point.BASE;const q=C&&C._WINDOW_SIZE||1;if(256%q){throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2")}let re=C&&Ho.get(C);if(!re){re=this.precomputeWindow(q);if(C&&q!==1){re=JacobianPoint.normalizeZ(re);Ho.set(C,re)}}let ae=JacobianPoint.ZERO;let Ue=JacobianPoint.ZERO;const Pt=1+(Do?128/q:256/q);const Wt=2**(q-1);const Er=BigInt(2**q-1);const Ar=2**q;const xr=BigInt(q);for(let C=0;C<Pt;C++){const q=C*Wt;let Pt=Number(a&Er);a>>=xr;if(Pt>Wt){Pt-=Ar;a+=Co}if(Pt===0){let a=re[q];if(C%2)a=a.negate();Ue=Ue.add(a)}else{let a=re[q+Math.abs(Pt)-1];if(Pt<0)a=a.negate();ae=ae.add(a)}}return{p:ae,f:Ue}}multiply(a,C){let q=normalizeScalar(a);let re;let ae;if(Do){const{k1neg:a,k1:Ue,k2neg:Pt,k2:Wt}=splitScalarEndo(q);let{p:Er,f:Ar}=this.wNAF(Ue,C);let{p:xr,f:kr}=this.wNAF(Wt,C);if(a)Er=Er.negate();if(Pt)xr=xr.negate();xr=new JacobianPoint(mod(xr.x*Lo.beta),xr.y,xr.z);re=Er.add(xr);ae=Ar.add(kr)}else{const{p:a,f:Ue}=this.wNAF(q,C);re=a;ae=Ue}return JacobianPoint.normalizeZ([re,ae])[0]}toAffine(a=invert(this.z)){const{x:C,y:q,z:re}=this;const ae=a;const Ue=mod(ae*ae);const Pt=mod(Ue*ae);const Wt=mod(C*Ue);const Er=mod(q*Pt);const Ar=mod(re*ae);if(Ar!==Co)throw new Error("invZ was invalid");return new Point(Wt,Er)}}JacobianPoint.BASE=new JacobianPoint(Lo.Gx,Lo.Gy,Co);JacobianPoint.ZERO=new JacobianPoint(Oo,Co,Oo);const Ho=new WeakMap;class Point{constructor(a,C){this.x=a;this.y=C}_setWindowSize(a){this._WINDOW_SIZE=a;Ho.delete(this)}static fromCompressedHex(a){const C=a.length===32;const q=bytesToNumber(C?a:a.subarray(1));if(!isValidFieldElement(q))throw new Error("Point is not on curve");const re=weistrass(q);let ae=sqrtMod(re);const Ue=(ae&Co)===Co;if(C){if(Ue)ae=mod(-ae)}else{const C=(a[0]&1)===1;if(C!==Ue)ae=mod(-ae)}const Pt=new Point(q,ae);Pt.assertValidity();return Pt}static fromUncompressedHex(a){const C=bytesToNumber(a.subarray(1,33));const q=bytesToNumber(a.subarray(33,65));const re=new Point(C,q);re.assertValidity();return re}static fromHex(a){const C=ensureBytes(a);const q=C.length;const re=C[0];if(q===32||q===33&&(re===2||re===3)){return this.fromCompressedHex(C)}if(q===65&&re===4)return this.fromUncompressedHex(C);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${q}`)}static fromPrivateKey(a){return Point.BASE.multiply(normalizePrivateKey(a))}static fromSignature(a,C,q){a=ensureBytes(a);const re=truncateHash(a);const{r:ae,s:Ue}=normalizeSignature(C);if(q!==0&&q!==1){throw new Error("Cannot recover signature: invalid recovery bit")}if(re===Oo)throw new Error("Cannot recover signature: msgHash cannot be 0");const Pt=q&1?"03":"02";const Wt=Point.fromHex(Pt+numTo32bStr(ae));const{n:Er}=Lo;const Ar=invert(ae,Er);const xr=mod(-re*Ar,Er);const kr=mod(Ue*Ar,Er);const Pr=Point.BASE.multiplyAndAddUnsafe(Wt,xr,kr);if(!Pr)throw new Error("Cannot recover signature: point at infinify");Pr.assertValidity();return Pr}toRawBytes(a=false){return esm_hexToBytes(this.toHex(a))}toHex(a=false){const C=numTo32bStr(this.x);if(a){const a=this.y&Co?"03":"02";return`${a}${C}`}else{return`04${C}${numTo32bStr(this.y)}`}}toHexX(){return this.toHex(true).slice(2)}toRawX(){return this.toRawBytes(true).slice(1)}assertValidity(){const a="Point is not on elliptic curve";const{x:C,y:q}=this;if(!isValidFieldElement(C)||!isValidFieldElement(q))throw new Error(a);const re=mod(q*q);const ae=weistrass(C);if(mod(re-ae)!==Oo)throw new Error(a)}equals(a){return this.x===a.x&&this.y===a.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(a){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(a)).toAffine()}subtract(a){return this.add(a.negate())}multiply(a){return JacobianPoint.fromAffine(this).multiply(a,this).toAffine()}multiplyAndAddUnsafe(a,C,q){const re=JacobianPoint.fromAffine(this);const ae=re.multiply(C);const Ue=JacobianPoint.fromAffine(a).multiplyUnsafe(q);const Pt=ae.add(Ue);return Pt.equals(JacobianPoint.ZERO)?undefined:Pt.toAffine()}}Point.BASE=new Point(Lo.Gx,Lo.Gy);Point.ZERO=new Point(Oo,Oo);function sliceDER(a){return Number.parseInt(a[0],16)>=8?"00"+a:a}function parseDERInt(a){if(a.length<2||a[0]!==2){throw new Error(`Invalid signature integer tag: ${esm_bytesToHex(a)}`)}const C=a[1];const q=a.subarray(2,C+2);if(!C||q.length!==C){throw new Error(`Invalid signature integer: wrong length`)}if(q[0]===0&&q[1]<=127){throw new Error("Invalid signature integer: trailing length")}return{data:bytesToNumber(q),left:a.subarray(C+2)}}function parseDERSignature(a){if(a.length<2||a[0]!=48){throw new Error(`Invalid signature tag: ${esm_bytesToHex(a)}`)}if(a[1]!==a.length-2){throw new Error("Invalid signature: incorrect length")}const{data:C,left:q}=parseDERInt(a.subarray(2));const{data:re,left:ae}=parseDERInt(q);if(ae.length){throw new Error(`Invalid signature: left bytes after parsing: ${esm_bytesToHex(ae)}`)}return{r:C,s:re}}class Signature{constructor(a,C){this.r=a;this.s=C;this.assertValidity()}static fromCompact(a){const C=isUint8a(a);const q="Signature.fromCompact";if(typeof a!=="string"&&!C)throw new TypeError(`${q}: Expected string or Uint8Array`);const re=C?esm_bytesToHex(a):a;if(re.length!==128)throw new Error(`${q}: Expected 64-byte hex`);return new Signature(hexToNumber(re.slice(0,64)),hexToNumber(re.slice(64,128)))}static fromDER(a){const C=isUint8a(a);if(typeof a!=="string"&&!C)throw new TypeError(`Signature.fromDER: Expected string or Uint8Array`);const{r:q,s:re}=parseDERSignature(C?a:esm_hexToBytes(a));return new Signature(q,re)}static fromHex(a){return this.fromDER(a)}assertValidity(){const{r:a,s:C}=this;if(!isWithinCurveOrder(a))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(C))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const a=Lo.n>>Co;return this.s>a}normalizeS(){return this.hasHighS()?new Signature(this.r,Lo.n-this.s):this}toDERRawBytes(a=false){return esm_hexToBytes(this.toDERHex(a))}toDERHex(a=false){const C=sliceDER(numberToHexUnpadded(this.s));if(a)return C;const q=sliceDER(numberToHexUnpadded(this.r));const re=numberToHexUnpadded(q.length/2);const ae=numberToHexUnpadded(C.length/2);const Ue=numberToHexUnpadded(q.length/2+C.length/2+4);return`30${Ue}02${re}${q}02${ae}${C}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return esm_hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function esm_concatBytes(...a){if(!a.every(isUint8a))throw new Error("Uint8Array list expected");if(a.length===1)return a[0];const C=a.reduce(((a,C)=>a+C.length),0);const q=new Uint8Array(C);for(let C=0,re=0;C<a.length;C++){const ae=a[C];q.set(ae,re);re+=ae.length}return q}function isUint8a(a){return a instanceof Uint8Array}const Fo=Array.from({length:256},((a,C)=>C.toString(16).padStart(2,"0")));function esm_bytesToHex(a){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");let C="";for(let q=0;q<a.length;q++){C+=Fo[a[q]]}return C}function numTo32bStr(a){if(a>jo)throw new Error("Expected number < 2^256");return a.toString(16).padStart(64,"0")}function numTo32b(a){return esm_hexToBytes(numTo32bStr(a))}function numberToHexUnpadded(a){const C=a.toString(16);return C.length&1?`0${C}`:C}function hexToNumber(a){if(typeof a!=="string"){throw new TypeError("hexToNumber: expected string, got "+typeof a)}return BigInt(`0x${a}`)}function esm_hexToBytes(a){if(typeof a!=="string"){throw new TypeError("hexToBytes: expected string, got "+typeof a)}if(a.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+a.length);const C=new Uint8Array(a.length/2);for(let q=0;q<C.length;q++){const re=q*2;const ae=a.slice(re,re+2);const Ue=Number.parseInt(ae,16);if(Number.isNaN(Ue)||Ue<0)throw new Error("Invalid byte sequence");C[q]=Ue}return C}function bytesToNumber(a){return hexToNumber(esm_bytesToHex(a))}function ensureBytes(a){return a instanceof Uint8Array?Uint8Array.from(a):esm_hexToBytes(a)}function normalizeScalar(a){if(typeof a==="number"&&Number.isSafeInteger(a)&&a>0)return BigInt(a);if(typeof a==="bigint"&&isWithinCurveOrder(a))return a;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(a,C=Lo.P){const q=a%C;return q>=Oo?q:C+q}function pow2(a,C){const{P:q}=Lo;let re=a;while(C-- >Oo){re*=re;re%=q}return re}function sqrtMod(a){const{P:C}=Lo;const q=BigInt(6);const re=BigInt(11);const ae=BigInt(22);const Ue=BigInt(23);const Pt=BigInt(44);const Wt=BigInt(88);const Er=a*a*a%C;const Ar=Er*Er*a%C;const xr=pow2(Ar,No)*Ar%C;const kr=pow2(xr,No)*Ar%C;const Pr=pow2(kr,Io)*Er%C;const Br=pow2(Pr,re)*Pr%C;const Mr=pow2(Br,ae)*Br%C;const Or=pow2(Mr,Pt)*Mr%C;const Ir=pow2(Or,Wt)*Or%C;const Nr=pow2(Ir,Pt)*Mr%C;const jr=pow2(Nr,No)*Ar%C;const Lr=pow2(jr,Ue)*Br%C;const Dr=pow2(Lr,q)*Er%C;return pow2(Dr,Io)}function invert(a,C=Lo.P){if(a===Oo||C<=Oo){throw new Error(`invert: expected positive integers, got n=${a} mod=${C}`)}let q=mod(a,C);let re=C;let ae=Oo,Ue=Co,Pt=Co,Wt=Oo;while(q!==Oo){const a=re/q;const C=re%q;const Er=ae-Pt*a;const Ar=Ue-Wt*a;re=q,q=C,ae=Pt,Ue=Wt,Pt=Er,Wt=Ar}const Er=re;if(Er!==Co)throw new Error("invert: does not exist");return mod(ae,C)}function invertBatch(a,C=Lo.P){const q=new Array(a.length);const re=a.reduce(((a,re,ae)=>{if(re===Oo)return a;q[ae]=a;return mod(a*re,C)}),Co);const ae=invert(re,C);a.reduceRight(((a,re,ae)=>{if(re===Oo)return a;q[ae]=mod(a*q[ae],C);return mod(a*re,C)}),ae);return q}const divNearest=(a,C)=>(a+C/Io)/C;const Uo=Io**BigInt(128);function splitScalarEndo(a){const{n:C}=Lo;const q=BigInt("0x3086d221a7d46bcde86c90e49284eb15");const re=-Co*BigInt("0xe4437ed6010e88286f547fa90abfe4c3");const ae=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8");const Ue=q;const Pt=divNearest(Ue*a,C);const Wt=divNearest(-re*a,C);let Er=mod(a-Pt*q-Wt*ae,C);let Ar=mod(-Pt*re-Wt*Ue,C);const xr=Er>Uo;const kr=Ar>Uo;if(xr)Er=C-Er;if(kr)Ar=C-Ar;if(Er>Uo||Ar>Uo){throw new Error("splitScalarEndo: Endomorphism failed, k="+a)}return{k1neg:xr,k1:Er,k2neg:kr,k2:Ar}}function truncateHash(a){const{n:C}=Lo;const q=a.length;const re=q*8-256;let ae=bytesToNumber(a);if(re>0)ae=ae>>BigInt(re);if(ae>=C)ae-=C;return ae}class HmacDrbg{constructor(){this.v=new Uint8Array(32).fill(1);this.k=new Uint8Array(32).fill(0);this.counter=0}hmac(...a){return Ko.hmacSha256(this.k,...a)}hmacSync(...a){if(typeof Ko.hmacSha256Sync!=="function")throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const C=Ko.hmacSha256Sync(this.k,...a);if(C instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return C}incr(){if(this.counter>=1e3){throw new Error("Tried 1,000 k values for sign(), all were invalid")}this.counter+=1}async reseed(a=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),a);this.v=await this.hmac(this.v);if(a.length===0)return;this.k=await this.hmac(this.v,Uint8Array.from([1]),a);this.v=await this.hmac(this.v)}reseedSync(a=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),a);this.v=this.hmacSync(this.v);if(a.length===0)return;this.k=this.hmacSync(this.v,Uint8Array.from([1]),a);this.v=this.hmacSync(this.v)}async generate(){this.incr();this.v=await this.hmac(this.v);return this.v}generateSync(){this.incr();this.v=this.hmacSync(this.v);return this.v}}function isWithinCurveOrder(a){return Oo<a&&a<Lo.n}function isValidFieldElement(a){return Oo<a&&a<Lo.P}function kmdToSig(a,C,q){const re=bytesToNumber(a);if(!isWithinCurveOrder(re))return;const{n:ae}=Lo;const Ue=Point.BASE.multiply(re);const Pt=mod(Ue.x,ae);if(Pt===Oo)return;const Wt=mod(invert(re,ae)*mod(C+q*Pt,ae),ae);if(Wt===Oo)return;const Er=new Signature(Pt,Wt);const Ar=(Ue.x===Er.r?0:2)|Number(Ue.y&Co);return{sig:Er,recovery:Ar}}function normalizePrivateKey(a){let C;if(typeof a==="bigint"){C=a}else if(typeof a==="number"&&Number.isSafeInteger(a)&&a>0){C=BigInt(a)}else if(typeof a==="string"){if(a.length!==64)throw new Error("Expected 32 bytes of private key");C=hexToNumber(a)}else if(isUint8a(a)){if(a.length!==32)throw new Error("Expected 32 bytes of private key");C=bytesToNumber(a)}else{throw new TypeError("Expected valid private key")}if(!isWithinCurveOrder(C))throw new Error("Expected private key: 0 < key < n");return C}function normalizePublicKey(a){if(a instanceof Point){a.assertValidity();return a}else{return Point.fromHex(a)}}function normalizeSignature(a){if(a instanceof Signature){a.assertValidity();return a}try{return Signature.fromDER(a)}catch(C){return Signature.fromCompact(a)}}function getPublicKey(a,C=false){return Point.fromPrivateKey(a).toRawBytes(C)}function recoverPublicKey(a,C,q,re=false){return Point.fromSignature(a,C,q).toRawBytes(re)}function isPub(a){const C=isUint8a(a);const q=typeof a==="string";const re=(C||q)&&a.length;if(C)return re===33||re===65;if(q)return re===66||re===130;if(a instanceof Point)return true;return false}function getSharedSecret(a,C,q=false){if(isPub(a))throw new TypeError("getSharedSecret: first arg must be private key");if(!isPub(C))throw new TypeError("getSharedSecret: second arg must be public key");const re=normalizePublicKey(C);re.assertValidity();return re.multiply(normalizePrivateKey(a)).toRawBytes(q)}function bits2int(a){const C=a.length>32?a.slice(0,32):a;return bytesToNumber(C)}function bits2octets(a){const C=bits2int(a);const q=mod(C,Lo.n);return int2octets(q<Oo?C:q)}function int2octets(a){if(typeof a!=="bigint")throw new Error("Expected bigint");const C=numTo32bStr(a);return esm_hexToBytes(C)}function initSigArgs(a,C,q){if(a==null)throw new Error(`sign: expected valid message hash, not "${a}"`);const re=ensureBytes(a);const ae=normalizePrivateKey(C);const Ue=[int2octets(ae),bits2octets(re)];if(q!=null){if(q===true)q=Ko.randomBytes(32);const a=ensureBytes(q);if(a.length!==32)throw new Error("sign: Expected 32 bytes of extra data");Ue.push(a)}const Pt=esm_concatBytes(...Ue);const Wt=bits2int(re);return{seed:Pt,m:Wt,d:ae}}function finalizeSig(a,C){let{sig:q,recovery:re}=a;const{canonical:ae,der:Ue,recovered:Pt}=Object.assign({canonical:true,der:true},C);if(ae&&q.hasHighS()){q=q.normalizeS();re^=1}const Wt=Ue?q.toDERRawBytes():q.toCompactRawBytes();return Pt?[Wt,re]:Wt}async function esm_sign(a,C,q={}){const{seed:re,m:ae,d:Ue}=initSigArgs(a,C,q.extraEntropy);let Pt;const Wt=new HmacDrbg;await Wt.reseed(re);while(!(Pt=kmdToSig(await Wt.generate(),ae,Ue)))await Wt.reseed();return finalizeSig(Pt,q)}function signSync(a,C,q={}){const{seed:re,m:ae,d:Ue}=initSigArgs(a,C,q.extraEntropy);let Pt;const Wt=new HmacDrbg;Wt.reseedSync(re);while(!(Pt=kmdToSig(Wt.generateSync(),ae,Ue)))Wt.reseedSync();return finalizeSig(Pt,q)}const $o={strict:true};function verify(a,C,q,re=$o){let ae;try{ae=normalizeSignature(a);C=ensureBytes(C)}catch(a){return false}const{r:Ue,s:Pt}=ae;if(re.strict&&ae.hasHighS())return false;const Wt=truncateHash(C);if(Wt===Oo)return false;let Er;try{Er=normalizePublicKey(q)}catch(a){return false}const{n:Ar}=Lo;const xr=invert(Pt,Ar);const kr=mod(Wt*xr,Ar);const Pr=mod(Ue*xr,Ar);const Br=Point.BASE.multiplyAndAddUnsafe(Er,kr,Pr);if(!Br)return false;const Mr=mod(Br.x,Ar);return Mr===Ue}async function taggedHash(a,...C){const q=new Uint8Array(a.split("").map((a=>a.charCodeAt(0))));const re=await Ko.sha256(q);const ae=await Ko.sha256(esm_concatBytes(re,re,...C));return bytesToNumber(ae)}async function createChallenge(a,C,q){const re=numTo32b(a);const ae=await taggedHash("BIP0340/challenge",re,C.toRawX(),q);return mod(ae,Lo.n)}function hasEvenY(a){return(a.y&Co)===Oo}class SchnorrSignature{constructor(a,C){this.r=a;this.s=C;this.assertValidity()}static fromHex(a){const C=ensureBytes(a);if(C.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${C.length}`);const q=bytesToNumber(C.subarray(0,32));const re=bytesToNumber(C.subarray(32,64));return new SchnorrSignature(q,re)}assertValidity(){const{r:a,s:C}=this;if(!isValidFieldElement(a)||!isWithinCurveOrder(C))throw new Error("Invalid signature")}toHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}toRawBytes(){return esm_hexToBytes(this.toHex())}}function schnorrGetPublicKey(a){return Point.fromPrivateKey(a).toRawX()}async function schnorrSign(a,C,q=Ko.randomBytes()){if(a==null)throw new TypeError(`sign: Expected valid message, not "${a}"`);const{n:re}=Lo;const ae=ensureBytes(a);const Ue=normalizePrivateKey(C);const Pt=ensureBytes(q);if(Pt.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");const Wt=Point.fromPrivateKey(Ue);const Er=hasEvenY(Wt)?Ue:re-Ue;const Ar=await taggedHash("BIP0340/aux",Pt);const xr=Er^Ar;const kr=await taggedHash("BIP0340/nonce",numTo32b(xr),Wt.toRawX(),ae);const Pr=mod(kr,re);if(Pr===Oo)throw new Error("sign: Creation of signature failed. k is zero");const Br=Point.fromPrivateKey(Pr);const Mr=hasEvenY(Br)?Pr:re-Pr;const Or=await createChallenge(Br.x,Wt,ae);const Ir=new SchnorrSignature(Br.x,mod(Mr+Or*Er,re)).toRawBytes();const Nr=await schnorrVerify(Ir,ae,Wt.toRawX());if(!Nr)throw new Error("sign: Invalid signature produced");return Ir}async function schnorrVerify(a,C,q){const re=a instanceof SchnorrSignature;let ae;try{ae=re?a:SchnorrSignature.fromHex(a);if(re)ae.assertValidity()}catch(a){return false}const{r:Ue,s:Pt}=ae;const Wt=ensureBytes(C);let Er;try{Er=normalizePublicKey(q)}catch(a){return false}const Ar=await createChallenge(Ue,Er,Wt);const xr=Point.BASE.multiplyAndAddUnsafe(Er,normalizePrivateKey(Pt),mod(-Ar,Lo.n));if(!xr||!hasEvenY(xr)||xr.x!==Ue)return false;return true}const zo={Signature:SchnorrSignature,getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify};Point.BASE._setWindowSize(8);const Wo={node:oo,web:typeof self==="object"&&"crypto"in self?self.crypto:undefined};const Ko={isValidPrivateKey(a){try{normalizePrivateKey(a);return true}catch(a){return false}},hashToPrivateKey:a=>{a=ensureBytes(a);if(a.length<40||a.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const C=mod(bytesToNumber(a),Lo.n);if(C===Oo||C===Co)throw new Error("Invalid private key");return numTo32b(C)},randomBytes:(a=32)=>{if(Wo.web){return Wo.web.getRandomValues(new Uint8Array(a))}else if(Wo.node){const{randomBytes:C}=Wo.node;return Uint8Array.from(C(a))}else{throw new Error("The environment doesn't have randomBytes function")}},randomPrivateKey:()=>Ko.hashToPrivateKey(Ko.randomBytes(40)),bytesToHex:esm_bytesToHex,mod:mod,sha256:async a=>{if(Wo.web){const C=await Wo.web.subtle.digest("SHA-256",a.buffer);return new Uint8Array(C)}else if(Wo.node){const{createHash:C}=Wo.node;return Uint8Array.from(C("sha256").update(a).digest())}else{throw new Error("The environment doesn't have sha256 function")}},hmacSha256:async(a,...C)=>{if(Wo.web){const q=await Wo.web.subtle.importKey("raw",a,{name:"HMAC",hash:{name:"SHA-256"}},false,["sign"]);const re=esm_concatBytes(...C);const ae=await Wo.web.subtle.sign("HMAC",q,re);return new Uint8Array(ae)}else if(Wo.node){const{createHmac:q}=Wo.node;const re=q("sha256",a);C.forEach((a=>re.update(a)));return Uint8Array.from(re.digest())}else{throw new Error("The environment doesn't have hmac-sha256 function")}},sha256Sync:undefined,hmacSha256Sync:undefined,precompute(a=8,C=Point.BASE){const q=C===Point.BASE?C:new Point(C.x,C.y);q._setWindowSize(a);q.multiply(No);return q}};function privateToAddress(a){const C=getPublicKey(Buffer.from(a.replace(/^(0x)?/,""),"hex")).slice(1);const q=xo(C);const re="0x"+Buffer.from(q.slice(-20)).toString("hex");return getChecksumAddress(re)}function getChecksumAddress(a){a=a.toLowerCase();const C=a.substring(2).split("");const q=new Uint8Array(40);for(let a=0;a<40;a++){q[a]=C[a].charCodeAt(0)}const re=Array.from(xo(q));for(let a=0;a<40;a+=2){if(re[a>>1]>>4>=8){C[a]=C[a].toUpperCase()}if((re[a>>1]&15)>=8){C[a+1]=C[a+1].toUpperCase()}}return"0x"+C.join("")}async function update_feed_updateFeed(a,C,q,re,ae){const Ue=a.makeFeedTopic(C);const Pt=ae.replace(/^(0x)?/,"0x");const Wt=a.makeFeedWriter("sequence",Ue,Pt);await Wt.upload(re,q);return await a.createFeedManifest(re,"sequence",Ue,privateToAddress(Pt))}async function run(){const C=a.getInput("localRoot").replace(/\/$/,"");const q=a.getInput("gateway").replace(/\/$/,"");const re=a.getInput("defaultPath");const ae=a.getInput("errorPath");const Ue=a.getInput("batchId");const Pt=new Bee(q);let Wt=null;try{a.info("Uploading local folder to swarm...");const Er=await Pt.uploadFilesFromDirectory(Ue,C,{indexDocument:re,errorDocument:ae});Wt=Er.reference;a.info(`✅ App deployed to ${q}/bzz/${Wt}`)}catch(C){a.error("❌ Failed to upload to swarm");a.setFailed(C.message)}const Er=a.getInput("feedName");const Ar=a.getInput("feedUserPrivateKey");const xr=Er&&Ar;if(!xr)return;try{const C=await update_feed_updateFeed(Pt,Er,Wt,Ue,Ar);a.info(`✅ Feed updated. Url: ${q}/bzz/${C}`)}catch(C){a.error("❌ Failed to update feed");a.setFailed(C.message)}}run()})();module.exports=__webpack_exports__})();